(function(){"use strict";var e={2422:function(e,t,s){var a=s(3751),o=s(641),r=s(33);function l(e,t,s,a,l,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)(a.globalThemeClasses)},[(0,o.bF)(i)],2)}var n=s(6278),i={name:"App",setup(){const e=(0,n.Pj)(),t=(0,o.EW)((()=>{try{if(!e||!e.getters)return"bg-gray-900 text-white";const t=e.getters["app/getThemeClasses"];return t?.main||"bg-gray-900 text-white"}catch(t){return"bg-gray-900 text-white"}}));return(0,o.sV)((()=>{const t=e.getters["app/getTheme"];e.dispatch("app/applyTheme",t)})),{globalThemeClasses:t}}},c=s(6262);const d=(0,c.A)(i,[["render",l]]);var u=d,g=(s(8111),s(3579),s(5220));const m={class:"flex flex-col min-h-screen bg-gray-900 text-white",style:{"background-color":"#111827 !important",color:"white !important"}},p={class:"p-4 flex justify-between items-center"},b={class:"space-x-2"},f={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},x={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-6xl border border-gray-700"},y={class:"grid md:grid-cols-2 gap-6 sm:gap-8 mb-12"},v={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},h={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},k={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},w={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},L={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},C={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},S={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},E={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},_={class:"text-center"};function N(e,t,s,a,r,l){const n=(0,o.g2)("router-link"),i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("header",p,[t[2]||(t[2]=(0,o.Lk)("div",{class:"text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",b,[(0,o.bF)(n,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Sign In")]))),_:1,__:[0]}),(0,o.bF)(n,{to:"/signup",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Sign Up")]))),_:1,__:[1]})])]),(0,o.Lk)("main",f,[(0,o.Lk)("div",x,[t[12]||(t[12]=(0,o.Lk)("div",{class:"text-center mb-12"},[(0,o.Lk)("h1",{class:"text-3xl sm:text-4xl font-bold mb-4 text-white"},"SmartScribe: AI Study Helper"),(0,o.Lk)("p",{class:"text-lg sm:text-xl text-gray-400"},"Transform your study notes into digital content with OCR and AI")],-1)),(0,o.Lk)("div",y,[(0,o.Lk)("div",v,[(0,o.Lk)("div",h,[(0,o.bF)(i,{icon:["fas","camera"],class:"text-white text-xl sm:text-2xl"})]),t[3]||(t[3]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"OCR-based Note Scanning",-1)),t[4]||(t[4]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Take pictures of your handwritten or printed study notes and convert them to digital text instantly.",-1))]),(0,o.Lk)("div",k,[(0,o.Lk)("div",w,[(0,o.bF)(i,{icon:["fas","robot"],class:"text-white text-xl sm:text-2xl"})]),t[5]||(t[5]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"AI Summarization",-1)),t[6]||(t[6]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Generate concise summaries of your notes using advanced AI technology.",-1))]),(0,o.Lk)("div",L,[(0,o.Lk)("div",C,[(0,o.bF)(i,{icon:["fas","chart-line"],class:"text-white text-xl sm:text-2xl"})]),t[7]||(t[7]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"Study Progress Tracker",-1)),t[8]||(t[8]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Track how many notes you've scanned and reviewed to stay on top of your studies.",-1))]),(0,o.Lk)("div",S,[(0,o.Lk)("div",E,[(0,o.bF)(i,{icon:["fas","highlighter"],class:"text-white text-xl sm:text-2xl"})]),t[9]||(t[9]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"Keyword Highlighting",-1)),t[10]||(t[10]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Automatically highlight important terms and concepts in your notes.",-1))])]),(0,o.Lk)("div",_,[(0,o.bF)(n,{to:"/signup",class:"inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","rocket"]}),t[11]||(t[11]=(0,o.Lk)("span",null,"Get Started",-1))])),_:1,__:[11]})])])]),t[13]||(t[13]=(0,o.Lk)("footer",{class:"p-4 bg-gray-800 text-gray-400 flex justify-center items-center text-sm"},[(0,o.Lk)("div",null,"Â© 2025 SmartScribe Inc.")],-1))])}var A={name:"HomeView",mounted(){document.body.classList.add("loaded")}};const T=(0,c.A)(A,[["render",N],["__scopeId","data-v-076b6166"]]);var F=T;const z={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},P={class:"p-6 flex justify-between items-center"},R={class:"flex space-x-3"},I={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},Q={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},D={class:"flex justify-center mb-8"},q={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},O=["src"],U={key:0,class:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg mb-6"},X={class:"flex items-center"},j={class:"space-y-2"},M={class:"relative"},K={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},W={class:"space-y-2"},G={class:"relative"},$={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},V=["type"],H={class:"flex justify-end"},B=["disabled"],J={key:0,class:"flex items-center justify-center"},Y={key:1,class:"flex items-center justify-center"},Z={class:"grid grid-cols-3 gap-3 mb-8"},ee=["disabled"],te=["disabled"],se={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ae={class:"text-center"},oe={class:"text-gray-400 text-sm"};function re(e,t,s,l,n,i){const c=(0,o.g2)("router-link"),d=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",z,[(0,o.Lk)("header",P,[(0,o.bF)(c,{to:"/",class:"text-xl sm:text-2xl font-bold text-white hover:text-blue-400 transition-colors"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)(" SmartScribe ")]))),_:1,__:[6]}),(0,o.Lk)("div",R,[(0,o.bF)(c,{to:"/contact",class:"px-4 py-2 text-sm sm:text-base text-gray-400 hover:text-white transition-colors"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)(" Contact ")]))),_:1,__:[7]}),(0,o.bF)(c,{to:"/signup",class:"px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)(" Sign Up ")]))),_:1,__:[8]})])]),(0,o.Lk)("main",I,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",D,[(0,o.Lk)("div",q,[(0,o.Lk)("img",{src:l.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,O)])]),t[16]||(t[16]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Welcome Back"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Sign in to your SmartScribe account")],-1)),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("div",X,[(0,o.bF)(d,{icon:["fas","exclamation-circle"],class:"mr-2"}),(0,o.Lk)("span",null,(0,r.v_)(l.errorMessage),1)])])):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",j,[t[9]||(t[9]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",M,[(0,o.Lk)("div",K,[(0,o.bF)(d,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.email]])])]),(0,o.Lk)("div",W,[t[10]||(t[10]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," Password ",-1)),(0,o.Lk)("div",G,[(0,o.Lk)("div",$,[(0,o.bF)(d,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",type:l.passwordVisible?"text":"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"Enter your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,V),[[a.hp,l.password]]),(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=e=>l.passwordVisible=!l.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(d,{icon:["fas",l.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("div",H,[(0,o.bF)(c,{to:"/forgot-password",class:"text-sm text-blue-400 hover:text-blue-300 hover:underline transition-colors"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)(" Forgot your password? ")]))),_:1,__:[11]})]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:l.isLoading},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",J,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[12]||(t[12]=(0,o.eW)(" Signing in... "))])):((0,o.uX)(),(0,o.CE)("span",Y,[(0,o.bF)(d,{icon:["fas","sign-in-alt"],class:"mr-2"}),t[13]||(t[13]=(0,o.eW)(" Sign In "))]))],8,B)],32),t[17]||(t[17]=(0,o.Fv)('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-gray-800 text-gray-400">Or continue with</span></div></div>',1)),(0,o.Lk)("div",Z,[(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.handleGoogleLogin&&l.handleGoogleLogin(...e)),class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200",disabled:l.isLoading},[(0,o.bF)(d,{icon:["fab","google"],class:"text-red-400 text-lg"})],8,ee),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.handleFacebookLogin&&l.handleFacebookLogin(...e)),class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200",disabled:l.isLoading},[(0,o.bF)(d,{icon:["fab","facebook-f"],class:"text-blue-400 text-lg"})],8,te),(0,o.Lk)("button",se,[(0,o.bF)(d,{icon:["fab","apple"],class:"text-gray-300 text-lg"})])]),(0,o.Lk)("div",ae,[(0,o.Lk)("p",oe,[t[15]||(t[15]=(0,o.eW)(" Don't have an account? ")),(0,o.bF)(c,{to:"/signup",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[14]||(t[14]=[(0,o.eW)(" Sign up for free ")]))),_:1,__:[14]})])])])]),t[18]||(t[18]=(0,o.Fv)('<footer class="p-6 text-center text-gray-400 text-sm"><div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6"><a href="#" class="hover:text-gray-300 transition-colors">Privacy Policy</a><a href="#" class="hover:text-gray-300 transition-colors">Terms of Service</a><a href="#" class="hover:text-gray-300 transition-colors">Help Center</a></div><div class="mt-4 text-gray-500"> Â© 2025 SmartScribe. All rights reserved. </div></footer>',1))])}s(4114);var le=s.p+"img/logo.9fa07118.jpg",ne=s(953),ie={name:"LoginView",setup(){const e=(0,g.rd)(),t=(0,n.Pj)(),s=(0,ne.KR)(""),a=(0,ne.KR)(""),o=(0,ne.KR)(!1),r=(0,ne.KR)(""),l=(0,ne.KR)(!1),i=async()=>{try{o.value=!0,r.value="",console.log("ðŸ” LoginView handleLogin called with:",{email:s.value,passwordLength:a.value?a.value.length:0,emailValid:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value),hasCredentials:!(!s.value||!a.value)}),await t.dispatch("auth/login",{email:s.value,password:a.value}),console.log("ðŸ” Login successful - Redirecting to dashboard"),e.push("/dashboard")}catch(l){console.error("âŒ LoginView login failed:",{message:l.message,stack:l.stack,name:l.name}),r.value=l.message||"Failed to login. Please try again."}finally{o.value=!1}},c=async()=>{try{if(console.log("ðŸ” Attempting Google login with Google Identity Services"),o.value=!0,r.value="",!window.google||!window.google.accounts)return r.value="Google Sign-In is not available. Please refresh the page and try again.",void(o.value=!1);const s="your_production_google_oauth_client_id_here";if("your_production_google_oauth_client_id"===s)return r.value="Google OAuth client ID not configured. Please check your environment variables.",void(o.value=!1);const a=window.google.accounts.oauth2.initTokenClient({client_id:s,scope:"openid email profile",callback:async s=>{if(s.error)return console.error("âŒ Google OAuth error:",s),r.value="Google login failed. Please try again.",void(o.value=!1);try{console.log("ðŸ” Google OAuth successful, sending to backend"),await t.dispatch("auth/googleLogin",s.access_token),console.log("ðŸ” Google login successful - Redirecting to dashboard"),e.push("/dashboard")}catch(a){console.error("âŒ Backend Google login failed:",a),r.value=a.message||"Failed to authenticate with Google. Please try again."}finally{o.value=!1}}});a.requestAccessToken()}catch(s){console.error("âŒ Google login failed:",s),r.value=s.message||"Google login failed. Please try again.",o.value=!1}},d=async()=>{try{console.log("ðŸ” Attempting Facebook login"),o.value=!0,r.value="",alert("Facebook login is not currently supported. Please use email/password login.")}catch(e){console.error("âŒ Facebook login failed:",e),r.value=e.message||"Facebook login failed. Please try again.",o.value=!1}};return{email:s,password:a,isLoading:o,errorMessage:r,handleLogin:i,handleGoogleLogin:c,handleFacebookLogin:d,passwordVisible:l,logo:le}}};const ce=(0,c.A)(ie,[["render",re]]);var de=ce;const ue={class:"flex flex-grow transition-all duration-300"},ge={class:"space-y-2"},me={key:1,class:"fixed top-5 right-5 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-opacity duration-300"},pe={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},be={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4"},fe={class:"text-xl font-semibold mb-4"},xe={class:"mb-4"},ye={class:"mb-4"},ve={class:"bg-gray-700 p-3 rounded-md max-h-32 overflow-y-auto text-sm text-gray-300"},he={key:0,class:"flex items-center space-x-2"},ke={key:1},we={key:2},Le={class:"flex justify-end space-x-3"},Ce=["disabled"],Se=["disabled"],Ee={key:0,class:"flex items-center space-x-2"},_e={key:1},Ne={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ae={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},Te={class:"flex items-center mb-4"},Fe={class:"text-gray-300 mb-6"},ze={class:"flex justify-end space-x-3"},Pe={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Re={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},Ie={class:"flex items-center mb-4"},Qe={class:"flex flex-col items-center mb-6"},De=["src"],qe={class:"space-y-4"},Oe={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Ue={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Xe={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},je={class:"flex justify-end space-x-3 mt-6"},Me={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 md:gap-6 mb-6"},Ke={class:"flex justify-between items-center mb-2"},We={key:0,class:"animate-pulse"},Ge={key:1},$e={class:"text-3xl font-bold"},Ve={class:"text-sm text-gray-400"},He={class:"flex justify-between items-center mb-2"},Be={key:0,class:"animate-pulse"},Je={key:1},Ye={class:"text-3xl font-bold"},Ze={class:"flex justify-between items-center mb-2"},et={key:0,class:"animate-pulse"},tt={key:1},st={class:"text-3xl font-bold"},at={class:"flex justify-between items-center mb-2"},ot={key:0,class:"animate-pulse"},rt={key:1},lt={class:"text-3xl font-bold"},nt={class:"flex justify-between items-center mb-2"},it={key:0,class:"animate-pulse"},ct={key:1},dt={class:"text-3xl font-bold"},ut={class:"mb-4"},gt={class:"space-y-4"},mt={class:"flex justify-between items-center mt-1"},pt={class:"flex items-center"},bt={class:"flex justify-center space-x-2"},ft=["disabled"],xt={ref:"video",autoplay:"",class:"w-full rounded"},yt={class:"flex justify-center space-x-2 mt-2"},vt={class:"flex justify-center pt-2"},ht=["disabled"],kt={class:"flex justify-between items-center mb-6"},wt={class:"flex items-center space-x-3"},Lt={class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},Ct={key:0,class:"text-center py-12"},St={class:"inline-flex items-center space-x-3"},Et={key:1,class:"space-y-4"},_t={class:"flex items-start justify-between mb-3"},Nt=["onClick"],At={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200"},Tt={class:"flex-grow min-w-0"},Ft={class:"font-semibold text-white group-hover:text-blue-400 transition-colors duration-200 truncate"},zt={class:"flex items-center space-x-3 mt-1"},Pt={class:"flex items-center space-x-1 text-gray-400 text-xs"},Rt={class:"flex items-center space-x-1 text-gray-400 text-xs"},It={class:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Qt=["onClick"],Dt=["onClick"],qt={class:"ml-14"},Ot={class:"text-sm text-gray-300 line-clamp-2 leading-relaxed"},Ut={class:"flex items-center justify-between mt-4"},Xt={class:"flex flex-wrap gap-2"},jt={key:0,class:"px-3 py-1 bg-gray-700/50 text-gray-500 rounded-full text-xs"},Mt={class:"flex items-center space-x-1 text-gray-500 text-xs"},Kt={key:2,class:"text-center py-12"},Wt={class:"max-w-md mx-auto"},Gt={class:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-600 rounded-full flex items-center justify-center mx-auto mb-6"},$t={class:"flex flex-col sm:flex-row gap-3 justify-center"};function Vt(e,t,s,l,n,i){const c=(0,o.g2)("AppHeader"),d=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)([l.themeClasses.main,"min-h-screen flex flex-col"])},[(0,o.bF)(c,{onToggleSidebar:l.handleSidebarToggle,onOpenProfileModal:l.openProfileModal},null,8,["onToggleSidebar","onOpenProfileModal"]),(0,o.Lk)("div",ue,[l.sidebarVisible?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,r.C4)(["w-64 p-4 transition-all duration-300 ease-in-out",l.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",ge,[(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/dashboard",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","home"]}),t[18]||(t[18]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[18]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/notes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","book"]}),t[19]||(t[19]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[19]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/quizzes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","book"]}),t[20]||(t[20]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[20]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/progress",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","chart-line"]}),t[21]||(t[21]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[21]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/settings",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","cog"]}),t[22]||(t[22]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[22]},8,["class"])])])])],2)):(0,o.Q3)("",!0),l.showSaveConfirmation?((0,o.uX)(),(0,o.CE)("div",me," âœ… Summary saved successfully! ")):(0,o.Q3)("",!0),l.showTitleModal?((0,o.uX)(),(0,o.CE)("div",pe,[(0,o.Lk)("div",be,[(0,o.Lk)("h3",fe,(0,r.v_)(l.pendingImageData&&"quick_note"===l.pendingImageData.type?"Save Quick Note":"Add Note Title"),1),(0,o.Lk)("div",xe,[t[23]||(t[23]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Title",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.noteTitle=e),type:"text",placeholder:"Enter a title for your note...",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:t[1]||(t[1]=(0,a.jR)(((...e)=>l.saveNoteWithTitle&&l.saveNoteWithTitle(...e)),["enter"]))},null,544),[[a.Jo,l.noteTitle]])]),(0,o.Lk)("div",ye,[t[25]||(t[25]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Preview",-1)),(0,o.Lk)("div",ve,[l.isProcessingFile?((0,o.uX)(),(0,o.CE)("div",he,[(0,o.bF)(d,{icon:["fas","spinner"],class:"animate-spin"}),t[24]||(t[24]=(0,o.Lk)("span",null,"Processing file...",-1))])):l.pendingImageData&&"quick_note"===l.pendingImageData.type?((0,o.uX)(),(0,o.CE)("div",ke,(0,r.v_)(l.pendingImageData.content.substring(0,200))+(0,r.v_)(l.pendingImageData.content.length>200?"...":""),1)):((0,o.uX)(),(0,o.CE)("div",we,(0,r.v_)(l.ocrText?l.ocrText.substring(0,200):"No text extracted")+(0,r.v_)(l.ocrText&&l.ocrText.length>200?"...":""),1))])]),(0,o.Lk)("div",Le,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.cancelTitleInput&&l.cancelTitleInput(...e)),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:l.isProcessingFile}," Cancel ",8,Ce),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>l.saveNoteWithTitle&&l.saveNoteWithTitle(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:!l.noteTitle.trim()||l.isProcessingFile},[l.isProcessingFile?((0,o.uX)(),(0,o.CE)("span",Ee,[(0,o.bF)(d,{icon:["fas","spinner"],class:"animate-spin"}),t[26]||(t[26]=(0,o.Lk)("span",null,"Saving...",-1))])):((0,o.uX)(),(0,o.CE)("span",_e,(0,r.v_)(l.pendingImageData&&"quick_note"===l.pendingImageData.type?"Save Quick Note":"Save Note"),1))],8,Se)])])])):(0,o.Q3)("",!0),l.showDeleteModal?((0,o.uX)(),(0,o.CE)("div",Ne,[(0,o.Lk)("div",Ae,[(0,o.Lk)("div",Te,[(0,o.bF)(d,{icon:["fas","times"],class:"text-red-400 text-xl mr-3"}),t[27]||(t[27]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"Delete Note",-1))]),(0,o.Lk)("p",Fe,[t[28]||(t[28]=(0,o.eW)(' Are you sure you want to delete "')),(0,o.Lk)("strong",null,(0,r.v_)(l.noteToDelete.title),1),t[29]||(t[29]=(0,o.eW)('"? This action cannot be undone. '))]),(0,o.Lk)("div",ze,[(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.deleteNote&&l.deleteNote(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"}," Delete ")])])])):(0,o.Q3)("",!0),l.showProfileModal?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Lk)("div",Re,[(0,o.Lk)("div",Ie,[(0,o.bF)(d,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[30]||(t[30]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",Qe,[(0,o.Lk)("div",{class:(0,r.C4)(["w-24 h-24 rounded-full overflow-hidden mb-3",l.themeClasses.input])},[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[6]||(t[6]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[7]||(t[7]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,De)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["w-full h-full flex items-center justify-center",l.themeClasses.input])},[(0,o.bF)(d,{icon:["fas","user"],class:(0,r.C4)([l.themeClasses.text,"text-2xl"])},null,8,["class"])],2))],2),t[31]||(t[31]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",qe,[(0,o.Lk)("div",null,[t[32]||(t[32]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",Oe,(0,r.v_)(l.user?.firstName&&l.user?.lastName?`${l.user.firstName} ${l.user.lastName}`:l.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[33]||(t[33]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",Ue,(0,r.v_)(l.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[34]||(t[34]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",Xe,(0,r.v_)(l.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",je,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.closeProfileModal&&l.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0),(0,o.Lk)("main",{class:(0,r.C4)([l.themeClasses.mainContent,"flex-1 p-4 md:p-6 transition-all duration-300 ease-in-out"])},[t[50]||(t[50]=(0,o.Lk)("div",{class:"flex justify-between items-center mb-6"},[(0,o.Lk)("h1",{class:"text-2xl font-bold"},"Dashboard"),(0,o.Lk)("div",{class:"flex items-center space-x-4"})],-1)),(0,o.Lk)("div",Me,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Ke,[t[35]||(t[35]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Total Notes",-1)),(0,o.bF)(d,{icon:["fas","book"],class:"text-blue-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",We,t[36]||(t[36]=[(0,o.Lk)("div",{class:"h-8 bg-gray-700 rounded mb-2"},null,-1),(0,o.Lk)("div",{class:"h-4 bg-gray-700 rounded w-3/4"},null,-1)]))):((0,o.uX)(),(0,o.CE)("div",Ge,[(0,o.Lk)("p",$e,(0,r.v_)(l.stats.totalNotes),1),(0,o.Lk)("p",Ve,(0,r.v_)(l.stats.notesThisWeek)+" new this week",1)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",He,[t[37]||(t[37]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Study Time",-1)),(0,o.bF)(d,{icon:["fas","clock"],class:"text-green-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",Be,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",Je,[(0,o.Lk)("p",Ye,(0,r.v_)(l.stats.studyHours)+"h",1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},(0,r.v_)(l.stats.studyHoursThisWeek)+"h this week",3),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-xs mt-1"])},(0,r.v_)(l.stats.totalNotesStudied)+" notes studied",3)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Ze,[t[38]||(t[38]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Quiz Score",-1)),(0,o.bF)(d,{icon:["fas","check-circle"],class:"text-yellow-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",et,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",tt,[(0,o.Lk)("p",st,(0,r.v_)(l.stats.quizAverage)+"%",1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},(0,r.v_)(l.stats.totalQuizzesTaken)+" quizzes taken",3)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",at,[t[39]||(t[39]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Goals",-1)),(0,o.bF)(d,{icon:["fas","bullseye"],class:"text-purple-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",ot,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",rt,[(0,o.Lk)("p",lt,(0,r.v_)(l.stats.activeGoals),1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},(0,r.v_)(l.stats.completedGoals)+" completed this month",3)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",nt,[t[40]||(t[40]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Study Streak",-1)),(0,o.bF)(d,{icon:["fas","fire"],class:"text-orange-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",it,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",ct,[(0,o.Lk)("p",dt,(0,r.v_)(l.stats.studyStreak),1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},"days in a row",2)]))],2)]),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-4 mb-4"])},[(0,o.Lk)("div",ut,[(0,o.Lk)("h2",{class:(0,r.C4)(["text-base font-medium",l.themeClasses.text])},"Create New Note",2)]),(0,o.Lk)("div",gt,[(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.quickNoteContent=e),placeholder:"Type your notes here...",class:(0,r.C4)(["w-full h-24 px-3 py-2 border rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent resize-none text-sm transition-colors",l.themeClasses.input])},null,2),[[a.Jo,l.quickNoteContent]]),(0,o.Lk)("div",mt,[(0,o.Lk)("span",{class:(0,r.C4)(["text-xs",l.themeClasses.secondaryText])},(0,r.v_)(l.quickNoteContent.length),3),l.quickNoteContent.trim()?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[10]||(t[10]=(...e)=>l.clearQuickNote&&l.clearQuickNote(...e)),class:(0,r.C4)(["text-xs",l.themeClasses.secondaryText])}," Clear ",2)):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",pt,[(0,o.Lk)("div",{class:(0,r.C4)(["flex-1 border-t","dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-600":"border-gray-300"])},null,2),(0,o.Lk)("span",{class:(0,r.C4)(["px-2 text-xs",l.themeClasses.secondaryText])},"or",2),(0,o.Lk)("div",{class:(0,r.C4)(["flex-1 border-t","dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-600":"border-gray-300"])},null,2)]),(0,o.Lk)("div",bt,[(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>l.openCamera&&l.openCamera(...e)),class:(0,r.C4)(["px-3 py-2 border rounded text-sm transition-colors",["dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"]])},[(0,o.bF)(d,{icon:["fas","camera"],class:"mr-1"}),t[41]||(t[41]=(0,o.eW)(" Photo "))],2),(0,o.Lk)("label",{class:(0,r.C4)(["px-3 py-2 border rounded text-sm transition-colors cursor-pointer",["dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"]])},[l.isProcessingFile?((0,o.uX)(),(0,o.Wv)(d,{key:0,icon:["fas","spinner"],class:"animate-spin mr-1"})):((0,o.uX)(),(0,o.Wv)(d,{key:1,icon:["fas","upload"],class:"mr-1"})),(0,o.Lk)("span",null,(0,r.v_)(l.isProcessingFile?"Processing...":"Upload"),1),(0,o.Lk)("input",{type:"file",class:"hidden",onChange:t[12]||(t[12]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e)),accept:"image/*",disabled:l.isProcessingFile},null,40,ft)],2)]),l.showCamera?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,r.C4)(["mt-3 p-3 rounded border",["dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-800 border-gray-600":"bg-gray-50 border-gray-200"]])},[(0,o.Lk)("video",xt,null,512),(0,o.Lk)("div",yt,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>l.capturePhoto&&l.capturePhoto(...e)),class:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors"}," Capture "),(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>l.closeCamera&&l.closeCamera(...e)),class:(0,r.C4)(["px-3 py-1 text-sm rounded transition-colors",["dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-300 text-gray-700 hover:bg-gray-400"]])}," Cancel ",2)])],2)):(0,o.Q3)("",!0),(0,o.Lk)("div",vt,[(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>l.createQuickNote&&l.createQuickNote(...e)),disabled:!l.canCreateNote,class:(0,r.C4)(["px-4 py-2 rounded font-medium transition-colors text-sm",l.canCreateNote?"bg-blue-600 text-white hover:bg-blue-700":"dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed"])},[l.isProcessingFile?((0,o.uX)(),(0,o.Wv)(d,{key:0,icon:["fas","spinner"],class:"animate-spin mr-2"})):((0,o.uX)(),(0,o.Wv)(d,{key:1,icon:["fas","plus"],class:"mr-2"})),(0,o.Lk)("span",null,(0,r.v_)(l.isProcessingFile?"Processing...":"Create"),1)],10,ht)])])],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",kt,[(0,o.Lk)("div",wt,[(0,o.Lk)("div",Lt,[(0,o.bF)(d,{icon:["fas","clock"],class:"text-white text-sm"})]),t[42]||(t[42]=(0,o.Lk)("h2",{class:"text-xl font-semibold"},"Recent Notes",-1))]),(0,o.bF)(u,{to:"/notes",class:"flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors duration-200"},{default:(0,o.k6)((()=>[t[43]||(t[43]=(0,o.Lk)("span",{class:"text-sm font-medium"},"View All",-1)),(0,o.bF)(d,{icon:["fas","arrow-right"],class:"text-xs"})])),_:1,__:[43]})]),l.loadingNotes?((0,o.uX)(),(0,o.CE)("div",Ct,[(0,o.Lk)("div",St,[(0,o.bF)(d,{icon:["fas","spinner"],class:"animate-spin text-2xl text-blue-400"}),t[44]||(t[44]=(0,o.Lk)("p",{class:"text-gray-400"},"Loading your recent notes...",-1))])])):l.recentNotes.length>0?((0,o.uX)(),(0,o.CE)("div",Et,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.recentNotes,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id||s,class:"group relative bg-gradient-to-r from-gray-800 to-gray-750 rounded-xl p-5 border border-gray-700 hover:border-gray-600 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20 transform hover:-translate-y-0.5"},[(0,o.Lk)("div",_t,[(0,o.Lk)("div",{class:"flex items-start space-x-4 flex-grow cursor-pointer",onClick:t=>l.viewNote(e.id)},[(0,o.Lk)("div",At,[(0,o.bF)(d,{icon:["fas","file-alt"],class:"text-white text-sm"})]),(0,o.Lk)("div",Tt,[(0,o.Lk)("h3",Ft,(0,r.v_)(e.title),1),(0,o.Lk)("div",zt,[(0,o.Lk)("div",Pt,[(0,o.bF)(d,{icon:["fas","clock"]}),(0,o.Lk)("span",null,(0,r.v_)(l.getTimeAgo(e.createdAt)),1)]),(0,o.Lk)("div",Rt,[(0,o.bF)(d,{icon:["fas","align-left"]}),(0,o.Lk)("span",null,(0,r.v_)(e.wordCount)+" words",1)])])])],8,Nt),(0,o.Lk)("div",It,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.editNote(e.id)),["stop"]),class:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit note"},[(0,o.bF)(d,{icon:["fas","edit"],class:"text-sm"})],8,Qt),(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.confirmDelete(e.id,e.title)),["stop"]),class:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete note"},[(0,o.bF)(d,{icon:["fas","trash"],class:"text-sm"})],8,Dt)])]),(0,o.Lk)("div",qt,[(0,o.Lk)("p",Ot,(0,r.v_)(e.summary),1),(0,o.Lk)("div",Ut,[(0,o.Lk)("div",Xt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tags,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-3 py-1 bg-gradient-to-r from-gray-700 to-gray-600 text-gray-300 rounded-full text-xs font-medium border border-gray-600"},(0,r.v_)(e),1)))),128)),0===e.tags.length?((0,o.uX)(),(0,o.CE)("span",jt," No tags ")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Mt,[(0,o.bF)(d,{icon:["fas","eye"]}),(0,o.Lk)("span",null,(0,r.v_)(e.readingTime)+" min read",1)])])]),t[45]||(t[45]=(0,o.Lk)("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"},null,-1))])))),128))])):((0,o.uX)(),(0,o.CE)("div",Kt,[(0,o.Lk)("div",Wt,[(0,o.Lk)("div",Gt,[(0,o.bF)(d,{icon:["fas","book-open"],class:"text-3xl text-gray-400"})]),t[48]||(t[48]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-white mb-2"},"No notes yet",-1)),t[49]||(t[49]=(0,o.Lk)("p",{class:"text-gray-400 mb-6 leading-relaxed"}," Start building your knowledge base by scanning your first note, uploading images with OCR text extraction, or creating one from scratch. ",-1)),(0,o.Lk)("div",$t,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all duration-200 transform hover:scale-105"},[(0,o.bF)(d,{icon:["fas","camera"]}),t[46]||(t[46]=(0,o.Lk)("span",null,"Scan Note",-1))]),(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.createNewNote&&l.createNewNote(...e)),class:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500 text-white rounded-lg transition-all duration-200"},[(0,o.bF)(d,{icon:["fas","plus"]}),t[47]||(t[47]=(0,o.Lk)("span",null,"Create Note",-1))])])])]))],2)],2)])],2)}s(2489),s(7588),s(1701);var Ht=s(4848),Bt=s.n(Ht);function Jt(){const e=(0,ne.KR)(!1),t=(0,ne.KR)([]),s=(0,ne.KR)(!1),a=(0,ne.KR)(null),r={SUCCESS:{icon:["fas","check-circle"],color:"text-green-400",bgColor:"bg-green-500"},ERROR:{icon:["fas","triangle-exclamation"],color:"text-red-400",bgColor:"bg-red-500"},WARNING:{icon:["fas","exclamation-circle"],color:"text-yellow-400",bgColor:"bg-yellow-500"},INFO:{icon:["fas","info-circle"],color:"text-blue-400",bgColor:"bg-blue-500"},NOTE_CREATED:{icon:["fas","file-alt"],color:"text-purple-400",bgColor:"bg-purple-500"},NOTE_UPDATED:{icon:["fas","edit"],color:"text-indigo-400",bgColor:"bg-indigo-500"},GOAL_ACHIEVED:{icon:["fas","trophy"],color:"text-yellow-500",bgColor:"bg-yellow-600"},SYSTEM:{icon:["fas","cog"],color:"text-gray-400",bgColor:"bg-gray-500"}},l=(0,o.EW)((()=>t.value.filter((e=>!e.read)).length)),n=()=>{try{const e=localStorage.getItem("smartscribe_notifications");if(e){const s=JSON.parse(e);t.value=s.map((e=>({...e,timestamp:new Date(e.timestamp)})))}else d({type:"INFO",title:"Welcome to SmartScribe!",message:"Start by scanning your first note or creating a new one.",actions:[{label:"Get Started",action:"navigate",data:"/dashboard"}]})}catch(e){console.error("Error loading notifications:",e)}},i=()=>{try{localStorage.setItem("smartscribe_notifications",JSON.stringify(t.value))}catch(e){console.error("Error saving notifications:",e)}},c=e=>{const t=new Date,s=t-e,a=Math.floor(s/6e4),o=Math.floor(s/36e5),r=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a}m ago`:o<24?`${o}h ago`:r<7?`${r}d ago`:e.toLocaleDateString()},d=e=>{const s=r[e.type]||r.INFO,a={id:Date.now()+Math.random(),timestamp:new Date,read:!1,priority:e.priority||"normal",category:e.category||"general",actions:e.actions||[],persistent:e.persistent||!1,...s,...e};return a.time=c(a.timestamp),t.value.unshift(a),t.value.length>50&&(t.value=t.value.slice(0,50)),i(),"low"===a.priority&&setTimeout((()=>{L(a)}),3e4),a},u=(e,t,s={})=>d({type:"SUCCESS",title:e,message:t,...s}),g=(e,t,s={})=>d({type:"ERROR",title:e,message:t,priority:"high",...s}),m=(e,t,s={})=>d({type:"WARNING",title:e,message:t,...s}),p=(e,t,s={})=>d({type:"INFO",title:e,message:t,...s}),b=e=>d({type:"NOTE_CREATED",title:"Note Created",message:`"${e}" has been created successfully.`,actions:[{label:"View Note",action:"navigate",data:`/notes/${e}`}]}),f=e=>d({type:"NOTE_UPDATED",title:"Note Updated",message:`"${e}" has been updated.`,priority:"low"}),x=e=>d({type:"GOAL_ACHIEVED",title:"Goal Achieved! ðŸŽ‰",message:`Congratulations! You've completed "${e}".`,persistent:!0,actions:[{label:"Set New Goal",action:"navigate",data:"/progress"}]}),y=e=>d({type:"SYSTEM",title:"System Update",message:e,priority:"low"}),v=()=>{s.value||(s.value=!0,a.value=setInterval((async()=>{try{const e=Math.random()<.1;if(e&&t.value.length<10){const e=[{type:"INFO",title:"System Status",message:"All systems are running smoothly.",priority:"low"},{type:"SUCCESS",title:"Backup Complete",message:"Your data has been backed up successfully.",priority:"low"},{type:"WARNING",title:"Storage Update",message:`You have used ${Math.floor(20*Math.random()+60)}% of your storage.`,priority:"normal",actions:[{label:"Manage Storage",action:"navigate",data:"/settings"}]}],t=e[Math.floor(Math.random()*e.length)];d({...t,silent:!0})}}catch(e){console.debug("Notification polling failed:",e.message)}}),3e4))},h=()=>{a.value&&(clearInterval(a.value),a.value=!1),s.value=!1},k=()=>{e.value=!e.value},w=()=>{e.value=!1},L=e=>{e.read=!0,i()},C=()=>{t.value.forEach((e=>{e.read=!0})),i()},S=e=>{const s=t.value.findIndex((t=>t.id===e));s>-1&&(t.value.splice(s,1),i())},E=()=>{t.value=[],i()},_=(e,t)=>{switch(t.action){case"navigate":t.data.startsWith("/")?window.location.href=t.data:window.open(t.data,"_blank");break;case"dismiss":S(e.id);break;case"callback":"function"===typeof t.callback&&t.callback(e);break;case"markAsRead":L(e);break}},N=()=>{t.value.forEach((e=>{e.time=c(e.timestamp)}))};return(0,o.sV)((()=>{n(),v(),N();const e=setInterval(N,6e4);(0,o.hi)((()=>{h(),clearInterval(e)}))})),{showNotifications:e,notifications:t,unreadNotifications:l,toggleNotifications:k,closeNotifications:w,markAsRead:L,markAllAsRead:C,removeNotification:S,clearAllNotifications:E,addNotification:d,showSuccess:u,showError:g,showWarning:m,showInfo:p,notifyNoteCreated:b,notifyNoteUpdated:f,notifyGoalAchieved:x,notifySystemUpdate:y,executeAction:_,startPolling:v,stopPolling:h}}var Yt=s(4335);s(4979);function Zt(e){if(!e)return!0;try{const t=JSON.parse(atob(e.split(".")[1])),s=1e3*t.exp;return Date.now()>s}catch(t){return console.warn("Invalid token detected, clearing from localStorage"),localStorage.removeItem("token"),localStorage.removeItem("user"),!0}}const es=Yt.A.create({baseURL:"/",timeout:1e4,headers:{"Content-Type":"application/json"}});es.interceptors.request.use((e=>{const t=localStorage.getItem("token");t&&!Zt(t)&&(e.headers.Authorization=`Bearer ${t}`);const s=localStorage.getItem("user");if(s)try{const t=JSON.parse(s);t&&t.id&&(e.headers["X-User-ID"]=t.id)}catch(a){}return e.data instanceof FormData?delete e.headers["Content-Type"]:e.data&&"object"===typeof e.data&&(e.headers["Content-Type"]="application/json"),console.log("API Request URL:",e.baseURL+e.url),console.log("API Request Method:",e.method),console.log("API Request Headers:",e.headers),e})),es.interceptors.response.use((e=>(console.log("âœ… API Response:",e.config.method?.toUpperCase(),e.config.url,"- Status:",e.status),e)),(e=>(console.error("âŒ API Error:",e.config?.method?.toUpperCase(),e.config?.url),e.response?(console.error("âŒ Response status:",e.response.status),console.error("âŒ Response data:",e.response.data)):e.request?console.error("âŒ No response received:",e.request):console.error("âŒ Request setup error:",e.message),Promise.reject(e))));var ts={login(e){return es.post("?resource=auth&action=login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},googleLogin(e){return es.post("?resource=auth&action=google",JSON.stringify({access_token:e}),{headers:{"Content-Type":"application/json"}})},requestPasswordReset(e){const t=new FormData;return t.append("email",e),es.post("?resource=auth&action=request-password-reset",t)},resetPassword(e,t){const s=new FormData;return s.append("token",e),s.append("password",t),es.post("?resource=auth&action=reset-password",s)},validateResetToken(e){return es.get(`?resource=auth&action=validate-reset-token&token=${encodeURIComponent(e)}`)},register(e){return es.post("?resource=auth&action=register",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},logout(){return es.post("?resource=auth&action=logout")},updatePassword(e){return es.put("?resource=auth&action=update-password",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},getUser(){return es.get("?resource=auth&action=profile")},updateProfile(e){return es.put("?resource=auth&action=profile",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},uploadProfilePicture(e){return es.post("?resource=auth&action=upload-profile-picture",e)},getNotes(){return es.get("?resource=notes")},getNote(e){return es.get(`?resource=notes&id=${e}`)},createNote(e){if(e.image&&e.image instanceof File){const t=new FormData;return t.append("title",e.title),t.append("text",e.text),t.append("image",e.image),es.post("?resource=notes",t)}return es.post("?resource=notes",{title:e.title,text:e.text})},updateNote(e,t){const s=new FormData;return s.append("title",t.title),s.append("text",t.text),t.summary&&s.append("summary",t.summary),t.keywords&&s.append("keywords",t.keywords),es.post(`?resource=notes&id=${e}`,s)},deleteNote(e){return es.delete(`?resource=notes&id=${e}`)},ocr:{processImage(e){return es.post("?resource=ocr&action=processImage",e)}},generateSummary(e,t){return es.post(`?resource=summaries&action=generate&note_id=${e}`,t)},getSummaries(){return es.get("?resource=summaries")},getSummary(e){return es.get(`?resource=summaries&id=${e}`)},createSummary(e,t){return es.post("?resource=summaries",{note_id:e,format:"paragraph",...t})},getProgressStats(){return es.get("?resource=progress&action=stats")},progress:{startStudySession(e){return es.post("?resource=progress&action=startStudySession",e)},endStudySession(e){return es.post("?resource=progress&action=endStudySession",e)},getStats(){return es.get("?resource=progress&action=stats")}},getDashboardStats(){return es.get("?resource=dashboard&action=stats")},getSettings(){return es.get("?resource=settings")},updateSettings(e){return es.put("?resource=settings",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},gpt:{generateSummary(e,t={length:"medium"}){return es.post("?resource=gpt&action=generateSummary",{text:e,...t})},generateQuiz(e,t={difficulty:"medium",questionCount:5}){return es.post("?resource=gpt&action=generateQuiz",{text:e,...t})},extractKeywords(e,t=5){return es.post("?resource=gpt&action=extractKeywords",{text:e,count:t})}},getQuizzes(){return es.get("?resource=quizzes")},getQuiz(e){return es.get(`?resource=quizzes&id=${e}`)},createQuiz(e,t){return es.post("?resource=quizzes",{note_id:e,...t})},updateQuiz(e,t){return es.put(`?resource=quizzes&id=${e}`,t)},deleteQuiz(e){return es.delete(`?resource=quizzes&id=${e}`)},generateQuiz(e,t){return es.post(`?resource=quizzes&action=generate&note_id=${e}`,t)},saveQuiz(e){return es.post("?resource=quizzes",e)},exportNote(e,t){return es.get(`?resource=export&id=${e}&format=${t}`,{responseType:"blob"})}};const ss=(0,ne.KR)(null),as=(0,ne.KR)(!1),os=(0,ne.KR)(null);function rs(){const e=ss,t=as,s=os,a=e=>{if(!e)return null;if(console.log("ðŸ” getProfilePictureUrl called with:",e),e.includes("googleusercontent.com")||e.startsWith("https://lh3.googleusercontent.com")||e.startsWith("https://"))return console.log("âœ… GOOGLE URL DETECTED - RETURNING UNCHANGED:",e),e;const t=Date.now(),s=e.startsWith("/")?e:`/${e}`,a=`${s}?t=${t}`;return console.log("ðŸ“ LOCAL PATH PROCESSED:",a),a},r=async()=>{try{t.value=!0,s.value=null;const r=localStorage.getItem("user");if(r)try{const t=JSON.parse(r);e.value={id:t.id,name:t.name||"User",email:t.email||"user@example.com",firstName:t.first_name||t.firstName||"",lastName:t.last_name||t.lastName||"",profilePicture:t.profile_picture||t.profilePicture||null,memberSince:t.created_at?new Date(t.created_at).toLocaleDateString():(new Date).toLocaleDateString()}}catch(a){console.error("Error parsing user data from localStorage:",a),localStorage.removeItem("user")}try{const t=await ts.getUser();if(t.data&&t.data.success&&t.data.data&&t.data.data.user){const s=t.data.data.user;e.value={id:s.id,name:s.name||"User",email:s.email||"user@example.com",firstName:s.first_name||"",lastName:s.last_name||"",profilePicture:s.profile_picture||null,memberSince:s.created_at?new Date(s.created_at).toLocaleDateString():(new Date).toLocaleDateString()},localStorage.setItem("user",JSON.stringify(s))}}catch(o){console.warn("Could not fetch user profile from API, using localStorage data:",o.message)}}catch(r){s.value=r.message,console.error("Error loading user profile:",r)}finally{t.value=!1}},l=async e=>{try{t.value=!0,s.value=null;const a=await ts.updateProfile(e);if(a.data&&a.data.success)return await r(),{success:!0};{const e=a.data?.error||"Failed to update profile";throw new Error(e)}}catch(a){const e=a.message||"Network error occurred";return s.value=e,console.error("Error updating user profile:",a),{success:!1,error:e}}finally{t.value=!1}},n=(0,o.EW)((()=>a(e.value?.profilePicture))),i=(0,o.EW)((()=>e.value?.name||"User")),c=(0,o.EW)((()=>!!e.value?.id)),d=()=>{ss.value=null,os.value=null,localStorage.removeItem("user"),localStorage.removeItem("token")},u=(0,o.EW)((()=>!!e.value?.profilePicture)),g=(0,o.EW)((()=>{if(!e.value?.name)return"U";const t=e.value.name.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.value.name[0].toUpperCase()}));return(0,o.wB)(ss,(e=>{e&&e.id&&localStorage.setItem("user",JSON.stringify({id:e.id,name:e.name,email:e.email,first_name:e.firstName,last_name:e.lastName,profile_picture:e.profilePicture,created_at:e.created_at}))}),{deep:!0}),{user:e,loading:t,error:s,profilePictureUrl:n,displayName:i,isAuthenticated:c,hasProfilePicture:u,getUserInitials:g,loadUserProfile:r,updateUserProfile:l,logout:d,getProfilePictureUrl:a}}const ls={class:"flex items-center space-x-3"},ns=["title"],is={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap border border-gray-700"},cs={class:"flex items-center space-x-2 md:space-x-4"},ds={class:"relative"},us={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},gs={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},ms={key:0},ps=["onClick"],bs={class:"flex items-start space-x-3"},fs={class:"flex-shrink-0 mt-1"},xs={class:"flex-grow"},ys={class:"flex items-start justify-between"},vs={class:"flex-grow"},hs={class:"text-sm font-medium text-white"},ks={class:"text-xs text-gray-300 mt-1"},ws={class:"text-xs text-gray-500 mt-2"},Ls={class:"flex items-center space-x-2 ml-2"},Cs={key:0,class:"flex-shrink-0"},Ss=["onClick"],Es={key:0,class:"mt-3 flex space-x-2"},_s=["onClick"],Ns={key:1,class:"mt-2 flex items-center"},As={key:2,class:"mt-2 flex items-center"},Ts={key:1,class:"p-4 text-center text-gray-400"},Fs={key:2,class:"p-3 border-t border-gray-700"},zs={class:"relative"},Ps={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},Rs=["src"],Is={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},Qs={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"};function Ds(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",{class:(0,r.C4)([l.themeClasses.header,"p-4 flex justify-between items-center"])},[(0,o.Lk)("div",ls,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"group relative flex flex-col items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-slate-800 to-gray-900 hover:from-blue-600 hover:to-blue-700 text-gray-300 hover:text-white transition-all duration-300 ease-out transform hover:scale-105 active:scale-95 overflow-hidden shadow-lg hover:shadow-xl hover:shadow-blue-500/25",title:l.sidebarVisible?"Hide sidebar":"Show sidebar"},[t[10]||(t[10]=(0,o.Fv)('<div class="flex flex-col space-y-1 relative z-10"><div class="w-6 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-7 group-hover:bg-white rounded-full"></div><div class="w-5 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-6 group-hover:bg-white rounded-full"></div><div class="w-4 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-5 group-hover:bg-white rounded-full"></div></div><div class="absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500/0 to-blue-600/0 group-hover:from-blue-500/10 group-hover:to-blue-600/10 transition-all duration-300"></div>',2)),(0,o.Lk)("div",is,[(0,o.eW)((0,r.v_)(l.sidebarVisible?"Hide Menu":"Show Menu")+" ",1),t[9]||(t[9]=(0,o.Lk)("div",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"},null,-1))])],8,ns),t[11]||(t[11]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1))]),(0,o.Lk)("div",cs,[(0,o.Lk)("div",ds,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",us,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",gs,[t[16]||(t[16]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",ms,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id||s,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!e.read,"cursor-pointer":!e.read}]),onClick:t=>l.markAsRead(e)},[(0,o.Lk)("div",bs,[(0,o.Lk)("div",fs,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",e.bgColor])},[(0,o.bF)(c,{icon:e.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",xs,[(0,o.Lk)("div",ys,[(0,o.Lk)("div",vs,[(0,o.Lk)("p",hs,(0,r.v_)(e.title),1),(0,o.Lk)("p",ks,(0,r.v_)(e.message),1),(0,o.Lk)("p",ws,(0,r.v_)(e.time),1)]),(0,o.Lk)("div",Ls,[e.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Cs,t[12]||(t[12]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),e.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>l.removeNotification(e.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Ss)):(0,o.Q3)("",!0)])]),e.actions&&e.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Es,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.actions,((t,s)=>((0,o.uX)(),(0,o.CE)("button",{key:s,onClick:(0,a.D$)((s=>l.executeAction(e,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,_s)))),128))])):(0,o.Q3)("",!0),"urgent"===e.priority?((0,o.uX)(),(0,o.CE)("div",Ns,t[13]||(t[13]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===e.priority?((0,o.uX)(),(0,o.CE)("div",As,t[14]||(t[14]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,ps)))),128))])):((0,o.uX)(),(0,o.CE)("div",Ts,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[15]||(t[15]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Fs,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[3]||(t[3]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",zs,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",Ps,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[4]||(t[4]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[5]||(t[5]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,Rs)):((0,o.uX)(),(0,o.CE)("div",Is,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",null,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",Qs,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[17]||(t[17]=[(0,o.eW)("Settings")]))),_:1,__:[17]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])],2)}var qs={name:"AppHeader",emits:["toggle-sidebar","open-profile-modal"],setup(e,{emit:t}){const s=(0,n.Pj)(),a=(0,g.rd)(),{showNotifications:r,notifications:l,unreadNotifications:i,toggleNotifications:c,closeNotifications:d,markAsRead:u,markAllAsRead:m,showSuccess:p,showInfo:b,showWarning:f}=Jt(),{user:x,loadUserProfile:y,getProfilePictureUrl:v}=rs(),h=x,k=(0,o.EW)((()=>s.getters["app/getSidebarVisible"])),w=(0,o.EW)((()=>{try{const e=s.getters["app/getThemeClasses"];return e&&"object"===typeof e?e:{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}catch(e){return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}})),L=(0,ne.KR)(!1),C=()=>{s.dispatch("app/toggleSidebar"),t("toggle-sidebar")},S=()=>{L.value=!L.value},E=()=>{L.value=!1},_=()=>{L.value=!1,t("open-profile-modal")},N=async()=>{try{s.dispatch("auth/logout"),localStorage.removeItem("user"),localStorage.removeItem("token"),L.value=!1,a.push("/login")}catch(e){f("Error logging out","Please try again")}},A=()=>{},T=()=>{},F=(e,t)=>{"navigate"===t.action&&t.route?a.push(t.route):"callback"===t.action&&t.callback&&t.callback(e),u(e)},z=e=>{u({id:e})};return(0,o.sV)((async()=>{h.value||await y()})),{showUserMenu:L,user:h,sidebarVisible:k,toggleSidebar:C,toggleUserMenu:S,closeUserMenu:E,openProfileModal:_,logout:N,getProfilePictureUrl:v,handleImageError:A,handleImageLoad:T,executeAction:F,removeNotification:z,showNotifications:r,notifications:l,unreadNotifications:i,toggleNotifications:c,closeNotifications:d,markAsRead:u,markAllAsRead:m,showSuccess:p,showInfo:b,showWarning:f,themeClasses:w,store:s}}};const Os=(0,c.A)(qs,[["render",Ds]]);var Us=Os,Xs={name:"DashboardView",components:{AppHeader:Us},setup(){const e=(0,g.rd)(),t=(0,n.Pj)(),s=(0,ne.KR)(null),a=(0,ne.KR)(null),r=(0,ne.KR)(!1),l=(0,ne.KR)(!1),i=(0,ne.KR)(!1),c=(0,ne.KR)(!0),d=(0,ne.KR)("connected"),u=(0,ne.KR)(new Date),{showNotifications:m,notifications:p,unreadNotifications:b,toggleNotifications:f,closeNotifications:x,markAsRead:y,markAllAsRead:v,showSuccess:h,showInfo:k,showWarning:w}=Jt(),{user:L,loading:C,loadUserProfile:S,getProfilePictureUrl:E}=rs(),_=(0,o.EW)((()=>s.value?.data?s.value.data.slice(0,3).map((e=>{const t=new Date(e.created_at),s=e.original_text?e.original_text.substring(0,100)+(e.original_text.length>100?"...":""):"No content";return{id:e.id,title:e.title||"Untitled Note",summary:s,date:t.toLocaleDateString(),createdAt:t,timestamp:t.getTime(),tags:[],wordCount:le(s),readingTime:ie(s)}})):[])),N=(0,o.EW)((()=>j.value.trim().length>0||D.value)),A=(0,o.EW)((()=>{if(!a.value?.data)return{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0,activeGoals:0,completedGoals:0,studyStreak:0,avgSessionDuration:0,longestSession:0,totalNotesStudied:0,totalQuizzesTaken:0};const e=a.value.data,t={totalNotes:e.totalNotes||0,notesThisWeek:e.notesThisWeek||0,studyHours:e.studyHours||0,studyHoursThisWeek:e.studyHoursThisWeek||0,quizAverage:e.quizAverage||0,quizzesCompleted:e.quizzesCompleted||0,activeGoals:e.activeGoals||0,completedGoals:e.completedGoals||0,studyStreak:e.studyStreak||0,avgSessionDuration:e.avgSessionDuration||0,longestSession:e.longestSession||0,totalNotesStudied:e.totalNotesStudied||0,totalQuizzesTaken:e.totalQuizzesTaken||0};return t})),T=L,F=(0,o.EW)((()=>t.getters["app/getSidebarVisible"])),z=(0,o.EW)((()=>{try{if(!t||!t.getters)return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"};const e=t.getters["app/getThemeClasses"];return e&&"object"===typeof e?e:{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}catch(e){return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}})),P=(0,ne.KR)(!1),R=(0,ne.KR)(!1),I=(0,ne.KR)(null),Q=(0,ne.KR)(""),D=(0,ne.KR)(!1),q=(0,ne.KR)(!1),O=(0,ne.KR)(!1),U=(0,ne.KR)(""),X=(0,ne.KR)(null),j=(0,ne.KR)(""),M=(0,ne.KR)(!1),K=(0,ne.KR)(!1),W=(0,ne.KR)(null),G=async e=>{try{const t=new FormData;t.append("profile_picture",e);const s=await ts.uploadProfilePicture(t);return s.data.success?(await se(),{success:!0,message:s.data.message}):{success:!1,message:s.data.error}}catch(t){return{success:!1,message:"Network error"}}},$=async e=>{const t=e.target.files[0];if(!t)return;const s=["image/jpeg","image/png","image/gif","image/webp"];if(!s.includes(t.type))return void w("Invalid file type","Please select a valid image file (JPEG, PNG, GIF, or WebP)");const a=5242880;if(t.size>a)w("File too large","File size must be less than 5MB");else{try{const e=await G(t);e.success?h("Profile picture updated",e.message):w("Upload failed",e.message)}catch(o){w("Upload error","Network error occurred")}e.target.value=""}},V=()=>{e.push("/notes/edit")},H=()=>{e.push("/settings")},B=()=>{j.value.trim()&&(X.value={type:"quick_note",content:j.value.trim()},O.value=!0,U.value="")},J=()=>{j.value=""},Y=async()=>{try{r.value=!0;const e=await ts.getNotes();s.value=e.data}catch(e){}finally{r.value=!1}},Z=async()=>{try{i.value=!0;const e=await ts.getDashboardStats();a.value=e.data}catch(e){}finally{i.value=!1}},ee=async()=>{await Y()},te=async()=>{await Z()},se=async()=>{await S()},ae=()=>{},oe=()=>{},re=e=>{try{const t=e instanceof Date?e:new Date(e);if(isNaN(t.getTime()))return"Invalid date";const s=new Date,a=Math.floor((s-t)/1e3);return a<60?"Just now":a<3600?`${Math.floor(a/60)} minutes ago`:a<86400?`${Math.floor(a/3600)} hours ago`:a<604800?`${Math.floor(a/86400)} days ago`:t.toLocaleDateString()}catch(t){return"Date error"}},le=e=>e&&"string"===typeof e?e.trim().split(/\s+/).filter((e=>e.length>0)).length:0,ie=e=>{const t=200,s=le(e),a=Math.ceil(s/t);return Math.max(1,a)};(0,o.sV)((async()=>{await Promise.all([Y(),Z(),S()]),setTimeout((()=>{h("Welcome to SmartScribe!","Your dashboard is ready.")}),1e3)}));const ce=()=>{t.dispatch("app/toggleSidebar")},de=()=>{t.dispatch("app/toggleSidebar")},ue=()=>{P.value=!0},ge=()=>{P.value=!1},me=async()=>{R.value=!0,await(0,o.dY)();try{const e=await navigator.mediaDevices.getUserMedia({video:!0});I.value&&(I.value.srcObject=e)}catch(e){}},pe=()=>{R.value=!1;const e=I.value.srcObject;e&&e.getTracks().forEach((e=>e.stop())),I.value.srcObject=null},be=()=>{const e=document.createElement("canvas");e.width=I.value.videoWidth,e.height=I.value.videoHeight,e.getContext("2d").drawImage(I.value,0,0),e.toBlob((async e=>{try{const{data:{text:t}}=await Bt().recognize(e,"eng",{logger:()=>{}});Q.value=t,X.value={type:"capture",data:t},pe(),O.value=!0,U.value=""}catch(t){}}),"image/jpeg")},fe=async e=>{const t=e.target.files[0];if(!t)return;const s=5242880;if(t.size>s)return void alert("File is too large!");const a=["image/jpeg","image/png","image/gif","image/webp"];if(a.includes(t.type)){D.value=!0;try{const{data:{text:e}}=await Bt().recognize(t,"eng",{logger:()=>{}});Q.value=e,X.value={type:"upload",file:t,text:e},O.value=!0,U.value=""}catch(o){alert("Error processing file. Please try again.")}finally{D.value=!1}e.target.value=""}else alert("Only JPG, PNG, GIF, and WebP images are allowed!")},xe=async()=>{if(U.value.trim())try{let t;if("quick_note"===X.value.type)t={title:U.value.trim(),text:X.value.content};else if(t={title:U.value.trim(),text:"upload"===X.value.type?X.value.text:X.value.data,..."upload"===X.value.type&&X.value.file&&{image:X.value.file}},t.image&&!(t.image instanceof File))return void w("File upload error","Invalid file object");try{await ts.createNote(t),h("Note saved","Your note has been created successfully."),await Promise.all([ee(),te()]),"quick_note"===X.value.type&&(j.value="")}catch(e){w("Save failed","Failed to save the note. Please try again.")}O.value=!1,U.value="",X.value=null,Q.value=""}catch(e){w("Save error","An error occurred while saving the note.")}},ye=()=>{O.value=!1,U.value="",X.value=null,Q.value=""},ve=()=>{q.value=!0,setTimeout((()=>{q.value=!1}),3e3)},he=t=>{e.push(`/notes/${t}`)},ke=t=>{e.push(`/notes/edit?id=${t}`)},we=(e,t)=>{W.value={id:e,title:t},K.value=!0},Le=()=>{K.value=!1,W.value=null},Ce=async()=>{if(W.value){try{await ts.deleteNote(W.value.id),_.value=_.value.filter((e=>e.id!==W.value.id)),await ee()}catch(e){}Le()}};return{showProfileModal:P,showCamera:R,video:I,showSaveConfirmation:q,showTitleModal:O,noteTitle:U,pendingImageData:X,showDeleteModal:K,noteToDelete:W,isProcessingFile:D,quickNoteContent:j,isCreatingQuickNote:M,user:T,recentNotes:_,stats:A,sidebarVisible:F,canCreateNote:N,loadingNotes:r,loadingStats:l,loadingDashboard:i,loadingUser:C,isConnected:c,connectionStatus:d,lastSync:u,handleSidebarToggle:ce,toggleSidebar:de,openProfileModal:ue,closeProfileModal:ge,openCamera:me,closeCamera:pe,capturePhoto:be,handleFileUpload:fe,handleProfilePictureUpload:$,saveNoteWithTitle:xe,cancelTitleInput:ye,showConfirmation:ve,viewNote:he,editNote:ke,confirmDelete:we,closeDeleteModal:Le,deleteNote:Ce,createNewNote:V,openSettings:H,createQuickNote:B,clearQuickNote:J,getProfilePictureUrl:E,handleImageError:ae,handleImageLoad:oe,showNotifications:m,notifications:p,unreadNotifications:b,toggleNotifications:f,markAsRead:y,markAllAsRead:v,closeNotifications:x,showSuccess:h,showInfo:k,showWarning:w,refreshNotes:ee,refreshStats:te,refreshUser:se,loadUserProfile:S,getTimeAgo:re,getWordCount:le,getReadingTime:ie,ocrText:Q,themeClasses:z,store:t}}};const js=(0,c.A)(Xs,[["render",Vt]]);var Ms=js;const Ks={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Ws={class:"p-4 flex justify-between items-center"},Gs={class:"space-x-2"},$s={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},Vs={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},Hs={class:"flex justify-center mb-8"},Bs={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},Js=["src"],Ys={key:0,class:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg mb-6"},Zs={class:"flex items-center"},ea={class:"space-y-2"},ta={class:"space-y-2"},sa={class:"space-y-2"},aa={class:"relative"},oa={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ra={class:"space-y-2"},la={class:"relative"},na={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ia=["type"],ca={class:"space-y-2"},da={class:"relative"},ua={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ga=["type"],ma=["disabled"],pa={key:0,class:"flex items-center justify-center"},ba={key:1,class:"flex items-center justify-center"},fa={class:"grid grid-cols-3 gap-3 mb-8"},xa=["disabled"],ya={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},va={class:"text-center"},ha={class:"text-gray-400 text-sm"},ka={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},wa={class:"bg-white text-gray-800 rounded-xl p-6 w-full max-w-sm shadow-xl transform transition-all scale-100"},La={class:"flex justify-center mb-4"},Ca={class:"bg-green-100 text-green-600 w-16 h-16 flex items-center justify-center rounded-full"};function Sa(e,t,s,l,n,i){const c=(0,o.g2)("router-link"),d=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Ks,[(0,o.Lk)("header",Ws,[(0,o.bF)(c,{to:"/",class:"text-xl font-bold"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("SmartScribe")]))),_:1,__:[10]}),(0,o.Lk)("div",Gs,[(0,o.bF)(c,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("Sign In")]))),_:1,__:[11]}),(0,o.bF)(c,{to:"/contact",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[12]||(t[12]=[(0,o.eW)("Contact")]))),_:1,__:[12]})])]),(0,o.Lk)("main",$s,[(0,o.Lk)("div",Vs,[(0,o.Lk)("div",Hs,[(0,o.Lk)("div",Bs,[(0,o.Lk)("img",{src:l.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,Js)])]),t[24]||(t[24]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Create Your Account"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Sign up for SmartScribe to start digitizing your notes")],-1)),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",Ys,[(0,o.Lk)("div",Zs,[(0,o.bF)(d,{icon:["fas","exclamation-circle"],class:"mr-2"}),(0,o.Lk)("span",null,(0,r.v_)(l.errorMessage),1)])])):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>l.handleSignup&&l.handleSignup(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",ea,[t[13]||(t[13]=(0,o.Lk)("label",{for:"firstName",class:"block text-sm font-medium text-gray-300"}," First Name ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"firstName",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.firstName=e),placeholder:"Enter your first name",class:"w-full px-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.firstName]])]),(0,o.Lk)("div",ta,[t[14]||(t[14]=(0,o.Lk)("label",{for:"lastName",class:"block text-sm font-medium text-gray-300"}," Last Name ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"lastName",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.lastName=e),placeholder:"Enter your last name",class:"w-full px-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.lastName]])]),(0,o.Lk)("div",sa,[t[15]||(t[15]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",aa,[(0,o.Lk)("div",oa,[(0,o.bF)(d,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>l.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.email]])])]),(0,o.Lk)("div",ra,[t[16]||(t[16]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," Password ",-1)),(0,o.Lk)("div",la,[(0,o.Lk)("div",na,[(0,o.bF)(d,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",ref:"passwordInput",type:l.passwordVisible?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),placeholder:"Enter your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,ia),[[a.hp,l.password]]),(0,o.Lk)("button",{type:"button",onClick:t[4]||(t[4]=e=>l.passwordVisible=!l.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(d,{icon:["fas",l.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("div",ca,[t[17]||(t[17]=(0,o.Lk)("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-300"}," Confirm Password ",-1)),(0,o.Lk)("div",da,[(0,o.Lk)("div",ua,[(0,o.bF)(d,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"confirmPassword",ref:"confirmPasswordInput",type:l.confirmPasswordVisible?"text":"password","onUpdate:modelValue":t[5]||(t[5]=e=>l.confirmPassword=e),placeholder:"Confirm your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,ga),[[a.hp,l.confirmPassword]]),(0,o.Lk)("button",{type:"button",onClick:t[6]||(t[6]=e=>l.confirmPasswordVisible=!l.confirmPasswordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(d,{icon:["fas",l.confirmPasswordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:l.isLoading},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",pa,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[18]||(t[18]=(0,o.eW)(" Creating account... "))])):((0,o.uX)(),(0,o.CE)("span",ba,[(0,o.bF)(d,{icon:["fas","user-plus"],class:"mr-2"}),t[19]||(t[19]=(0,o.eW)(" Create Account "))]))],8,ma)],32),t[25]||(t[25]=(0,o.Fv)('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-gray-800 text-gray-400">Or continue with</span></div></div>',1)),(0,o.Lk)("div",fa,[(0,o.Lk)("button",{id:"google-signup-btn",onClick:t[8]||(t[8]=(...e)=>l.handleGoogleSignup&&l.handleGoogleSignup(...e)),class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},[(0,o.bF)(d,{icon:["fab","google"],class:"text-red-400 text-lg"})]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>l.handleFacebookSignup&&l.handleFacebookSignup(...e)),class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200",disabled:l.isLoading},[(0,o.bF)(d,{icon:["fab","facebook-f"],class:"text-blue-400 text-lg"})],8,xa),(0,o.Lk)("button",ya,[(0,o.bF)(d,{icon:["fab","apple"],class:"text-gray-300 text-lg"})])]),(0,o.Lk)("div",va,[(0,o.Lk)("p",ha,[t[21]||(t[21]=(0,o.eW)(" Already have an account? ")),(0,o.bF)(c,{to:"/login",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[20]||(t[20]=[(0,o.eW)(" Sign in here ")]))),_:1,__:[20]})])]),(0,o.bF)(a.eB,{name:"fade"},{default:(0,o.k6)((()=>[l.showSuccessModal?((0,o.uX)(),(0,o.CE)("div",ka,[(0,o.Lk)("div",wa,[(0,o.Lk)("div",La,[(0,o.Lk)("div",Ca,[(0,o.bF)(d,{icon:["fas","check-circle"],class:"text-3xl"})])]),t[22]||(t[22]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-center mb-2"},"Account Created!",-1)),t[23]||(t[23]=(0,o.Lk)("p",{class:"text-center mb-4"},"Your account was created successfully. You can now log in.",-1))])])):(0,o.Q3)("",!0)])),_:1})])]),t[26]||(t[26]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var Ea={name:"SignupView",setup(){const e=(0,g.rd)(),t=(0,n.Pj)(),s=(0,ne.KR)(""),a=(0,ne.KR)(""),o=(0,ne.KR)(""),r=(0,ne.KR)(""),l=(0,ne.KR)(""),i=(0,ne.KR)(!1),c=(0,ne.KR)(""),d=(0,ne.KR)(!1),u=(0,ne.KR)(!1),m=(0,ne.KR)(!1),p=(0,ne.KR)(null),b=(0,ne.KR)(null),f=()=>{d.value=!1,e.push("/login")},x=e=>{"passwordInput"===e?u.value=!u.value:"confirmPasswordInput"===e&&(m.value=!m.value)},y=async()=>{try{if(console.log("ðŸ” Attempting Google signup with Google Identity Services"),i.value=!0,c.value="",!window.google||!window.google.accounts)return c.value="Google Sign-In is not available. Please refresh the page and try again.",void(i.value=!1);const s="your_production_google_oauth_client_id_here";if("your_production_google_oauth_client_id"===s)return c.value="Google OAuth client ID not configured. Please check your environment variables.",void(i.value=!1);const a=window.google.accounts.oauth2.initTokenClient({client_id:s,scope:"openid email profile",callback:async s=>{if(s.error)return console.error("âŒ Google OAuth error:",s),c.value="Google signup failed. Please try again.",void(i.value=!1);try{console.log("ðŸ” Google OAuth successful, sending to backend"),await t.dispatch("auth/googleLogin",s.access_token),console.log("ðŸ” Google signup successful - Redirecting to dashboard"),e.push("/dashboard")}catch(a){console.error("âŒ Backend Google signup failed:",a),c.value=a.message||"Failed to create account with Google. Please try again."}finally{i.value=!1}}});a.requestAccessToken()}catch(s){console.error("âŒ Google signup failed:",s),c.value=s.message||"Google signup failed. Please try again.",i.value=!1}},v=async()=>{try{console.log("ðŸ” Attempting Facebook signup"),i.value=!0,c.value="",alert("Facebook signup is not currently supported. Please use email/password registration.")}catch(e){console.error("âŒ Facebook signup failed:",e),c.value=e.message||"Facebook signup failed. Please try again.",i.value=!1}},h=async()=>{try{if(r.value!==l.value)return void(c.value="Passwords do not match");i.value=!0,c.value="",await t.dispatch("auth/register",{first_name:s.value,last_name:a.value,name:`${s.value} ${a.value}`,email:o.value,password:r.value}),console.log("âœ… Registration successful - Showing success modal"),d.value=!0,setTimeout((()=>{f()}),2500)}catch(e){console.error("âŒ Registration failed:",e.message),c.value=e.message||"Failed to create account. Please try again."}finally{i.value=!1}};return{firstName:s,lastName:a,email:o,password:r,confirmPassword:l,isLoading:i,errorMessage:c,handleSignup:h,passwordInput:p,confirmPasswordInput:b,togglePasswordField:x,showSuccessModal:d,redirectToLogin:f,logo:le,passwordVisible:u,confirmPasswordVisible:m,handleGoogleSignup:y,handleFacebookSignup:v}}};const _a=(0,c.A)(Ea,[["render",Sa]]);var Na=_a;const Aa={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},Ta={class:"p-6 flex justify-between items-center"},Fa={class:"flex space-x-3"},za={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},Pa={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},Ra={class:"flex justify-center mb-8"},Ia={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},Qa=["src"],Da={key:0,class:"bg-green-900 border border-green-700 text-green-200 px-4 py-3 rounded-lg mb-6"},qa={class:"flex items-center"},Oa={key:1,class:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg mb-6"},Ua={class:"flex items-center"},Xa={class:"space-y-2"},ja={class:"relative"},Ma={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ka=["disabled"],Wa={key:0,class:"flex items-center justify-center"},Ga={key:1,class:"flex items-center justify-center"},$a={key:3,class:"text-center space-y-6"},Va={class:"bg-green-900/20 border border-green-700/50 rounded-lg p-6"},Ha={class:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4"},Ba={class:"text-gray-400 text-sm mb-4"},Ja={key:0,class:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4 mb-4"},Ya=["href"],Za=["disabled"],eo={key:0,class:"flex items-center justify-center"},to={key:1,class:"flex items-center justify-center"},so={class:"text-center mt-8"};function ao(e,t,s,l,n,i){const c=(0,o.g2)("router-link"),d=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Aa,[(0,o.Lk)("header",Ta,[(0,o.bF)(c,{to:"/",class:"text-xl sm:text-2xl font-bold text-white hover:text-blue-400 transition-colors"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" SmartScribe ")]))),_:1,__:[3]}),(0,o.Lk)("div",Fa,[(0,o.bF)(c,{to:"/contact",class:"px-4 py-2 text-sm sm:text-base text-gray-400 hover:text-white transition-colors"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" Contact ")]))),_:1,__:[4]}),(0,o.bF)(c,{to:"/login",class:"px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" Sign In ")]))),_:1,__:[5]})])]),(0,o.Lk)("main",za,[(0,o.Lk)("div",Pa,[(0,o.Lk)("div",Ra,[(0,o.Lk)("div",Ia,[(0,o.Lk)("img",{src:l.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,Qa)])]),t[16]||(t[16]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Reset Your Password"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Enter your email address and we'll send you a link to reset your password")],-1)),l.successMessage?((0,o.uX)(),(0,o.CE)("div",Da,[(0,o.Lk)("div",qa,[(0,o.bF)(d,{icon:["fas","check-circle"],class:"mr-2"}),(0,o.Lk)("span",null,(0,r.v_)(l.successMessage),1)])])):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",Oa,[(0,o.Lk)("div",Ua,[(0,o.bF)(d,{icon:["fas","exclamation-circle"],class:"mr-2"}),(0,o.Lk)("span",null,(0,r.v_)(l.errorMessage),1)])])):(0,o.Q3)("",!0),l.emailSent?((0,o.uX)(),(0,o.CE)("div",$a,[(0,o.Lk)("div",Va,[(0,o.Lk)("div",Ha,[(0,o.bF)(d,{icon:["fas","check-circle"],class:"text-white text-2xl"})]),t[11]||(t[11]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-white mb-2"},"Check Your Email",-1)),(0,o.Lk)("p",Ba,[t[9]||(t[9]=(0,o.eW)(" We've sent a password reset link to ")),(0,o.Lk)("strong",null,(0,r.v_)(l.email),1)]),l.resetLink?((0,o.uX)(),(0,o.CE)("div",Ja,[t[10]||(t[10]=(0,o.Lk)("p",{class:"text-blue-300 text-sm mb-2"},"Development Mode - Click the link below:",-1)),(0,o.Lk)("a",{href:l.resetLink,target:"_blank",class:"text-blue-400 hover:text-blue-300 underline text-sm break-all"},(0,r.v_)(l.resetLink),9,Ya)])):(0,o.Q3)("",!0),t[12]||(t[12]=(0,o.Lk)("p",{class:"text-gray-500 text-xs"}," The link will expire in 1 hour. If you don't see it, check your spam folder. ",-1))]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.handlePasswordReset&&l.handlePasswordReset(...e)),class:"w-full bg-gray-700 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200",disabled:l.isLoading},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",eo,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[13]||(t[13]=(0,o.eW)(" Resending... "))])):((0,o.uX)(),(0,o.CE)("span",to,[(0,o.bF)(d,{icon:["fas","redo"],class:"mr-2"}),t[14]||(t[14]=(0,o.eW)(" Resend Reset Link "))]))],8,Za)])):((0,o.uX)(),(0,o.CE)("form",{key:2,onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>l.handlePasswordReset&&l.handlePasswordReset(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",Xa,[t[6]||(t[6]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",ja,[(0,o.Lk)("div",Ma,[(0,o.bF)(d,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.email]])])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:l.isLoading},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",Wa,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[7]||(t[7]=(0,o.eW)(" Sending Reset Link... "))])):((0,o.uX)(),(0,o.CE)("span",Ga,[(0,o.bF)(d,{icon:["fas","paper-plane"],class:"mr-2"}),t[8]||(t[8]=(0,o.eW)(" Send Reset Link "))]))],8,Ka)],32)),(0,o.Lk)("div",so,[(0,o.bF)(c,{to:"/login",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[15]||(t[15]=[(0,o.eW)(" â† Back to Sign In ")]))),_:1,__:[15]})])])]),t[17]||(t[17]=(0,o.Fv)('<footer class="p-6 text-center text-gray-400 text-sm"><div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6"><a href="#" class="hover:text-gray-300 transition-colors">Privacy Policy</a><a href="#" class="hover:text-gray-300 transition-colors">Terms of Service</a><a href="#" class="hover:text-gray-300 transition-colors">Help Center</a></div><div class="mt-4 text-gray-500"> Â© 2025 SmartScribe. All rights reserved. </div></footer>',1))])}var oo={name:"ForgotPasswordView",setup(){const e=(0,ne.KR)(""),t=(0,ne.KR)(!1),s=(0,ne.KR)(""),a=(0,ne.KR)(""),o=(0,ne.KR)(!1),r=(0,ne.KR)(""),l=async()=>{try{t.value=!0,s.value="",a.value="";const l=await ts.requestPasswordReset(e.value);a.value=l.data.message,o.value=!0,l.data.reset_link&&(r.value=l.data.reset_link,console.log("ðŸ”— Password Reset Link (Development):",l.data.reset_link))}catch(l){console.error("âŒ Password reset request failed:",l),s.value=l.response?.data?.error||l.response?.data?.message||"Failed to send reset link. Please try again."}finally{t.value=!1}};return{email:e,isLoading:t,errorMessage:s,successMessage:a,emailSent:o,resetLink:r,handlePasswordReset:l,logo:le}}};const ro=(0,c.A)(oo,[["render",ao]]);var lo=ro;const no={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},io={class:"p-6 flex justify-between items-center"},co={class:"flex space-x-3"},uo={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},go={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},mo={class:"flex justify-center mb-8"},po={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},bo=["src"],fo={key:0,class:"text-center"},xo={key:1,class:"text-center"},yo={class:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4"},vo={key:2},ho={key:0,class:"bg-green-900 border border-green-700 text-green-200 px-4 py-3 rounded-lg mb-6"},ko={class:"flex items-center"},wo={key:1,class:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded-lg mb-6"},Lo={class:"flex items-center"},Co={class:"bg-gray-700/50 rounded-lg p-4 mb-6"},So={class:"flex items-center space-x-3"},Eo={class:"text-white font-medium"},_o={class:"space-y-2"},No={class:"relative"},Ao={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},To=["type"],Fo={class:"space-y-2"},zo={class:"relative"},Po={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ro=["type"],Io={class:"text-xs text-gray-400 space-y-1"},Qo={class:"list-disc list-inside space-y-1 ml-2"},Do=["disabled"],qo={key:0,class:"flex items-center justify-center"},Oo={key:1,class:"flex items-center justify-center"},Uo={key:2,class:"text-center mt-8"},Xo={class:"bg-green-900/20 border border-green-700/50 rounded-lg p-6"},jo={class:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4"};function Mo(e,t,s,l,n,i){const c=(0,o.g2)("router-link"),d=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",no,[(0,o.Lk)("header",io,[(0,o.bF)(c,{to:"/",class:"text-xl sm:text-2xl font-bold text-white hover:text-blue-400 transition-colors"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" SmartScribe ")]))),_:1,__:[5]}),(0,o.Lk)("div",co,[(0,o.bF)(c,{to:"/contact",class:"px-4 py-2 text-sm sm:text-base text-gray-400 hover:text-white transition-colors"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)(" Contact ")]))),_:1,__:[6]}),(0,o.bF)(c,{to:"/login",class:"px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)(" Sign In ")]))),_:1,__:[7]})])]),(0,o.Lk)("main",uo,[(0,o.Lk)("div",go,[(0,o.Lk)("div",mo,[(0,o.Lk)("div",po,[(0,o.Lk)("img",{src:l.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,bo)])]),l.isValidating?((0,o.uX)(),(0,o.CE)("div",fo,t[8]||(t[8]=[(0,o.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"},null,-1),(0,o.Lk)("p",{class:"text-gray-400"},"Validating reset token...",-1)]))):l.isValidToken?((0,o.uX)(),(0,o.CE)("div",vo,[t[21]||(t[21]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Set New Password"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Enter your new password below")],-1)),l.successMessage?((0,o.uX)(),(0,o.CE)("div",ho,[(0,o.Lk)("div",ko,[(0,o.bF)(d,{icon:["fas","check-circle"],class:"mr-2"}),(0,o.Lk)("span",null,(0,r.v_)(l.successMessage),1)])])):(0,o.Q3)("",!0),l.errorMessage?((0,o.uX)(),(0,o.CE)("div",wo,[(0,o.Lk)("div",Lo,[(0,o.bF)(d,{icon:["fas","exclamation-circle"],class:"mr-2"}),(0,o.Lk)("span",null,(0,r.v_)(l.errorMessage),1)])])):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[4]||(t[4]=(0,a.D$)(((...e)=>l.handlePasswordReset&&l.handlePasswordReset(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",Co,[(0,o.Lk)("div",So,[(0,o.bF)(d,{icon:["fas","envelope"],class:"text-gray-400"}),(0,o.Lk)("div",null,[t[12]||(t[12]=(0,o.Lk)("p",{class:"text-sm text-gray-400"},"Resetting password for:",-1)),(0,o.Lk)("p",Eo,(0,r.v_)(l.userEmail),1)])])]),(0,o.Lk)("div",_o,[t[13]||(t[13]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," New Password ",-1)),(0,o.Lk)("div",No,[(0,o.Lk)("div",Ao,[(0,o.bF)(d,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",ref:"passwordInput",type:l.passwordVisible?"text":"password","onUpdate:modelValue":t[0]||(t[0]=e=>l.password=e),placeholder:"Enter new password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:"",minlength:"6"},null,8,To),[[a.hp,l.password]]),(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=e=>l.passwordVisible=!l.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(d,{icon:["fas",l.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("div",Fo,[t[14]||(t[14]=(0,o.Lk)("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-300"}," Confirm New Password ",-1)),(0,o.Lk)("div",zo,[(0,o.Lk)("div",Po,[(0,o.bF)(d,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"confirmPassword",ref:"confirmPasswordInput",type:l.confirmPasswordVisible?"text":"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.confirmPassword=e),placeholder:"Confirm new password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:"",minlength:"6"},null,8,Ro),[[a.hp,l.confirmPassword]]),(0,o.Lk)("button",{type:"button",onClick:t[3]||(t[3]=e=>l.confirmPasswordVisible=!l.confirmPasswordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(d,{icon:["fas",l.confirmPasswordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("div",Io,[t[15]||(t[15]=(0,o.Lk)("p",null,"Password requirements:",-1)),(0,o.Lk)("ul",Qo,[(0,o.Lk)("li",{class:(0,r.C4)(l.password.length>=6?"text-green-400":"")},"At least 6 characters",2),(0,o.Lk)("li",{class:(0,r.C4)(l.password===l.confirmPassword&&l.password.length>0?"text-green-400":"")},"Passwords must match",2)])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:l.isLoading||!l.isFormValid},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",qo,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[16]||(t[16]=(0,o.eW)(" Resetting Password... "))])):((0,o.uX)(),(0,o.CE)("span",Oo,[(0,o.bF)(d,{icon:["fas","key"],class:"mr-2"}),t[17]||(t[17]=(0,o.eW)(" Reset Password "))]))],8,Do)],32),l.passwordReset?((0,o.uX)(),(0,o.CE)("div",Uo,[(0,o.Lk)("div",Xo,[(0,o.Lk)("div",jo,[(0,o.bF)(d,{icon:["fas","check-circle"],class:"text-white text-2xl"})]),t[19]||(t[19]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-white mb-2"},"Password Reset Successful!",-1)),t[20]||(t[20]=(0,o.Lk)("p",{class:"text-gray-400 text-sm mb-6"}," Your password has been successfully reset. You can now sign in with your new password. ",-1)),(0,o.bF)(c,{to:"/login",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 inline-block text-center"},{default:(0,o.k6)((()=>t[18]||(t[18]=[(0,o.eW)(" Sign In Now ")]))),_:1,__:[18]})])])):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",xo,[(0,o.Lk)("div",yo,[(0,o.bF)(d,{icon:["fas","times-circle"],class:"text-white text-2xl"})]),t[10]||(t[10]=(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Invalid Reset Link",-1)),t[11]||(t[11]=(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base mb-6"}," This password reset link is invalid or has expired. Please request a new one. ",-1)),(0,o.bF)(c,{to:"/forgot-password",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 inline-block text-center"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)(" Request New Reset Link ")]))),_:1,__:[9]})]))])]),t[22]||(t[22]=(0,o.Fv)('<footer class="p-6 text-center text-gray-400 text-sm"><div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6"><a href="#" class="hover:text-gray-300 transition-colors">Privacy Policy</a><a href="#" class="hover:text-gray-300 transition-colors">Terms of Service</a><a href="#" class="hover:text-gray-300 transition-colors">Help Center</a></div><div class="mt-4 text-gray-500"> Â© 2025 SmartScribe. All rights reserved. </div></footer>',1))])}var Ko={name:"ResetPasswordView",setup(){const e=(0,g.rd)(),t=(0,g.lq)(),s=(0,ne.KR)(t.query.token||""),a=(0,ne.KR)(""),r=(0,ne.KR)(""),l=(0,ne.KR)(""),n=(0,ne.KR)(!1),i=(0,ne.KR)(!0),c=(0,ne.KR)(!1),d=(0,ne.KR)(""),u=(0,ne.KR)(""),m=(0,ne.KR)(!1),p=(0,ne.KR)(!1),b=(0,ne.KR)(!1),f=(0,ne.KR)(null),x=(0,ne.KR)(null),y=(0,o.EW)((()=>r.value.length>=6&&r.value===l.value&&!n.value)),v=async()=>{if(!s.value)return i.value=!1,void(c.value=!1);try{const e=await ts.validateResetToken(s.value);a.value=e.data.email,c.value=!0}catch(e){console.error("âŒ Token validation failed:",e),c.value=!1}finally{i.value=!1}},h=async()=>{if(y.value)try{n.value=!0,d.value="",u.value="",await ts.resetPassword(s.value,r.value),u.value="Password reset successful! You can now sign in with your new password.",m.value=!0,setTimeout((()=>{e.push("/login")}),3e3)}catch(t){console.error("âŒ Password reset failed:",t),d.value=t.response?.data?.error||t.response?.data?.message||"Failed to reset password. Please try again."}finally{n.value=!1}};return(0,o.sV)((()=>{v()})),{token:s,userEmail:a,password:r,confirmPassword:l,isLoading:n,isValidating:i,isValidToken:c,errorMessage:d,successMessage:u,passwordReset:m,passwordVisible:p,confirmPasswordVisible:b,passwordInput:f,confirmPasswordInput:x,isFormValid:y,handlePasswordReset:h,logo:le}}};const Wo=(0,c.A)(Ko,[["render",Mo]]);var Go=Wo;const $o={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Vo={class:"p-4 bg-gray-800 flex justify-between items-center"},Ho={class:"flex items-center space-x-3"},Bo=["title"],Jo={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap border border-gray-700"},Yo={class:"flex items-center space-x-2 md:space-x-4"},Zo={class:"relative"},er={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},tr={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},sr={key:0},ar=["onClick"],or={class:"flex items-start space-x-3"},rr={class:"flex-shrink-0 mt-1"},lr={class:"flex-grow"},nr={class:"flex items-start justify-between"},ir={class:"flex-grow"},cr={class:"text-sm font-medium text-white"},dr={class:"text-xs text-gray-300 mt-1"},ur={class:"text-xs text-gray-500 mt-2"},gr={class:"flex items-center space-x-2 ml-2"},mr={key:0,class:"flex-shrink-0"},pr=["onClick"],br={key:0,class:"mt-3 flex space-x-2"},fr=["onClick"],xr={key:1,class:"mt-2 flex items-center"},yr={key:2,class:"mt-2 flex items-center"},vr={key:1,class:"p-4 text-center text-gray-400"},hr={key:2,class:"p-3 border-t border-gray-700"},kr={class:"relative"},wr={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},Lr=["src"],Cr={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},Sr={class:"text-sm text-gray-300"},Er={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},_r={class:"flex flex-grow transition-all duration-300"},Nr={class:"space-y-2"},Ar={class:"flex-1 p-4 md:p-6 transition-all duration-300 ease-in-out"},Tr={class:"flex justify-between items-center mb-6"},Fr={class:"flex space-x-3"},zr={class:"relative"},Pr=["disabled"],Rr={class:"flex mb-6 space-x-2"},Ir={key:0,class:"bg-red-800 rounded-lg p-6 text-center"},Qr={class:"mb-4"},Dr={class:"text-red-300 mb-4"},qr={class:"flex justify-center space-x-3"},Or={key:1,class:"text-center py-8 text-gray-400"},Ur={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},Xr=["onClick"],jr={class:"p-4"},Mr={class:"flex justify-between items-start mb-2"},Kr={class:"font-medium"},Wr={class:"flex space-x-2"},Gr=["onClick"],$r={class:"relative"},Vr=["onClick"],Hr=["onClick"],Br=["onClick"],Jr=["onClick"],Yr={class:"text-sm text-gray-400 mb-2"},Zr={class:"text-sm text-gray-300 line-clamp-3 mb-3"},el={class:"flex flex-wrap gap-2"},tl={key:3,class:"bg-gray-800 rounded-lg p-8 text-center"},sl={class:"mb-4"},al={class:"flex justify-center space-x-4"},ol={class:"flex items-center mb-4"},rl={class:"flex justify-end space-x-3"},ll={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},nl={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},il={class:"flex items-center mb-4"},cl={class:"flex flex-col items-center mb-6"},dl={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-600 mb-3"},ul=["src"],gl={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},ml={class:"space-y-4"},pl={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},bl={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},fl={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},xl={class:"flex justify-end space-x-3 mt-6"};function yl(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",$o,[(0,o.Lk)("header",Vo,[(0,o.Lk)("div",Ho,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"group relative flex flex-col items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-slate-800 to-gray-900 hover:from-blue-600 hover:to-blue-700 text-gray-300 hover:text-white transition-all duration-300 ease-out transform hover:scale-105 active:scale-95 overflow-hidden shadow-lg hover:shadow-xl hover:shadow-blue-500/25",title:l.sidebarVisible?"Hide sidebar":"Show sidebar"},[t[28]||(t[28]=(0,o.Fv)('<div class="flex flex-col space-y-1 relative z-10"><div class="w-6 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-7 group-hover:bg-white rounded-full"></div><div class="w-5 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-6 group-hover:bg-white rounded-full"></div><div class="w-4 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-5 group-hover:bg-white rounded-full"></div></div><div class="absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500/0 to-blue-600/0 group-hover:from-blue-500/10 group-hover:to-blue-600/10 transition-all duration-300"></div>',2)),(0,o.Lk)("div",Jo,[(0,o.eW)((0,r.v_)(l.sidebarVisible?"Hide Menu":"Show Menu")+" ",1),t[27]||(t[27]=(0,o.Lk)("div",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"},null,-1))])],8,Bo),t[29]||(t[29]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1))]),(0,o.Lk)("div",Yo,[(0,o.Lk)("div",Zo,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",er,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",tr,[t[34]||(t[34]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",sr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",or,[(0,o.Lk)("div",rr,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",lr,[(0,o.Lk)("div",nr,[(0,o.Lk)("div",ir,[(0,o.Lk)("p",cr,(0,r.v_)(s.title),1),(0,o.Lk)("p",dr,(0,r.v_)(s.message),1),(0,o.Lk)("p",ur,(0,r.v_)(s.time),1)]),(0,o.Lk)("div",gr,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",mr,t[30]||(t[30]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,pr)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",br,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,fr)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",xr,t[31]||(t[31]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",yr,t[32]||(t[32]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,ar)))),128))])):((0,o.uX)(),(0,o.CE)("div",vr,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[33]||(t[33]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",hr,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[3]||(t[3]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",kr,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",wr,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[4]||(t[4]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[5]||(t[5]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,Lr)):((0,o.uX)(),(0,o.CE)("div",Cr,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",Sr,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",Er,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[35]||(t[35]=[(0,o.eW)("Settings")]))),_:1,__:[35]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",_r,[l.sidebarVisible?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,r.C4)(["w-64 p-4 transition-all duration-300 ease-in-out",l.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",Nr,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[36]||(t[36]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[36]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[37]||(t[37]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[37]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[38]||(t[38]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[38]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[39]||(t[39]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[39]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[40]||(t[40]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[40]},8,["class"])])])])],2)):(0,o.Q3)("",!0),(0,o.Lk)("main",Ar,[(0,o.Lk)("div",Tr,[t[43]||(t[43]=(0,o.Lk)("div",{class:"flex items-center space-x-4"},[(0,o.Lk)("h1",{class:"text-2xl font-bold"},"My Notes")],-1)),(0,o.Lk)("div",Fr,[(0,o.Lk)("div",zr,[t[41]||(t[41]=(0,o.Lk)("input",{type:"text",placeholder:"Search notes...",class:"pl-10 pr-4 py-2 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,-1)),(0,o.bF)(c,{icon:["fas","search"],class:"absolute left-3 top-3 text-gray-400"})]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.refreshNotes()),disabled:l.loadingNotes,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",l.loadingNotes?"spinner":"sync-alt"],class:(0,r.C4)([l.loadingNotes?"animate-spin":"","text-sm"])},null,8,["icon","class"])],8,Pr),(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[42]||(t[42]=(0,o.eW)(" Scan New "))])])]),(0,o.Lk)("div",Rr,[(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>l.activeFilter="all"),class:(0,r.C4)(["px-3 py-1 rounded-md transition-colors","all"===l.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])}," All Notes ",2),(0,o.Lk)("button",{onClick:t[12]||(t[12]=e=>l.activeFilter="recent"),class:(0,r.C4)(["px-3 py-1 rounded-md transition-colors flex items-center space-x-1","recent"===l.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[(0,o.bF)(c,{icon:["fas","clock"],class:"text-xs"}),t[44]||(t[44]=(0,o.Lk)("span",null,"Recent",-1))],2),(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>l.activeFilter="favorites"),class:(0,r.C4)(["px-3 py-1 rounded-md transition-colors flex items-center space-x-1","favorites"===l.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[(0,o.bF)(c,{icon:["fas","star"],class:"text-xs"}),t[45]||(t[45]=(0,o.Lk)("span",null,"Favorites",-1))],2)]),l.notesError?((0,o.uX)(),(0,o.CE)("div",Ir,[(0,o.Lk)("div",Qr,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400"})]),t[47]||(t[47]=(0,o.Lk)("h3",{class:"text-xl font-medium mb-2"},"Unable to Load Notes",-1)),(0,o.Lk)("p",Dr,(0,r.v_)(l.notesError||"An error occurred while loading your notes."),1),(0,o.Lk)("div",qr,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>l.refreshNotes()),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","redo"],class:"mr-2"}),t[46]||(t[46]=(0,o.eW)(" Try Again "))]),(0,o.Lk)("button",{onClick:t[15]||(t[15]=e=>l.clearError()),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Dismiss ")])])):l.loadingNotes&&0===l.notes.length?((0,o.uX)(),(0,o.CE)("div",Or,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin text-3xl mb-3"}),t[48]||(t[48]=(0,o.Lk)("p",{class:"text-lg"},"Loading your notes...",-1))])):l.notes.length>0?((0,o.uX)(),(0,o.CE)("div",Ur,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.filteredNotes,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition cursor-pointer relative",onClick:t=>l.viewNote(e.id)},[(0,o.Lk)("div",jr,[(0,o.Lk)("div",Mr,[(0,o.Lk)("h3",Kr,(0,r.v_)(e.title),1),(0,o.Lk)("div",Wr,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.toggleFavorite(e.id)),["stop"]),class:"text-gray-400 hover:text-yellow-500"},[(0,o.bF)(c,{icon:["fas",(e.isFavorite,"star")],class:(0,r.C4)(e.isFavorite?"text-yellow-500":"")},null,8,["icon","class"])],8,Gr),(0,o.Lk)("div",$r,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.showNoteMenu(e.id)),["stop"]),class:"text-gray-400 hover:text-white"},[(0,o.bF)(c,{icon:["fas","ellipsis-v"]})],8,Vr),l.activeMenu===e.id?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"absolute right-0 top-full mt-1 w-32 bg-gray-700 rounded-md shadow-lg z-10",onClick:t[16]||(t[16]=(0,a.D$)((()=>{}),["stop"]))},[(0,o.Lk)("button",{onClick:t=>l.editNote(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 rounded-t-md flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","edit"],class:"text-xs"}),t[49]||(t[49]=(0,o.Lk)("span",null,"Edit",-1))],8,Hr),(0,o.Lk)("button",{onClick:t=>l.duplicateNote(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","copy"],class:"text-xs"}),t[50]||(t[50]=(0,o.Lk)("span",null,"Duplicate",-1))],8,Br),(0,o.Lk)("button",{onClick:t=>l.confirmDelete(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-red-600 text-red-400 hover:text-white rounded-b-md flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","trash"],class:"text-xs"}),t[51]||(t[51]=(0,o.Lk)("span",null,"Delete",-1))],8,Jr)])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("p",Yr,(0,r.v_)("recent"===l.activeFilter&&Date.now()-e.timestamp<6048e5?l.getTimeAgo(e.createdAt):e.date),1),(0,o.Lk)("p",Zr,(0,r.v_)(e.original_text),1),(0,o.Lk)("div",el,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tags,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-2 py-1 bg-gray-700 rounded-full text-xs"},(0,r.v_)(e),1)))),128))])])],8,Xr)))),128))])):((0,o.uX)(),(0,o.CE)("div",tl,[(0,o.Lk)("div",sl,[(0,o.bF)(c,{icon:["fas","book"],class:"text-4xl text-gray-400"})]),t[54]||(t[54]=(0,o.Lk)("h3",{class:"text-xl font-medium mb-2"},"No Notes Yet",-1)),t[55]||(t[55]=(0,o.Lk)("p",{class:"text-gray-400 mb-4"},"Start by scanning your study materials or creating a new note.",-1)),(0,o.Lk)("div",al,[(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[52]||(t[52]=(0,o.eW)(" Scan Notes "))]),(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.createNewNote&&l.createNewNote(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),t[53]||(t[53]=(0,o.eW)(" Create New "))])])]))])]),l.showDeleteModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[22]||(t[22]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e))},[(0,o.Lk)("div",{class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4",onClick:t[21]||(t[21]=(0,a.D$)((()=>{}),["stop"]))},[(0,o.Lk)("div",ol,[(0,o.bF)(c,{icon:["fas","times"],class:"text-red-400 text-xl mr-3"}),t[56]||(t[56]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"Delete Note",-1))]),t[57]||(t[57]=(0,o.Lk)("p",{class:"text-gray-300 mb-6"}," Are you sure you want to delete this note? This action cannot be undone. ",-1)),(0,o.Lk)("div",rl,[(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>l.deleteNote&&l.deleteNote(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"}," Delete ")])])])):(0,o.Q3)("",!0),l.showProfileModal?((0,o.uX)(),(0,o.CE)("div",ll,[(0,o.Lk)("div",nl,[(0,o.Lk)("div",il,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[58]||(t[58]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",cl,[(0,o.Lk)("div",dl,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[23]||(t[23]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[24]||(t[24]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,ul)):((0,o.uX)(),(0,o.CE)("div",gl,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-2xl"})]))]),t[59]||(t[59]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",ml,[(0,o.Lk)("div",null,[t[60]||(t[60]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",pl,(0,r.v_)(l.user?.firstName&&l.user?.lastName?`${l.user.firstName} ${l.user.lastName}`:l.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[61]||(t[61]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",bl,(0,r.v_)(l.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[62]||(t[62]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",fl,(0,r.v_)(l.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",xl,[(0,o.Lk)("button",{onClick:t[25]||(t[25]=(...e)=>l.closeProfileModal&&l.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0),l.activeMenu?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"fixed inset-0 z-0",onClick:t[26]||(t[26]=(...e)=>l.closeMenu&&l.closeMenu(...e))})):(0,o.Q3)("",!0)])}s(116);var vl={name:"NotesView",setup(){const e=(0,n.Pj)(),t=(0,g.rd)(),s=(0,g.lq)(),{showNotifications:a,notifications:r,unreadNotifications:l,toggleNotifications:i,closeNotifications:c,markAsRead:d,markAllAsRead:u,showSuccess:m,showWarning:p}=Jt(),{user:b,loading:f,loadUserProfile:x,getProfilePictureUrl:y}=rs(),v=(0,ne.KR)(null),h=(0,ne.KR)(!1),k=(0,ne.KR)(!0),w=(0,ne.KR)("connected"),L=(0,ne.KR)(new Date),C=(0,ne.KR)("all"),S=(0,ne.KR)(null),E=(0,ne.KR)(!1),_=(0,ne.KR)(null),N=(0,ne.KR)(""),A=(0,ne.KR)(""),T=(0,ne.KR)(!1),F=(0,ne.KR)(!1),z=(0,o.EW)((()=>v.value?.data?v.value.data.map((e=>({id:e.id,title:e.title||"Untitled Note",original_text:e.original_text||"",date:new Date(e.created_at).toLocaleDateString(),createdAt:new Date(e.created_at),timestamp:new Date(e.created_at).getTime(),isFavorite:!1,tags:[]}))):[])),P=b,R=(0,o.EW)((()=>e.getters["app/getSidebarVisible"])),I=(0,o.EW)((()=>e.getters["app/getThemeClasses"])),Q=e=>{const t=new Date,s=Math.floor((t-e)/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)} minutes ago`:s<86400?`${Math.floor(s/3600)} hours ago`:s<604800?`${Math.floor(s/86400)} days ago`:e.toLocaleDateString()},D=e=>{const t=e.target.src;console.error("Profile picture failed to load:",t),console.error("Image naturalWidth:",e.target.naturalWidth),console.error("Image naturalHeight:",e.target.naturalHeight),console.error("User profile picture path:",P?.profilePicture||"null")},q=e=>{const t=e.target.src;console.log("Profile picture loaded successfully:",t),console.log("Image dimensions:",e.target.naturalWidth,"x",e.target.naturalHeight)},O=(0,o.EW)((()=>"all"===C.value?z.value:"recent"===C.value?[...z.value].sort(((e,t)=>t.timestamp-e.timestamp)):"favorites"===C.value?z.value.filter((e=>e.isFavorite)):z.value)),U=async()=>{try{h.value=!0;const t=localStorage.getItem("user");if(!t)return console.error("âŒ No user data found in localStorage"),A.value="Please log in to view your notes.",void(h.value=!1);let s;console.log("ðŸ” Fetching notes for user:",t);try{s=JSON.parse(t),console.log("âœ… Parsed user data:",s),console.log("âœ… User ID:",s.id)}catch(e){return console.error("âŒ Error parsing user data:",e),A.value="Invalid user session. Please log in again.",void(h.value=!1)}const a=await ts.getNotes();if(a.data&&a.data.success?console.log("âœ… Notes loaded successfully:",a.data.data?.length||0,"notes"):console.log("âŒ Notes API returned error:",a.data?.error),a.data&&a.data.success)v.value=a.data,A.value="",console.log("âœ… Notes loaded successfully:",a.data.data?.length||0,"notes");else{const e=a.data?.error||a.data?.message||"Failed to load notes.";A.value=e,console.error("âŒ Notes API error:",e),console.error("âŒ Full response:",a.data)}}catch(t){console.error("âŒ Error fetching notes:",t);let e="Failed to load notes. Please check your connection and try again.";"NETWORK_ERROR"===t.code||t.message?.includes("Network Error")?e="Network connection error. Please check your internet connection.":"TIMEOUT"===t.code||t.message?.includes("timeout")?e="Request timed out. Please try again.":401===t.response?.status?e="Authentication failed. Please log in again.":403===t.response?.status?e="Access denied. You may not have permission to view these notes.":404===t.response?.status?e="Notes service not found. Please contact support.":t.response?.status>=500&&(e="Server error. Please try again later."),A.value=e}finally{h.value=!1}},X=async()=>{await x()},j=async()=>{await U()},M=async()=>{await x()},K=()=>{A.value=""};(0,o.sV)((async()=>{await Promise.all([U(),X()])})),(0,o.wB)((()=>s.fullPath),(async e=>{if(e.startsWith("/notes")){console.log("Navigated to notes page, checking if refresh needed...");const a="true"===s.query.refresh||"/notes"===e;a&&(console.log("Refreshing notes..."),await U(),s.query.refresh&&m("Notes updated","Your notes have been refreshed."),s.query.refresh&&t.replace("/notes"))}}));const W=e=>{V(),t.push(`/notes/${e}`)},G=e=>{const t=z.value.find((t=>t.id===e));t&&(t.isFavorite=!t.isFavorite,se(t))},$=e=>{S.value=S.value===e?null:e},V=()=>{S.value=null},H=e=>{V(),t.push(`/notes/edit/${e}`)},B=async e=>{V();const t=z.value.find((t=>t.id===e));if(t){const e={title:`${t.title} (Copy)`,text:t.original_text};try{await ts.createNote(e),await U(),m("Note duplicated","The note has been successfully duplicated.")}catch(s){console.error("Error duplicating note:",s),p("Duplicate failed","Failed to duplicate the note. Please try again.")}}},J=e=>{V(),_.value=e,E.value=!0},Y=()=>{E.value=!1,_.value=null},Z=async()=>{if(_.value)try{await ts.deleteNote(_.value),await U(),m("Note deleted","The note has been successfully deleted.")}catch(e){console.error("Error deleting note:",e),p("Delete failed","Failed to delete the note. Please try again.")}Y()},ee=()=>{console.log("Opening camera..."),t.push("/notes/edit")},te=()=>{t.push("/notes/edit")},se=async e=>{try{await ts.updateNote(e.id,e)}catch(t){console.error("Error updating note:",t)}},ae=()=>{e.dispatch("app/toggleSidebar")},oe=()=>{T.value=!T.value},re=()=>{T.value=!1},le=()=>{F.value=!0,T.value=!1},ie=()=>{F.value=!1},ce=async()=>{try{t.push("/login")}catch(e){console.error("Error logging out:",e)}};return{notes:z,user:P,sidebarVisible:R,activeFilter:C,activeMenu:S,showDeleteModal:E,noteToDelete:_,showUserMenu:T,showProfileModal:F,filteredNotes:O,notesError:A,loadingNotes:h,loadingUser:f,isConnected:k,connectionStatus:w,lastSync:L,toggleSidebar:ae,viewNote:W,toggleFavorite:G,showNoteMenu:$,closeMenu:V,editNote:H,duplicateNote:B,confirmDelete:J,closeDeleteModal:Y,deleteNote:Z,openCamera:ee,createNewNote:te,getProfilePictureUrl:y,handleImageError:D,handleImageLoad:q,getTimeAgo:Q,toggleUserMenu:oe,closeUserMenu:re,openProfileModal:le,closeProfileModal:ie,logout:ce,refreshNotes:j,refreshUser:M,clearError:K,showNotifications:a,notifications:r,unreadNotifications:l,toggleNotifications:i,closeNotifications:c,markAsRead:d,markAllAsRead:u,loadUserProfile:x,ocrText:N,themeClasses:I,store:e}}};const hl=(0,c.A)(vl,[["render",yl]]);var kl=hl;const wl={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Ll={class:"p-4 bg-gray-800 flex justify-between items-center"},Cl={class:"flex items-center space-x-3"},Sl=["title"],El={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap border border-gray-700"},_l={class:"flex items-center space-x-2 md:space-x-4"},Nl={class:"relative"},Al={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Tl={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},Fl={key:0},zl=["onClick"],Pl={class:"flex items-start space-x-3"},Rl={class:"flex-shrink-0 mt-1"},Il={class:"flex-grow"},Ql={class:"flex items-start justify-between"},Dl={class:"flex-grow"},ql={class:"text-sm font-medium text-white"},Ol={class:"text-xs text-gray-300 mt-1"},Ul={class:"text-xs text-gray-500 mt-2"},Xl={class:"flex items-center space-x-2 ml-2"},jl={key:0,class:"flex-shrink-0"},Ml=["onClick"],Kl={key:0,class:"mt-3 flex space-x-2"},Wl=["onClick"],Gl={key:1,class:"mt-2 flex items-center"},$l={key:2,class:"mt-2 flex items-center"},Vl={key:1,class:"p-4 text-center text-gray-400"},Hl={key:2,class:"p-3 border-t border-gray-700"},Bl={class:"relative"},Jl={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},Yl=["src"],Zl={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},en={class:"text-sm text-gray-300"},tn={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},sn={class:"flex flex-grow transition-all duration-300"},an={class:"space-y-2"},on={class:"flex-1 p-4 md:p-6 transition-all duration-300 ease-in-out"},rn={class:"flex justify-between items-center mb-6"},ln={class:"flex items-center space-x-2"},nn=["disabled"],cn={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6"},dn={class:"bg-gray-800 rounded-lg p-6"},un={class:"flex justify-between items-center mb-2"},gn={class:"text-3xl font-bold"},mn={class:"text-sm text-gray-400"},pn={class:"bg-gray-800 rounded-lg p-6"},bn={class:"flex justify-between items-center mb-2"},fn={class:"text-3xl font-bold"},xn={class:"text-sm text-gray-400"},yn={class:"bg-gray-800 rounded-lg p-6"},vn={class:"flex justify-between items-center mb-2"},hn={class:"text-3xl font-bold"},kn={class:"text-sm text-gray-400"},wn={class:"bg-gray-800 rounded-lg p-6 mb-6"},Ln={class:"h-64 flex items-end justify-between"},Cn={class:"w-full px-1"},Sn={class:"text-xs mt-2 text-gray-400"},En={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6"},_n={class:"bg-gray-800 rounded-lg p-6"},Nn={class:"space-y-4"},An={class:"flex justify-between mb-1"},Tn={class:"w-full bg-gray-700 rounded-full h-2.5"},Fn={class:"bg-gray-800 rounded-lg p-6"},zn={class:"space-y-4"},Pn={class:"font-medium"},Rn={class:"text-sm text-gray-400"},In={class:"bg-gray-800 rounded-lg p-6"},Qn={class:"flex justify-between items-center mb-4"},Dn={key:0,class:"bg-gray-700 rounded-lg p-4 mb-4"},qn={class:"mb-3"},On={class:"mb-3"},Un={class:"flex justify-end space-x-2"},Xn={class:"space-y-4"},jn={class:"flex justify-between items-start"},Mn={class:"font-medium"},Kn={class:"text-sm text-gray-400"},Wn={class:"flex space-x-2"},Gn={class:"text-gray-400 hover:text-white"},$n={class:"text-gray-400 hover:text-white"},Vn={class:"mt-3"},Hn={class:"flex justify-between mb-1 text-sm"},Bn={class:"w-full bg-gray-600 rounded-full h-2"},Jn={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Yn={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},Zn={class:"flex items-center mb-4"},ei={class:"flex flex-col items-center mb-6"},ti={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-600 mb-3"},si=["src"],ai={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},oi={class:"space-y-4"},ri={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},li={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},ni={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},ii={class:"flex justify-end space-x-3 mt-6"};function ci(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",wl,[(0,o.Lk)("header",Ll,[(0,o.Lk)("div",Cl,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"group relative flex flex-col items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-slate-800 to-gray-900 hover:from-blue-600 hover:to-blue-700 text-gray-300 hover:text-white transition-all duration-300 ease-out transform hover:scale-105 active:scale-95 overflow-hidden shadow-lg hover:shadow-xl hover:shadow-blue-500/25",title:l.sidebarVisible?"Hide sidebar":"Show sidebar"},[t[20]||(t[20]=(0,o.Fv)('<div class="flex flex-col space-y-1 relative z-10"><div class="w-6 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-7 group-hover:bg-white rounded-full"></div><div class="w-5 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-6 group-hover:bg-white rounded-full"></div><div class="w-4 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-5 group-hover:bg-white rounded-full"></div></div><div class="absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500/0 to-blue-600/0 group-hover:from-blue-500/10 group-hover:to-blue-600/10 transition-all duration-300"></div>',2)),(0,o.Lk)("div",El,[(0,o.eW)((0,r.v_)(l.sidebarVisible?"Hide Menu":"Show Menu")+" ",1),t[19]||(t[19]=(0,o.Lk)("div",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"},null,-1))])],8,Sl),t[21]||(t[21]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1))]),(0,o.Lk)("div",_l,[(0,o.Lk)("div",Nl,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",Al,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",Tl,[t[26]||(t[26]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Fl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",Pl,[(0,o.Lk)("div",Rl,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",Il,[(0,o.Lk)("div",Ql,[(0,o.Lk)("div",Dl,[(0,o.Lk)("p",ql,(0,r.v_)(s.title),1),(0,o.Lk)("p",Ol,(0,r.v_)(s.message),1),(0,o.Lk)("p",Ul,(0,r.v_)(s.time),1)]),(0,o.Lk)("div",Xl,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",jl,t[22]||(t[22]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Ml)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Kl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,Wl)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",Gl,t[23]||(t[23]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",$l,t[24]||(t[24]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,zl)))),128))])):((0,o.uX)(),(0,o.CE)("div",Vl,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[25]||(t[25]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Hl,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[3]||(t[3]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Bl,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",Jl,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:0,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[4]||(t[4]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[5]||(t[5]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,Yl)):((0,o.uX)(),(0,o.CE)("div",Zl,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",en,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",tn,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[27]||(t[27]=[(0,o.eW)("Settings")]))),_:1,__:[27]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",sn,[l.sidebarVisible?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,r.C4)(["w-64 p-4 transition-all duration-300 ease-in-out",l.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",an,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[28]||(t[28]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[28]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[29]||(t[29]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[29]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[30]||(t[30]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[30]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[31]||(t[31]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[31]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[32]||(t[32]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[32]},8,["class"])])])])],2)):(0,o.Q3)("",!0),(0,o.Lk)("main",on,[(0,o.Lk)("div",rn,[t[34]||(t[34]=(0,o.Lk)("div",{class:"flex items-center space-x-4"},[(0,o.Lk)("h1",{class:"text-2xl font-bold"},"Study Progress")],-1)),(0,o.Lk)("div",ln,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.refreshProgress()),disabled:l.loadingProgress,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",l.loadingProgress?"spinner":"sync-alt"],class:(0,r.C4)([l.loadingProgress?"animate-spin":"","text-sm"])},null,8,["icon","class"]),t[33]||(t[33]=(0,o.Lk)("span",{class:"text-sm"},"Refresh",-1))],8,nn),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.debugStats()),class:"px-3 py-1 bg-blue-600 rounded-md hover:bg-blue-700 transition text-sm"}," Debug Stats ")])]),(0,o.Lk)("div",cn,[(0,o.Lk)("div",dn,[(0,o.Lk)("div",un,[t[35]||(t[35]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Total Notes",-1)),(0,o.bF)(c,{icon:["fas","book"],class:"text-blue-500 text-xl"})]),(0,o.Lk)("p",gn,(0,r.v_)(l.stats.totalNotes),1),(0,o.Lk)("p",mn,(0,r.v_)(l.stats.notesThisWeek)+" new this week",1)]),(0,o.Lk)("div",pn,[(0,o.Lk)("div",bn,[t[36]||(t[36]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Study Time",-1)),(0,o.bF)(c,{icon:["fas","clock"],class:"text-green-500 text-xl"})]),(0,o.Lk)("p",fn,(0,r.v_)(l.stats.studyHours)+"h",1),(0,o.Lk)("p",xn,(0,r.v_)(l.stats.studyHoursThisWeek)+"h this week",1)]),(0,o.Lk)("div",yn,[(0,o.Lk)("div",vn,[t[37]||(t[37]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Quiz Score",-1)),(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-yellow-500 text-xl"})]),(0,o.Lk)("p",hn,(0,r.v_)(l.stats.quizAverage)+"%",1),(0,o.Lk)("p",kn,(0,r.v_)(l.stats.quizzesCompleted)+" quizzes completed",1)])]),(0,o.Lk)("div",wn,[t[38]||(t[38]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Weekly Activity",-1)),(0,o.Lk)("div",Ln,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.weeklyActivity,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex flex-col items-center w-full"},[(0,o.Lk)("div",Cn,[(0,o.Lk)("div",{class:"bg-blue-600 rounded-t",style:(0,r.Tr)({height:200*e.activity+"px"})},null,4)]),(0,o.Lk)("p",Sn,(0,r.v_)(e.name),1)])))),128))])]),(0,o.Lk)("div",En,[(0,o.Lk)("div",_n,[t[39]||(t[39]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Subject Distribution",-1)),(0,o.Lk)("div",Nn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.subjects,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[(0,o.Lk)("div",An,[(0,o.Lk)("span",null,(0,r.v_)(e.name),1),(0,o.Lk)("span",null,(0,r.v_)(e.percentage)+"%",1)]),(0,o.Lk)("div",Tn,[(0,o.Lk)("div",{class:(0,r.C4)(["h-2.5 rounded-full",e.color]),style:(0,r.Tr)({width:`${e.percentage}%`})},null,6)])])))),128))])]),(0,o.Lk)("div",Fn,[t[40]||(t[40]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Recent Activity",-1)),(0,o.Lk)("div",zn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.recentActivity,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex items-start"},[(0,o.Lk)("div",{class:(0,r.C4)(`${e.iconColor} p-2 rounded-full mr-3`)},[(0,o.bF)(c,{icon:e.icon},null,8,["icon"])],2),(0,o.Lk)("div",null,[(0,o.Lk)("p",Pn,(0,r.v_)(e.title),1),(0,o.Lk)("p",Rn,(0,r.v_)(e.time),1)])])))),128))])])]),(0,o.Lk)("div",In,[(0,o.Lk)("div",Qn,[t[42]||(t[42]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Study Goals",-1)),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>l.showAddGoalForm=!0),class:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-1"}),t[41]||(t[41]=(0,o.eW)(" New Goal "))])]),l.showAddGoalForm?((0,o.uX)(),(0,o.CE)("div",Dn,[t[45]||(t[45]=(0,o.Lk)("h3",{class:"font-medium mb-3"},"Add New Goal",-1)),(0,o.Lk)("div",qn,[t[43]||(t[43]=(0,o.Lk)("label",{class:"block text-sm text-gray-400 mb-1"},"Goal Title",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.newGoal.title=e),class:"w-full p-2 bg-gray-600 rounded border border-gray-500 focus:outline-none focus:border-blue-500",placeholder:"E.g., Complete Biology Chapter 5-8"},null,512),[[a.Jo,l.newGoal.title]])]),(0,o.Lk)("div",On,[t[44]||(t[44]=(0,o.Lk)("label",{class:"block text-sm text-gray-400 mb-1"},"Due Date",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.newGoal.dueDate=e),type:"date",class:"w-full p-2 bg-gray-600 rounded border border-gray-500 focus:outline-none focus:border-blue-500"},null,512),[[a.Jo,l.newGoal.dueDate]])]),(0,o.Lk)("div",Un,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>l.showAddGoalForm=!1),class:"px-3 py-1 bg-gray-600 rounded text-sm hover:bg-gray-500 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>l.addGoal&&l.addGoal(...e)),class:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition"}," Add Goal ")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Xn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.goals,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("div",jn,[(0,o.Lk)("div",null,[(0,o.Lk)("h3",Mn,(0,r.v_)(e.title),1),(0,o.Lk)("p",Kn,(0,r.v_)(e.dueDate),1)]),(0,o.Lk)("div",Wn,[(0,o.Lk)("button",Gn,[(0,o.bF)(c,{icon:["fas","edit"]})]),(0,o.Lk)("button",$n,[(0,o.bF)(c,{icon:["fas","trash"]})])])]),(0,o.Lk)("div",Vn,[(0,o.Lk)("div",Hn,[t[46]||(t[46]=(0,o.Lk)("span",null,"Progress",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.progress)+"%",1)]),(0,o.Lk)("div",Bn,[(0,o.Lk)("div",{class:"h-2 rounded-full bg-green-500",style:(0,r.Tr)({width:`${e.progress}%`})},null,4)])])])))),128))])])])]),l.showProfileModal?((0,o.uX)(),(0,o.CE)("div",Jn,[(0,o.Lk)("div",Yn,[(0,o.Lk)("div",Zn,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[47]||(t[47]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",ei,[(0,o.Lk)("div",ti,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[16]||(t[16]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[17]||(t[17]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,si)):((0,o.uX)(),(0,o.CE)("div",ai,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-2xl"})]))]),t[48]||(t[48]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",oi,[(0,o.Lk)("div",null,[t[49]||(t[49]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",ri,(0,r.v_)(l.user?.firstName&&l.user?.lastName?`${l.user.firstName} ${l.user.lastName}`:l.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[50]||(t[50]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",li,(0,r.v_)(l.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[51]||(t[51]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",ni,(0,r.v_)(l.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",ii,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.closeProfileModal&&l.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0)])}var di={name:"ProgressView",setup(){const e=(0,g.rd)(),t=(0,n.Pj)(),{showNotifications:s,notifications:a,unreadNotifications:r,toggleNotifications:l,closeNotifications:i,markAsRead:c,markAllAsRead:d}=Jt(),{user:u,loading:m,loadUserProfile:p,getProfilePictureUrl:b}=rs(),f=(0,ne.KR)(null),x=(0,ne.KR)(!1),y=(0,ne.KR)(!0),v=(0,ne.KR)("connected"),h=(0,ne.KR)(new Date),k=(0,o.EW)((()=>{if(!f.value?.data?.data)return console.log("ProgressView: No progress data available"),{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0};const e=f.value.data.data,t={totalNotes:e.totalNotes||0,notesThisWeek:e.notesThisWeek||0,studyHours:e.studyHours||0,studyHoursThisWeek:e.studyHoursThisWeek||0,quizAverage:e.quizAverage||0,quizzesCompleted:e.quizzesCompleted||0};return console.log("ProgressView stats:",t),t})),w=(0,o.EW)((()=>f.value?.data?.data?.weeklyActivity||[])),L=(0,o.EW)((()=>f.value?.data?.data?.subjects||[])),C=(0,o.EW)((()=>f.value?.data?.data?.recentActivity||[])),S=u,E=(0,o.EW)((()=>t.getters["app/getSidebarVisible"])),_=(0,o.EW)((()=>t.getters["app/getThemeClasses"])),N=(0,ne.KR)([{title:"Complete Biology Chapter 5-8",dueDate:"Due in 5 days",progress:65},{title:"Prepare for History Midterm",dueDate:"Due in 2 weeks",progress:30},{title:"Review Math Formulas",dueDate:"Due tomorrow",progress:90}]),A=(0,ne.KR)(!1),T=(0,ne.KR)({title:"",dueDate:""}),F=(0,ne.KR)(!1),z=(0,ne.KR)(!1),P=async()=>{try{x.value=!0;const e=await ts.getDashboardStats();f.value=e.data,console.log("Progress data fetched successfully:",e.data)}catch(e){console.error("Error fetching progress data:",e)}finally{x.value=!1}},R=async()=>{await P()},I=async()=>{await p()};(0,o.sV)((async()=>{await Promise.all([P(),p()]),console.log("ProgressView mounted and data loaded")}));const Q=e=>{const t=e.target.src;console.error("Profile picture failed to load:",t),console.error("Image naturalWidth:",e.target.naturalWidth),console.error("Image naturalHeight:",e.target.naturalHeight);const s=S.value||{};console.error("User profile picture path:",s.profilePicture||"null")},D=e=>{const t=e.target.src;console.log("Profile picture loaded successfully:",t),console.log("Image dimensions:",e.target.naturalWidth,"x",e.target.naturalHeight)},q=()=>{console.log("=== DEBUG STATS ==="),console.log("Raw progress response:",f.value),console.log("Computed stats:",k.value),console.log("Loading state:",x.value),console.log("Connection status:",y.value),console.log("===================")},O=async()=>{try{if(!T.value.title.trim()||!T.value.dueDate)return void alert("Please fill in all fields");const e=new Date(T.value.dueDate),t=new Date,s=e-t,a=Math.ceil(s/864e5);let o;o=0===a?"Due today":1===a?"Due tomorrow":a<7?`Due in ${a} days`:a<14?"Due in 1 week":`Due in ${Math.floor(a/7)} weeks`,N.value.push({title:T.value.title,dueDate:o,progress:0}),T.value={title:"",dueDate:""},A.value=!1}catch(e){console.error("Error adding goal:",e),alert("Failed to add goal. Please try again.")}},U=()=>{t.dispatch("app/toggleSidebar")},X=()=>{F.value=!F.value},j=()=>{F.value=!1},M=()=>{z.value=!0,F.value=!1},K=()=>{z.value=!1},W=async()=>{try{e.push("/login")}catch(t){console.error("Error logging out:",t)}};return{stats:k,weeklyActivity:w,subjects:L,recentActivity:C,goals:N,user:S,sidebarVisible:E,showAddGoalForm:A,newGoal:T,showUserMenu:F,showProfileModal:z,loadingProgress:x,loadingUser:m,isConnected:y,connectionStatus:v,lastSync:h,toggleSidebar:U,addGoal:O,debugStats:q,refreshProgress:R,refreshUser:I,getProfilePictureUrl:b,handleImageError:Q,handleImageLoad:D,toggleUserMenu:X,closeUserMenu:j,openProfileModal:M,closeProfileModal:K,logout:W,showNotifications:s,notifications:a,unreadNotifications:r,toggleNotifications:l,closeNotifications:i,markAsRead:c,markAllAsRead:d,themeClasses:_,store:t}}};const ui=(0,c.A)(di,[["render",ci]]);var gi=ui;const mi={class:"flex flex-grow transition-all duration-300"},pi={class:"space-y-2"},bi={key:1,class:"space-y-6"},fi={class:"flex flex-col items-center mb-6"},xi=["src"],yi={class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition cursor-pointer"},vi={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},hi=["value","disabled"],ki=["value","disabled"],wi=["value","disabled"],Li={class:"mt-4"},Ci=["disabled"],Si={key:0},Ei={key:1},_i={class:"space-y-4"},Ni={class:"mt-4"},Ai=["disabled"],Ti={key:0},Fi={key:1},zi={key:2,class:"space-y-6"},Pi={class:"flex space-x-4"},Ri={class:"flex items-center space-x-4"},Ii=["value"],Qi={key:3,class:"space-y-6"},Di={class:"space-y-4"},qi={class:"flex items-center justify-between"},Oi={class:"flex items-center justify-between"},Ui={class:"flex items-center justify-between"},Xi={class:"mt-6"},ji={class:"space-y-4"},Mi={class:"flex items-center justify-between"},Ki={class:"flex items-center justify-between"},Wi={key:4,class:"space-y-6"},Gi={class:"space-y-4"},$i={class:"mt-4"},Vi={class:"space-y-4"},Hi={key:0},Bi={class:"mt-4"};function Ji(e,t,s,l,n,i){const c=(0,o.g2)("AppHeader"),d=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)(["min-h-screen flex flex-col transition-colors duration-300",l.themeClasses.main])},[(0,o.bF)(c,{onToggleSidebar:l.handleSidebarToggle,onOpenProfileModal:l.openProfileModal},null,8,["onToggleSidebar","onOpenProfileModal"]),(0,o.Lk)("div",mi,[l.sidebarVisible?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,r.C4)(["w-64 p-4 transition-all duration-300 ease-in-out",l.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",pi,[(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/dashboard",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","home"]}),t[32]||(t[32]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[32]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/notes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","book"]}),t[33]||(t[33]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[33]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/quizzes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","book"]}),t[34]||(t[34]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[34]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/progress",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","chart-line"]}),t[35]||(t[35]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[35]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(u,{to:"/settings",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(d,{icon:["fas","cog"]}),t[36]||(t[36]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[36]},8,["class"])])])])],2)):(0,o.Q3)("",!0),(0,o.Lk)("main",{class:(0,r.C4)(["flex-1 p-6 transition-all duration-300 ease-in-out",l.themeClasses.mainContent])},[(0,o.Lk)("h1",{class:(0,r.C4)(["font-bold mb-6 transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.heading]])},"Settings",2),l.message?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,r.C4)(["mb-6 p-4 rounded-lg","success"===l.messageType?"bg-green-800 text-green-200":"bg-red-800 text-red-200"])},[(0,o.bF)(d,{icon:"success"===l.messageType?["fas","check-circle"]:["fas","triangle-exclamation"],class:"mr-2"},null,8,["icon"]),(0,o.eW)(" "+(0,r.v_)(l.message),1)],2)):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,r.C4)(["flex mb-6 transition-colors duration-300","dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-700":"border-gray-200"])},[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>l.activeTab="account"),class:(0,r.C4)(["px-4 py-2 font-medium","account"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Account ",2),(0,o.Lk)("button",{onClick:t[1]||(t[1]=e=>l.activeTab="appearance"),class:(0,r.C4)(["px-4 py-2 font-medium","appearance"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Appearance ",2),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>l.activeTab="notifications"),class:(0,r.C4)(["px-4 py-2 font-medium","notifications"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Notifications ",2),(0,o.Lk)("button",{onClick:t[3]||(t[3]=e=>l.activeTab="api"),class:(0,r.C4)(["px-4 py-2 font-medium","api"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," API Settings ",2)],2),"account"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",bi,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Profile Picture",2),(0,o.Lk)("div",fi,[(0,o.Lk)("div",{class:(0,r.C4)(["relative w-24 h-24 rounded-full overflow-hidden mb-3","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[4]||(t[4]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[5]||(t[5]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,xi)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["w-full h-full flex items-center justify-center","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[(0,o.bF)(d,{icon:["fas","user"],class:(0,r.C4)(["text-2xl","dark"===l.store.getters["app/getCurrentTheme"]?"text-white":"text-gray-700"])},null,8,["class"])],2)),(0,o.Lk)("label",yi,[(0,o.bF)(d,{icon:["fas","camera"],class:"text-white"}),(0,o.Lk)("input",{type:"file",accept:"image/*,.pdf,application/pdf",onChange:t[6]||(t[6]=(...e)=>l.handleProfilePictureUpload&&l.handleProfilePictureUpload(...e)),class:"hidden"},null,32)])],2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm mb-2",l.themeClasses.secondaryText])},"Click to change profile picture",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-xs",l.themeClasses.secondaryText])},"JPEG, PNG, GIF, WebP, PDF (max 5MB)",2)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Profile Information",2),(0,o.Lk)("div",vi,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"First Name",2),(0,o.Lk)("input",{value:l.user?.firstName||"",onInput:t[7]||(t[7]=e=>l.user?l.user.firstName=e.target.value:null),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input]),disabled:!l.user},null,42,hi)]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Last Name",2),(0,o.Lk)("input",{value:l.user?.lastName||"",onInput:t[8]||(t[8]=e=>l.user?l.user.lastName=e.target.value:null),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input]),disabled:!l.user},null,42,ki)]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Email Address",2),(0,o.Lk)("input",{value:l.user?.email||"",onInput:t[9]||(t[9]=e=>l.user?l.user.email=e.target.value:null),type:"email",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input]),disabled:!l.user},null,42,wi)])]),(0,o.Lk)("div",Li,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>l.saveProfile&&l.saveProfile(...e)),disabled:l.isLoading,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50"},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",Si,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[37]||(t[37]=(0,o.eW)(" Saving... "))])):((0,o.uX)(),(0,o.CE)("span",Ei,"Save Changes"))],8,Ci)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Change Password",2),(0,o.Lk)("div",_i,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Current Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.passwords.current=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.passwords.current]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"New Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.passwords.new=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.passwords.new]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Confirm New Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.passwords.confirm=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.passwords.confirm]])])]),(0,o.Lk)("div",Ni,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>l.updatePassword&&l.updatePassword(...e)),disabled:l.isLoading,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50"},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",Ti,[(0,o.bF)(d,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[38]||(t[38]=(0,o.eW)(" Updating... "))])):((0,o.uX)(),(0,o.CE)("span",Fi,"Update Password"))],8,Ai)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Danger Zone",2),(0,o.Lk)("p",{class:(0,r.C4)(["mb-4",l.themeClasses.secondaryText])},"Once you delete your account, there is no going back. Please be certain.",2),(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>l.deleteAccount&&l.deleteAccount(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(d,{icon:["fas","times"],class:"mr-2"}),t[39]||(t[39]=(0,o.eW)(" Delete Account "))])],2)])):(0,o.Q3)("",!0),"appearance"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",zi,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6 transition-colors duration-300",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4 transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.body]])},"Theme",2),(0,o.Lk)("div",Pi,[(0,o.Lk)("div",{onClick:t[16]||(t[16]=e=>l.store.dispatch("app/setTheme","dark")),class:(0,r.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","dark"===l.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},[(0,o.Lk)("div",{class:(0,r.C4)(["h-full rounded-lg p-3","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-900":"bg-gray-700"])},[(0,o.Lk)("div",{class:(0,r.C4)(["h-4 w-full rounded mb-2","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-800":"bg-gray-700"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)(["h-4 w-3/4 rounded","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-800":"bg-gray-700"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)(["mt-4 text-xs text-center","dark"===l.store.getters["app/getCurrentTheme"]?"text-gray-400":"text-gray-600"])},"Dark",2)],2)],2),(0,o.Lk)("div",{onClick:t[17]||(t[17]=e=>l.store.dispatch("app/setTheme","light")),class:(0,r.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","light"===l.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},t[40]||(t[40]=[(0,o.Lk)("div",{class:"h-full bg-gray-100 rounded-lg p-3"},[(0,o.Lk)("div",{class:"h-4 w-full bg-white rounded mb-2"}),(0,o.Lk)("div",{class:"h-4 w-3/4 bg-white rounded"}),(0,o.Lk)("div",{class:"mt-4 text-xs text-center text-gray-600"},"Light")],-1)]),2),(0,o.Lk)("div",{onClick:t[18]||(t[18]=e=>l.store.dispatch("app/setTheme","system")),class:(0,r.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","system"===l.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},t[41]||(t[41]=[(0,o.Lk)("div",{class:"h-full bg-gradient-to-r from-gray-900 to-gray-100 rounded-lg p-3 flex items-center justify-center"},[(0,o.Lk)("div",{class:"text-xs text-center"},"System")],-1)]),2)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4 transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.body]])},"Font Size",2),(0,o.Lk)("div",Ri,[(0,o.Lk)("span",{class:(0,r.C4)(["transition-all duration-300",[l.themeClasses.secondaryText,l.fontSizeClasses.small]])},"A",2),(0,o.Lk)("input",{value:l.store.getters["app/getFontSize"],onInput:t[19]||(t[19]=e=>l.store.dispatch("app/setFontSize",parseInt(e.target.value))),type:"range",min:"12",max:"20",class:(0,r.C4)(["w-full h-2 rounded-lg appearance-none cursor-pointer transition-colors duration-300",l.themeClasses.button])},null,42,Ii),(0,o.Lk)("span",{class:(0,r.C4)(["transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.body]])},"A",2)]),(0,o.Lk)("p",{class:(0,r.C4)(["mt-2 transition-all duration-300",[l.themeClasses.secondaryText,l.fontSizeClasses.label]])},"Current font size: "+(0,r.v_)(l.store.getters["app/getFontSize"])+"px",3)],2)])):(0,o.Q3)("",!0),"notifications"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",Qi,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Email Notifications",2),(0,o.Lk)("div",Di,[(0,o.Lk)("div",qi,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Weekly Summary",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Receive a weekly summary of your study progress",2)]),(0,o.Lk)("button",{onClick:t[20]||(t[20]=e=>l.settings.notifications.weeklySummary=!l.settings.notifications.weeklySummary),class:(0,r.C4)([l.settings.notifications.weeklySummary?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.weeklySummary?"ON":"OFF"),3)]),(0,o.Lk)("div",Oi,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Study Reminders",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Receive reminders for your study goals",2)]),(0,o.Lk)("button",{onClick:t[21]||(t[21]=e=>l.settings.notifications.studyReminders=!l.settings.notifications.studyReminders),class:(0,r.C4)([l.settings.notifications.studyReminders?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.studyReminders?"ON":"OFF"),3)]),(0,o.Lk)("div",Ui,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"New Features",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Receive updates about new features and improvements",2)]),(0,o.Lk)("button",{onClick:t[22]||(t[22]=e=>l.settings.notifications.newFeatures=!l.settings.notifications.newFeatures),class:(0,r.C4)([l.settings.notifications.newFeatures?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.newFeatures?"ON":"OFF"),3)])]),(0,o.Lk)("div",Xi,[(0,o.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>l.saveNotificationSettings&&l.saveNotificationSettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(d,{icon:["fas","save"],class:"mr-2"}),t[42]||(t[42]=(0,o.eW)(" Save Notification Settings "))])])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"In-App Notifications",2),(0,o.Lk)("div",ji,[(0,o.Lk)("div",Mi,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Quiz Results",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Show notifications for quiz results",2)]),(0,o.Lk)("button",{onClick:t[24]||(t[24]=e=>l.settings.notifications.quizResults=!l.settings.notifications.quizResults),class:(0,r.C4)([l.settings.notifications.quizResults?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.quizResults?"ON":"OFF"),3)]),(0,o.Lk)("div",Ki,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Goal Progress",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Show notifications for goal progress updates",2)]),(0,o.Lk)("button",{onClick:t[25]||(t[25]=e=>l.settings.notifications.goalProgress=!l.settings.notifications.goalProgress),class:(0,r.C4)([l.settings.notifications.goalProgress?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.goalProgress?"ON":"OFF"),3)])])],2)])):(0,o.Q3)("",!0),"api"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",Wi,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"OpenAI API Configuration",2),(0,o.Lk)("div",Gi,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"API Key",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>l.settings.api.openaiKey=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input]),placeholder:"sk-..."},null,2),[[a.Jo,l.settings.api.openaiKey]]),(0,o.Lk)("p",{class:(0,r.C4)(["mt-1 text-xs",l.themeClasses.secondaryText])},"Your OpenAI API key is stored securely and used for AI-powered features.",2)]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Model",2),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[27]||(t[27]=e=>l.settings.api.openaiModel=e),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},t[43]||(t[43]=[(0,o.Lk)("option",{value:"gpt-4"},"GPT-4 (Most Capable)",-1),(0,o.Lk)("option",{value:"gpt-3.5-turbo"},"GPT-3.5 Turbo (Faster)",-1)]),2),[[a.u1,l.settings.api.openaiModel]])])]),(0,o.Lk)("div",$i,[(0,o.Lk)("button",{onClick:t[28]||(t[28]=(...e)=>l.saveAPISettings&&l.saveAPISettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(d,{icon:["fas","save"],class:"mr-2"}),t[44]||(t[44]=(0,o.eW)(" Save API Settings "))])])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"OCR Configuration",2),(0,o.Lk)("div",Vi,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"OCR Engine",2),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[29]||(t[29]=e=>l.settings.api.ocrEngine=e),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},t[45]||(t[45]=[(0,o.Lk)("option",{value:"tesseract"},"Tesseract (Local)",-1),(0,o.Lk)("option",{value:"google"},"Google Cloud Vision (Cloud)",-1),(0,o.Lk)("option",{value:"azure"},"Azure Computer Vision (Cloud)",-1)]),2),[[a.u1,l.settings.api.ocrEngine]])]),"tesseract"!==l.settings.api.ocrEngine?((0,o.uX)(),(0,o.CE)("div",Hi,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"API Key",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[30]||(t[30]=e=>l.settings.api.ocrKey=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.settings.api.ocrKey]])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Bi,[(0,o.Lk)("button",{onClick:t[31]||(t[31]=(...e)=>l.saveOCRSettings&&l.saveOCRSettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(d,{icon:["fas","save"],class:"mr-2"}),t[46]||(t[46]=(0,o.eW)(" Save OCR Settings "))])])],2)])):(0,o.Q3)("",!0)],2)])],2)}var Yi={name:"SettingsView",components:{AppHeader:Us},setup(){const e=(0,n.Pj)(),{showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:r,closeNotifications:l,markAsRead:i,markAllAsRead:c}=Jt(),{user:d,loadUserProfile:u,updateUserProfile:g,getProfilePictureUrl:m}=rs(),p=(0,ne.KR)("account"),b=(0,ne.KR)({current:"",new:"",confirm:""}),f=(0,ne.KR)(!1),x=(0,ne.KR)(""),y=(0,ne.KR)(""),v=(0,ne.KR)(!1),h=(0,ne.Kh)({get theme(){return e.getters["app/getTheme"]},set theme(t){e.dispatch("app/setTheme",t)},get fontSize(){return e.getters["app/getFontSize"]},set fontSize(t){e.dispatch("app/setFontSize",t)},notifications:{weeklySummary:!1,studyReminders:!1,newFeatures:!1,quizResults:!1,goalProgress:!1},api:{openaiKey:"",openaiModel:"gpt-3.5-turbo",ocrEngine:"tesseract",ocrKey:""}}),k=(0,o.EW)((()=>e.getters["app/getThemeClasses"])),w=(0,o.EW)((()=>e.getters["app/getFontSizeClasses"])),L=(0,o.EW)((()=>e.getters["app/getSidebarVisible"])),C=()=>{e.dispatch("app/toggleSidebar")},S=()=>{e.dispatch("app/toggleSidebar")},E=async()=>{try{const e=await ts.getSettings();e.data.success&&Object.assign(h,e.data.data)}catch(e){const t=localStorage.getItem("smartscribe_settings");if(t){const e=JSON.parse(t);Object.assign(h,e)}}},_=async()=>{try{const e=await ts.updateSettings(h);e.data.success}catch(e){}localStorage.setItem("smartscribe_settings",JSON.stringify(h))},N=(e,t="success")=>{x.value=e,y.value=t,setTimeout((()=>{x.value="",y.value=""}),3e3)},A=()=>{},T=()=>{},F=async()=>{try{f.value=!0;const e={first_name:d.value?.firstName||"",last_name:d.value?.lastName||"",email:d.value?.email||""},t=await g(e);t.success?(_(),N("Profile updated successfully!")):N("Failed to update profile: "+(t.error||"Unknown error"),"error")}catch(e){N("Failed to update profile","error")}finally{f.value=!1}},z=async()=>{if(b.value.new===b.value.confirm)if(b.value.new.length<6)N("Password must be at least 6 characters","error");else try{f.value=!0;const e=await ts.updatePassword({current_password:b.value.current,new_password:b.value.new});e.data.success?(b.value={current:"",new:"",confirm:""},N("Password updated successfully!")):N(e.data.message||"Failed to update password","error")}catch(e){console.error("Password update error:",e);const t=e.response?.data?.message||e.response?.data?.error||"Failed to update password";N(t,"error")}finally{f.value=!1}else N("New passwords do not match","error")},P=()=>{_(),N("Notification settings saved!")},R=()=>{_(),N("API settings saved!")},I=()=>{_(),N("OCR settings saved!")},Q=()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&N("Account deletion is not implemented in demo mode","error")},D=async()=>{await u()},q=async e=>{try{const t=new FormData;t.append("profile_picture",e);const s=await ts.uploadProfilePicture(t);return s.data.success?(await D(),{success:!0,message:s.data.message}):{success:!1,message:s.data.error}}catch(t){return{success:!1,message:"Network error"}}},O=async e=>{const t=e.target.files[0];if(!t)return;const s=["image/jpeg","image/png","image/gif","image/webp","application/pdf"];if(!s.includes(t.type))return void N("Please select a valid image file (JPEG, PNG, GIF, WebP) or PDF file","error");const a=5242880;if(t.size>a)N("File size must be less than 5MB","error");else{try{const e=await q(t);e.success?(N(e.message),await D()):N("Upload failed: "+e.message,"error")}catch(o){N("Upload failed: Network error","error")}e.target.value=""}},U=()=>{v.value=!v.value},X=()=>{v.value=!1},j=()=>{v.value=!1},M=async()=>{try{const{logout:e}=rs();e(),v.value=!1,N("Logged out successfully!")}catch(e){N("Error logging out","error")}};return(0,o.sV)((async()=>{await Promise.all([E(),u()])})),{activeTab:p,user:d,passwords:b,settings:h,themeClasses:k,fontSizeClasses:w,sidebarVisible:L,showUserMenu:v,isLoading:f,message:x,messageType:y,saveProfile:F,updatePassword:z,saveNotificationSettings:P,saveAPISettings:R,saveOCRSettings:I,deleteAccount:Q,fetchUserProfile:D,uploadProfilePicture:q,handleProfilePictureUpload:O,getProfilePictureUrl:m,handleImageError:A,handleImageLoad:T,handleSidebarToggle:C,toggleSidebar:S,toggleUserMenu:U,closeUserMenu:X,openProfileModal:j,logout:M,showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:r,closeNotifications:l,markAsRead:i,markAllAsRead:c,store:e,loadUserProfile:u,updateUserProfile:g}}};const Zi=(0,c.A)(Yi,[["render",Ji]]);var ec=Zi;const tc={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},sc={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},ac={class:"flex items-center space-x-2 sm:space-x-4"},oc={class:"text-gray-400 hover:text-white p-2"},rc={class:"flex flex-grow"},lc={class:"mt-16 md:mt-0"},nc={class:"space-y-2"},ic={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},cc={key:0,class:"flex justify-center items-center h-full"},dc={key:1},uc={class:"flex flex-col justify-between items-start mb-6 space-y-4",style:{"flex-direction":"column !important"}},gc={class:"text-xl sm:text-2xl font-bold"},mc={class:"text-gray-400 text-xs sm:text-sm"},pc={class:"flex space-x-2 sm:space-x-3 w-full sm:w-auto"},bc={key:0,class:"absolute right-0 mt-2 w-48 sm:w-56 bg-gray-800 rounded-md shadow-lg py-1 z-10 max-w-full"},fc={class:"grid grid-cols-1 gap-4 sm:gap-6 mb-6",style:{"grid-template-columns":"1fr"}},xc={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},yc={class:"bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 h-64 sm:h-96 overflow-y-auto overflow-x-hidden text-sm sm:text-base break-words"},vc={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},hc={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-2 sm:space-y-0"},kc=["disabled"],wc={class:"bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 h-64 sm:h-96 overflow-y-auto overflow-x-hidden text-sm sm:text-base break-words whitespace-pre-line"},Lc={class:"bg-gray-800 rounded-lg p-4 sm:p-6 mb-6"},Cc={class:"flex flex-wrap gap-2"},Sc={key:2,class:"flex flex-col items-center justify-center h-full"},Ec={class:"text-gray-400 mb-4"},_c={key:3,class:"flex flex-col items-center justify-center h-full"};function Nc(e,t,s,a,l,n){const i=(0,o.g2)("font-awesome-icon"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",tc,[(0,o.Lk)("header",sc,[t[14]||(t[14]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",ac,[(0,o.Lk)("button",oc,[(0,o.bF)(i,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[13]||(t[13]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",rc,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>a.sidebarOpen=!a.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[(0,o.bF)(i,{icon:["fas",a.sidebarOpen?"times":"bars"]},null,8,["icon"])]),a.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>a.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,r.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",a.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",lc,[(0,o.Lk)("ul",nc,[(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/dashboard",onClick:t[2]||(t[2]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","home"]}),t[15]||(t[15]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[15]})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/notes",onClick:t[3]||(t[3]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","book"]}),t[16]||(t[16]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[16]})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:`/quizzes/${e.$route.params.id}`,onClick:t[4]||(t[4]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","book"]}),t[17]||(t[17]=(0,o.Lk)("span",null,"Quiz",-1))])),_:1,__:[17]},8,["to"])]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/progress",onClick:t[5]||(t[5]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","chart-line"]}),t[18]||(t[18]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[18]})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/settings",onClick:t[6]||(t[6]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","cog"]}),t[19]||(t[19]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[19]})])])])],2),(0,o.Lk)("main",ic,[a.isLoading?((0,o.uX)(),(0,o.CE)("div",cc,[(0,o.bF)(i,{icon:["fas","spinner"],spin:"",class:"text-3xl sm:text-4xl text-blue-500"})])):a.note&&!a.error?((0,o.uX)(),(0,o.CE)("div",dc,[(0,o.Lk)("div",uc,[(0,o.Lk)("div",null,[(0,o.Lk)("h1",gc,(0,r.v_)(a.note.title),1),(0,o.Lk)("p",mc,"Last edited: "+(0,r.v_)(a.note.lastEdited),1)]),(0,o.Lk)("div",pc,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>a.editNote&&a.editNote(...e)),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(i,{icon:["fas","edit"],class:"mr-2"}),t[20]||(t[20]=(0,o.eW)(" Edit "))]),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>a.showExportOptions=!a.showExportOptions),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gray-700 rounded-md hover:bg-gray-600 transition relative"},[(0,o.bF)(i,{icon:["fas","file-export"],class:"mr-2"}),t[24]||(t[24]=(0,o.eW)(" Export ")),a.showExportOptions?((0,o.uX)(),(0,o.CE)("div",bc,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>a.exportNote("pdf")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(i,{icon:["fas","file-code"],class:"mr-2"}),t[21]||(t[21]=(0,o.eW)(" HTML for PDF conversion "))]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>a.exportNote("word")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(i,{icon:["fas","file-word"],class:"mr-2"}),t[22]||(t[22]=(0,o.eW)(" Word Document (.doc) "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>a.exportNote("text")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(i,{icon:["fas","file-alt"],class:"mr-2"}),t[23]||(t[23]=(0,o.eW)(" Plain Text (.txt) "))])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",fc,[(0,o.Lk)("div",xc,[t[25]||(t[25]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Original Text",-1)),(0,o.Lk)("div",yc,(0,r.v_)(a.note.originalText),1)]),(0,o.Lk)("div",vc,[(0,o.Lk)("div",hc,[t[26]||(t[26]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"AI Summary",-1)),(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>a.generateSummary&&a.generateSummary(...e)),class:"w-full sm:w-auto px-3 py-2 sm:px-3 sm:py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition",disabled:a.isGeneratingSummary},[(0,o.bF)(i,{icon:["fas","sync-alt"],class:"mr-1",spin:a.generatingSummary},null,8,["spin"]),(0,o.eW)(" "+(0,r.v_)(a.generatingSummary?"Generating...":"Generate Summary"),1)],8,kc)]),(0,o.Lk)("div",wc,(0,r.v_)(a.note.summary||'No summary available. Click "Generate Summary" to create one.'),1)])]),(0,o.Lk)("div",Lc,[t[27]||(t[27]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Keywords & Tags",-1)),(0,o.Lk)("div",Cc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.note.keywords,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:`keyword-${t}`,class:"px-2 py-1 sm:px-3 sm:py-1 bg-blue-600 rounded-full text-xs sm:text-sm"},(0,r.v_)(e),1)))),128))])])])):a.error?((0,o.uX)(),(0,o.CE)("div",Sc,[(0,o.bF)(i,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[29]||(t[29]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Note",-1)),(0,o.Lk)("p",Ec,(0,r.v_)(a.error),1),(0,o.bF)(c,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[28]||(t[28]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[28]})])):((0,o.uX)(),(0,o.CE)("div",_c,[(0,o.bF)(i,{icon:["fas","exclamation-circle"],class:"text-4xl text-gray-400 mb-4"}),t[31]||(t[31]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Note Not Found",-1)),t[32]||(t[32]=(0,o.Lk)("p",{class:"text-gray-400 mb-4"},"The note you're looking for doesn't exist or has been deleted.",-1)),(0,o.bF)(c,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[30]||(t[30]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[30]})]))])])])}var Ac={name:"NoteDetailView",setup(){const e=(0,g.rd)(),t=(0,g.lq)(),s=(0,ne.KR)(null),a=(0,ne.KR)(!0),r=(0,ne.KR)(!1),l=(0,ne.KR)(null),n=(0,ne.KR)(!1),i=(0,ne.KR)(!1),c=(0,o.EW)((()=>n.value));(0,o.sV)((async()=>{try{const e=parseInt(t.params.id);if(!e||isNaN(e))return l.value="Invalid note ID",void(a.value=!1);const o=await ts.getNote(e);if(o.data.success&&o.data.data){const e=o.data.data;s.value={id:e.id,title:e.title||"Untitled Note",lastEdited:e.last_edited||"Unknown",originalText:e.original_text||"No content available",summary:e.summary||"No summary available",keywords:e.keywords?e.keywords.split(",").map((e=>e.trim())):[]}}else l.value=o.data?.error||"Note not found"}catch(l){console.error("Error loading note:",l),l.value="Failed to load note. Please try again."}finally{a.value=!1}}));const d=()=>{s.value&&e.push(`/notes/edit?id=${s.value.id}`)},u=async e=>{if(s.value&&s.value.id)try{console.log(`Exporting note ${s.value.id} as ${e}...`),r.value=!1;const t="word"===e?"docx":"text"===e?"txt":e,a="pdf"===e?"html":"word"===e?"doc":"text"===e?"txt":e;console.log(`Making API call to export with backendFormat: ${t}`);const o=await ts.exportNote(s.value.id,t);console.log("API response received:",o),console.log("Response data type:",typeof o.data),console.log("Response data length:",o.data?o.data.length:"N/A");const l="pdf"===t?"text/html":"docx"===t?"application/msword":"text/plain";console.log(`Creating blob with MIME type: ${l}`);const n=new Blob([o.data],{type:l});console.log("Blob created:",n),console.log("Blob size:",n.size);const i=window.URL.createObjectURL(n);console.log("Blob URL created:",i);const c=document.createElement("a");c.href=i;const d=s.value.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),u="pdf"===e?`${d}_for_pdf.${a}`:`${d}_export.${a}`;c.download=u,console.log("Download filename:",u),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(i),console.log(`Note exported as ${e} successfully`),alert(`File exported successfully! Check your downloads folder for "${u}"`)}catch(l){console.error("Export error:",l),console.error("Error details:",l.response||l.message),alert(`Failed to export note as ${e.toUpperCase()}. Please try again. Error: ${l.message}`)}else alert("No note to export")},m=async()=>{if(s.value&&!n.value){n.value=!0;try{console.log("Starting summary generation for note:",s.value.id),console.log("Making API call to createSummary...");const e=await ts.createSummary(s.value.id,{length:"auto"});if(console.log("Summary API response received"),console.log("Response status:",e?.status),console.log("Response data:",e?.data),console.log("Response data type:",typeof e?.data),console.log("Response data success:",e?.data?.success),e.data.success){console.log("Summary created successfully, refreshing note data...");const e=await ts.getNote(s.value.id);if(console.log("Note refresh response:",e.data),e.data.success&&e.data.data){const t=e.data.data.summary;console.log("New summary from server:",t),s.value.summary=t,console.log("Updated note summary in UI:",s.value.summary)}else console.error("Failed to refresh note data:",e.data);alert("Summary generated successfully!")}else{console.error("Summary generation failed:",e.data);const t=e.data?.error||e.data?.message||"Unknown error";alert("Failed to generate summary: "+t)}}catch(l){console.error("Error generating summary:",l);let t="Failed to generate summary. Please try again.";if(l.response){console.error("Server error response:",l.response.data);const s=l.response.data?.error||l.response.data?.message;s?t="Failed to generate summary: "+s:401===l.response.status?t="Authentication failed. Please log in again.":403===l.response.status?t="Access denied. You may not have permission to modify this note.":l.response.status>=500&&(t="Server error. Please try again later.")}else l.request?(console.error("Network error - no response received"),t="Network error. Please check your connection and try again."):(console.error("Request setup error:",l.message),t="Request error: "+l.message);alert(t)}finally{n.value=!1}}};return{note:s,isLoading:a,error:l,showExportOptions:r,generatingSummary:n,isGeneratingSummary:c,sidebarOpen:i,editNote:d,exportNote:u,generateSummary:m}}};const Tc=(0,c.A)(Ac,[["render",Nc]]);var Fc=Tc;const zc={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},Pc={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},Rc={class:"flex items-center space-x-2 sm:space-x-4"},Ic={class:"text-gray-400 hover:text-white p-2"},Qc={class:"flex flex-grow"},Dc={class:"mt-16 md:mt-0"},qc={class:"space-y-2"},Oc={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},Uc={key:0,class:"flex justify-center items-center h-full"},Xc={key:1,class:"flex flex-col items-center justify-center h-full"},jc={class:"text-gray-400 mb-4"},Mc={key:2},Kc={class:"flex flex-col justify-between items-start mb-6 space-y-4",style:{"flex-direction":"column !important"}},Wc={class:"w-full sm:w-auto flex-1"},Gc={class:"flex items-center space-x-3 mb-2"},$c={class:"text-xl sm:text-2xl font-bold flex-1"},Vc={class:"flex items-center space-x-2 flex-shrink-0"},Hc={class:"text-gray-400 text-xs sm:text-sm"},Bc={class:"flex space-x-2 sm:space-x-3 w-full sm:w-auto"},Jc=["disabled"],Yc={key:0,class:"absolute right-0 mt-2 w-48 sm:w-56 bg-gray-800 rounded-md shadow-lg py-1 z-10 max-w-full"},Zc={class:"grid grid-cols-1 gap-4 sm:gap-6",style:{"grid-template-columns":"1fr"}},ed={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},td={class:"relative"},sd={class:"absolute top-2 right-2 flex space-x-2"},ad={title:"Edit Original Text",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},od={title:"Rescan",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},rd={key:0,class:"mt-4"},ld=["innerHTML"],nd={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},id={class:"flex flex-col justify-between items-start mb-4 space-y-2",style:{"flex-direction":"column !important"}},cd={class:"flex items-center space-x-2 w-full sm:w-auto"},dd={class:"relative"},ud={class:"absolute top-2 right-2 flex space-x-2"},gd=["disabled"],md={title:"Copy to Clipboard",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},pd={class:"mt-6 bg-gray-800 rounded-lg p-4 sm:p-6"},bd={class:"flex flex-wrap gap-2 mb-4"},fd=["onClick"],xd={class:"mt-6 bg-gray-800 rounded-lg p-4 sm:p-6"},yd={class:"flex flex-col space-y-3 mb-6",style:{"flex-direction":"column !important"}},vd={class:"flex space-x-3 w-full sm:w-auto"},hd={key:0,class:"space-y-4"},kd={class:"font-medium mb-2"},wd={class:"space-y-2 ml-4"},Ld=["id","name","value","onUpdate:modelValue"],Cd=["for"],Sd={class:"flex justify-between"};function Ed(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",zc,[(0,o.Lk)("header",Pc,[t[27]||(t[27]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Rc,[(0,o.Lk)("button",Ic,[(0,o.bF)(c,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[26]||(t[26]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",Qc,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>l.sidebarOpen=!l.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[(0,o.bF)(c,{icon:["fas",l.sidebarOpen?"times":"bars"]},null,8,["icon"])]),l.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>l.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,r.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",l.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",Dc,[(0,o.Lk)("ul",qc,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[2]||(t[2]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[28]||(t[28]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[28]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[3]||(t[3]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[29]||(t[29]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[29]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[4]||(t[4]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[30]||(t[30]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[30]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[5]||(t[5]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[31]||(t[31]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[31]})])])])],2),(0,o.Lk)("main",Oc,[l.isLoading?((0,o.uX)(),(0,o.CE)("div",Uc,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-4xl text-blue-500"})])):l.error?((0,o.uX)(),(0,o.CE)("div",Xc,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[33]||(t[33]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Note",-1)),(0,o.Lk)("p",jc,(0,r.v_)(l.error),1),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[32]||(t[32]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[32]})])):((0,o.uX)(),(0,o.CE)("div",Mc,[(0,o.Lk)("div",Kc,[(0,o.Lk)("div",Wc,[(0,o.Lk)("div",Gc,[(0,o.Lk)("h1",$c,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.note.title=e),class:"bg-transparent border-b border-gray-700 focus:border-blue-500 focus:outline-none pb-1 w-full text-lg sm:text-xl",placeholder:"Note Title"},null,512),[[a.Jo,l.note.title]])]),(0,o.Lk)("div",Vc,[t[35]||(t[35]=(0,o.Lk)("span",{class:"text-sm text-gray-400"},"Format:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.note.summaryFormat=e),class:"bg-gray-700 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},t[34]||(t[34]=[(0,o.Lk)("option",{value:"paragraph"},"ðŸ“„ Paragraph",-1),(0,o.Lk)("option",{value:"bullet_points"},"ðŸ“ Bullet Points",-1)]),512),[[a.u1,l.note.summaryFormat]])])]),(0,o.Lk)("p",Hc,"Last edited: "+(0,r.v_)(l.note.lastEdited),1)]),(0,o.Lk)("div",Bc,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.saveNote&&l.saveNote(...e)),disabled:l.isSaving,class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:l.isSaving?["fas","spinner"]:["fas","save"],spin:l.isSaving,class:"mr-2"},null,8,["icon","spin"]),(0,o.eW)(" "+(0,r.v_)(l.isSaving?"Saving...":"Save"),1)],8,Jc),(0,o.Lk)("button",{onClick:t[12]||(t[12]=e=>l.showExportOptions=!l.showExportOptions),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gray-700 rounded-md hover:bg-gray-600 transition relative"},[(0,o.bF)(c,{icon:["fas","file-export"],class:"mr-2"}),t[39]||(t[39]=(0,o.eW)(" Export ")),l.showExportOptions?((0,o.uX)(),(0,o.CE)("div",Yc,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.exportNote("pdf")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-code"],class:"mr-2"}),t[36]||(t[36]=(0,o.eW)(" HTML for PDF conversion "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.exportNote("word")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-word"],class:"mr-2"}),t[37]||(t[37]=(0,o.eW)(" Word Document (.doc) "))]),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>l.exportNote("text")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-alt"],class:"mr-2"}),t[38]||(t[38]=(0,o.eW)(" Plain Text (.txt) "))])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Zc,[(0,o.Lk)("div",ed,[t[41]||(t[41]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Original Text",-1)),(0,o.Lk)("div",td,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.note.originalText=e),class:"w-full h-64 sm:h-96 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base overflow-x-hidden resize-none",placeholder:"OCR extracted text will appear here"},null,512),[[a.Jo,l.note.originalText]]),(0,o.Lk)("div",sd,[(0,o.Lk)("button",ad,[(0,o.bF)(c,{icon:["fas","edit"],class:"text-xs sm:text-sm"})]),(0,o.Lk)("button",od,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-xs sm:text-sm"})])])]),l.note.keywords.length>0&&l.note.originalText?((0,o.uX)(),(0,o.CE)("div",rd,[t[40]||(t[40]=(0,o.Lk)("h3",{class:"text-sm font-medium text-gray-300 mb-2"},"Highlighted Keywords:",-1)),(0,o.Lk)("div",{class:"w-full min-h-32 max-h-64 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 text-sm sm:text-base overflow-y-auto border border-gray-600",innerHTML:l.highlightedOriginalText},null,8,ld)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",nd,[(0,o.Lk)("div",id,[t[45]||(t[45]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"AI Summary",-1)),(0,o.Lk)("div",cd,[t[44]||(t[44]=(0,o.Lk)("span",{class:"text-xs sm:text-sm text-gray-400"},"Length:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.summaryLength=e),class:"bg-gray-700 rounded px-2 py-1 sm:p-1 text-xs sm:text-sm flex-1 sm:flex-none"},t[42]||(t[42]=[(0,o.Lk)("option",{value:"auto"},"Auto",-1),(0,o.Lk)("option",{value:"short"},"Short",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1),(0,o.Lk)("option",{value:"long"},"Long",-1)]),512),[[a.u1,l.summaryLength]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[15]||(t[15]=e=>l.summaryFormat=e),class:"bg-gray-700 rounded px-2 py-1 sm:p-1 text-xs sm:text-sm flex-1 sm:flex-none ml-2"},t[43]||(t[43]=[(0,o.Lk)("option",{value:"paragraph"},"Paragraph",-1),(0,o.Lk)("option",{value:"bullet_points"},"Bullet Points",-1)]),512),[[a.u1,l.summaryFormat]])])]),(0,o.Lk)("div",dd,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>l.note.summary=e),class:"w-full h-64 sm:h-96 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base overflow-x-hidden resize-none whitespace-pre-line",placeholder:"AI-generated summary will appear here",style:{"white-space":"pre-line"}},null,512),[[a.Jo,l.note.summary]]),(0,o.Lk)("div",ud,[(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.generateSummary&&l.generateSummary(...e)),disabled:l.generatingSummary,title:"Regenerate Summary",class:"p-1 bg-gray-600 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"text-xs sm:text-sm",spin:l.generatingSummary},null,8,["spin"])],8,gd),(0,o.Lk)("button",md,[(0,o.bF)(c,{icon:["fas","copy"],class:"text-xs sm:text-sm"})])])])])]),(0,o.Lk)("div",pd,[t[47]||(t[47]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Keywords & Tags",-1)),(0,o.Lk)("div",bd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.note.keywords,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:`keyword-${t}`,class:"px-2 py-1 sm:px-3 sm:py-1 bg-blue-600 rounded-full text-xs sm:text-sm flex items-center"},[(0,o.eW)((0,r.v_)(e)+" ",1),(0,o.Lk)("button",{onClick:e=>l.removeKeyword(t),class:"ml-1 sm:ml-2 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,fd)])))),128)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>l.newKeyword=e),onKeyup:t[19]||(t[19]=(0,a.jR)(((...e)=>l.addKeyword&&l.addKeyword(...e)),["enter"])),class:"px-2 py-1 sm:px-3 sm:py-1 bg-gray-700 rounded-full text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 flex-1 min-w-0",placeholder:"Add keyword..."},null,544),[[a.Jo,l.newKeyword]])]),(0,o.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>l.extractKeywords&&l.extractKeywords(...e)),class:"px-3 py-2 sm:px-3 sm:py-1 bg-gray-700 rounded text-sm hover:bg-gray-600 transition w-full sm:w-auto"},[(0,o.bF)(c,{icon:["fas","magic"],class:"mr-1"}),t[46]||(t[46]=(0,o.eW)(" Auto-extract Keywords "))])]),(0,o.Lk)("div",xd,[t[51]||(t[51]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Study Quiz",-1)),t[52]||(t[52]=(0,o.Lk)("p",{class:"text-gray-400 text-sm mb-4"},"Generate quiz questions based on your notes to test your knowledge.",-1)),(0,o.Lk)("div",yd,[(0,o.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>l.generateQuiz&&l.generateQuiz(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition w-full sm:w-auto"},[(0,o.bF)(c,{icon:["fas","question-circle"],class:"mr-2"}),t[48]||(t[48]=(0,o.eW)(" Generate Quiz "))]),(0,o.Lk)("div",vd,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[22]||(t[22]=e=>l.quizDifficulty=e),class:"bg-gray-700 rounded px-3 py-2 flex-1 sm:flex-none text-sm"},t[49]||(t[49]=[(0,o.Lk)("option",{value:"easy"},"Easy",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1),(0,o.Lk)("option",{value:"hard"},"Hard",-1)]),512),[[a.u1,l.quizDifficulty]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[23]||(t[23]=e=>l.quizQuestionCount=e),class:"bg-gray-700 rounded px-3 py-2 flex-1 sm:flex-none text-sm"},t[50]||(t[50]=[(0,o.Lk)("option",{value:"5"},"5 Questions",-1),(0,o.Lk)("option",{value:"10"},"10 Questions",-1),(0,o.Lk)("option",{value:"15"},"15 Questions",-1)]),512),[[a.u1,l.quizQuestionCount]])])]),l.quizQuestions.length>0?((0,o.uX)(),(0,o.CE)("div",hd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:`question-${t}`,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("p",kd,(0,r.v_)(t+1)+". "+(0,r.v_)(e.text),1),(0,o.Lk)("div",wd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((s,l)=>((0,o.uX)(),(0,o.CE)("div",{key:`option-${t}-${l}`,class:"flex items-center space-x-2"},[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:`q${t}-o${l}`,name:`question-${t}`,value:l,"onUpdate:modelValue":t=>e.selectedAnswer=t,class:"text-blue-600"},null,8,Ld),[[a.XL,e.selectedAnswer]]),(0,o.Lk)("label",{for:`q${t}-o${l}`},(0,r.v_)(s),9,Cd)])))),128))])])))),128)),(0,o.Lk)("div",Sd,[(0,o.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>l.checkQuizAnswers&&l.checkQuizAnswers(...e)),class:"px-4 py-2 bg-green-600 rounded-md hover:bg-green-700 transition"}," Check Answers "),(0,o.Lk)("button",{onClick:t[25]||(t[25]=(...e)=>l.resetQuiz&&l.resetQuiz(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Reset ")])])):(0,o.Q3)("",!0)])]))])])])}var _d={name:"NoteEditorView",setup(){const e=(0,n.Pj)(),t=(0,g.rd)(),s=(0,g.lq)(),a=(0,ne.KR)({title:"",lastEdited:(new Date).toLocaleString(),originalText:"",summary:"",keywords:[]}),r=(0,ne.KR)("auto"),l=(0,ne.KR)("paragraph"),i=(0,ne.KR)(""),c=(0,ne.KR)("medium"),d=(0,ne.KR)("5"),u=(0,ne.KR)([]),m=(0,ne.KR)(!1),p=(0,ne.KR)(null),b=(0,ne.KR)(!1),f=(0,ne.KR)(!1),x=(0,ne.KR)(!1),y=(0,ne.KR)(!1),v=(0,o.EW)((()=>{if(!a.value.originalText||0===a.value.keywords.length)return a.value.originalText;let e=a.value.originalText;const t=a.value.keywords.filter((e=>""!==e.trim()));if(0===t.length)return e;const s=t.sort(((e,t)=>t.length-e.length)),o=s.map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join("|"),r=new RegExp(`(${o})`,"gi");return e.replace(r,'<span class="keyword-highlight">$1</span>')}));(0,o.sV)((async()=>{try{const t=s.query.id;if(t){m.value=!0;const e=await ts.getNote(t);if(e.data.success&&e.data.data){const t=e.data.data;a.value={id:t.id,title:t.title||"",lastEdited:t.last_edited||(new Date).toLocaleString(),originalText:t.original_text||"",summary:t.summary||"",keywords:t.keywords?t.keywords.split(",").map((e=>e.trim())):[],summaryFormat:t.summary_format||"paragraph"}}else p.value=e.data?.error||"Note not found"}else{const t=e.getters["notes/getTempImageData"];t&&(a.value.originalText=t.originalText,k())}}catch(p){console.error("Error loading note:",p),p.value="Failed to load note. Please try again."}finally{m.value=!1}}));const h=async()=>{try{const s=localStorage.getItem("user");if(!s)return alert("You must be logged in to save notes. Please log in and try again."),void t.push("/login");let o;try{o=JSON.parse(s)}catch(e){return console.error("Invalid user data in localStorage:",e),alert("Authentication data is corrupted. Please log in again."),localStorage.removeItem("user"),localStorage.removeItem("token"),void t.push("/login")}if(!o||!o.id)return alert("Invalid user session. Please log in again."),void t.push("/login");if(!a.value.title.trim())return void alert("Please enter a title for your note.");if(!a.value.originalText.trim())return void alert("Please add some content to your note.");b.value=!0,a.value.lastEdited=(new Date).toLocaleString();const r={title:a.value.title,text:a.value.originalText,summary:a.value.summary,keywords:a.value.keywords.join(",")};if(console.log("Saving note:",{hasId:!!a.value.id,noteId:a.value.id,noteData:r,userId:o.id}),console.log("Current localStorage state:",{token:!!localStorage.getItem("token"),user:localStorage.getItem("user")}),a.value.id){console.log("Updating existing note with ID:",a.value.id);const e=await ts.updateNote(a.value.id,r);if(console.log("Update response:",e.data),!e.data.success)throw new Error(e.data.error||"Failed to update note");alert("Note updated successfully!"),t.push("/notes?refresh=true")}else{console.log("Creating new note");const e=await ts.createNote(r);if(console.log("Create response:",e.data),!e.data.success)throw new Error(e.data.error||"Failed to save note");a.value.id=e.data.note_id,alert("Note saved successfully!"),t.push("/notes?refresh=true")}}catch(p){console.error("Error saving note:",p);let t="Failed to save note. Please try again.";p.response?401===p.response.status?t="Authentication failed. Please log in again.":403===p.response.status?t="You do not have permission to perform this action.":p.response.data?.error&&(t=p.response.data.error):p.message&&(t=p.message),alert(t)}finally{b.value=!1}},k=async()=>{if(a.value.originalText.trim()){f.value=!0;try{if(a.value.id){const e=await ts.createSummary(a.value.id,{length:r.value,format:l.value});if(e.data.success){const e=await ts.getNote(a.value.id);e.data.success&&(a.value.summary=e.data.data.summary),alert("Summary generated successfully!")}else alert("Failed to generate summary: "+(e.data.error||"Unknown error"))}else{const e=await ts.gpt.generateSummary(a.value.originalText,{length:r.value});e.data?(a.value.summary=e.data,alert("Summary generated successfully!")):alert("Failed to generate summary. Please try again.")}}catch(p){console.error("Error generating summary:",p),alert("Failed to generate summary. Please try again.")}finally{f.value=!1}}else alert("Please add some text to summarize first.")},w=()=>{i.value.trim()&&(a.value.keywords.push(i.value.trim()),i.value="")},L=e=>{a.value.keywords.splice(e,1)},C=()=>{console.log("Extracting keywords from text"),setTimeout((()=>{const e=["Membrane","Cytoplasm","Organelles","Nucleus"];e.forEach((e=>{a.value.keywords.includes(e)||a.value.keywords.push(e)}))}),1e3)},S=()=>{console.log("Generating quiz with difficulty:",c.value,"and",d.value,"questions"),setTimeout((()=>{u.value=[{text:"Who discovered cells in 1665?",options:["Robert Hooke","Anton van Leeuwenhoek","Matthias Schleiden","Theodor Schwann"],correctAnswer:0,selectedAnswer:null},{text:"What is the study of cells called?",options:["Microbiology","Histology","Cytology","Physiology"],correctAnswer:2,selectedAnswer:null},{text:"What is the typical size range of most plant and animal cells?",options:["0.1-1 micrometers","1-100 micrometers","100-1000 micrometers","1-10 millimeters"],correctAnswer:1,selectedAnswer:null},{text:"What encloses the cytoplasm in a cell?",options:["Cell wall","Nucleus","Membrane","Ribosome"],correctAnswer:2,selectedAnswer:null},{text:"Cells are often referred to as the:",options:["Essence of life","Building blocks of life","Foundation of organisms","Microscopic life"],correctAnswer:1,selectedAnswer:null}]}),1500)},E=()=>{let e=0;u.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),alert(`You got ${e} out of ${u.value.length} questions correct!`)},_=()=>{u.value.forEach((e=>{e.selectedAnswer=null}))},N=async e=>{if(a.value&&a.value.id)try{console.log(`Exporting note ${a.value.id} as ${e}...`);const t="word"===e?"docx":"text"===e?"txt":e,s="pdf"===e?"html":"word"===e?"doc":"text"===e?"txt":e;console.log(`Making API call to export with backendFormat: ${t}`);const o=await ts.exportNote(a.value.id,t);console.log("API response received:",o),console.log("Response data type:",typeof o.data),console.log("Response data length:",o.data?o.data.length:"N/A");const r="pdf"===t?"text/html":"docx"===t?"application/msword":"text/plain";console.log(`Creating blob with MIME type: ${r}`);const l=new Blob([o.data],{type:r});console.log("Blob created:",l),console.log("Blob size:",l.size);const n=window.URL.createObjectURL(l);console.log("Blob URL created:",n);const i=document.createElement("a");i.href=n;const c=a.value.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),d="pdf"===e?`${c}_for_pdf.${s}`:`${c}_export.${s}`;i.download=d,console.log("Download filename:",d),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n),console.log(`Note exported as ${e} successfully`),alert(`File exported successfully! Check your downloads folder for "${d}"`)}catch(p){console.error("Export error:",p),console.error("Error details:",p.response||p.message),alert(`Failed to export note as ${e.toUpperCase()}. Please try again. Error: ${p.message}`)}else alert("Please save the note first before exporting")};return{note:a,summaryLength:r,summaryFormat:l,newKeyword:i,quizDifficulty:c,quizQuestionCount:d,quizQuestions:u,isLoading:m,error:p,isSaving:b,generatingSummary:f,showExportOptions:x,sidebarOpen:y,highlightedOriginalText:v,saveNote:h,generateSummary:k,addKeyword:w,removeKeyword:L,extractKeywords:C,generateQuiz:S,checkQuizAnswers:E,resetQuiz:_,exportNote:N}}};const Nd=(0,c.A)(_d,[["render",Ed],["__scopeId","data-v-327e5416"]]);var Ad=Nd;const Td={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},Fd={class:"flex items-center space-x-3"},zd=["title"],Pd={class:"absolute -bottom-12 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap border border-gray-700"},Rd={class:"flex items-center space-x-2 md:space-x-4"},Id={class:"relative"},Qd={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Dd={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},qd={key:0},Od=["onClick"],Ud={class:"flex items-start space-x-3"},Xd={class:"flex-shrink-0 mt-1"},jd={class:"flex-grow"},Md={class:"flex items-start justify-between"},Kd={class:"flex-grow"},Wd={class:"text-sm font-medium text-white"},Gd={class:"text-xs text-gray-300 mt-1"},$d={class:"text-xs text-gray-500 mt-2"},Vd={class:"flex items-center space-x-2 ml-2"},Hd={key:0,class:"flex-shrink-0"},Bd=["onClick"],Jd={key:0,class:"mt-3 flex space-x-2"},Yd=["onClick"],Zd={key:1,class:"mt-2 flex items-center"},eu={key:2,class:"mt-2 flex items-center"},tu={key:1,class:"p-4 text-center text-gray-400"},su={key:2,class:"p-3 border-t border-gray-700"},au={class:"relative"},ou={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},ru=["src"],lu={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},nu={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},iu={class:"flex flex-grow transition-all duration-300"},cu={key:0,class:"text-lg font-bold"},du={class:"space-y-2"},uu={class:"flex-1 p-4 sm:p-6 ml-0 md:ml-0 transition-all duration-300 ease-in-out",style:{width:"100vw","max-width":"100vw"}},gu={key:0,class:"flex justify-center items-center h-full"},mu={key:1,class:"flex flex-col items-center justify-center h-full"},pu={class:"text-gray-400 mb-4"},bu={key:2},fu={class:"mb-6"},xu={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4"},yu={class:"flex space-x-3 mt-4 sm:mt-0"},vu=["disabled"],hu={key:0,class:"bg-gray-800 rounded-lg p-6 mb-6"},ku={class:"flex justify-between items-center mb-6"},wu={class:"flex space-x-2"},Lu=["disabled"],Cu={class:"mb-6"},Su={class:"mb-4"},Eu={class:"font-semibold text-white text-lg mb-2"},_u={class:"flex justify-between items-center mb-2"},Nu={class:"text-sm text-gray-400"},Au={class:"w-full bg-gray-700 rounded-full h-2"},Tu={class:"space-y-6"},Fu={class:"font-medium text-white mb-4"},zu={class:"space-y-2"},Pu=["onClick"],Ru={key:0,class:"w-2 h-2 bg-white rounded-full"},Iu={class:"text-sm"},Qu={class:"mt-6 flex justify-center space-x-4"},Du=["disabled"],qu={key:0,class:"mt-6 bg-gray-700 rounded-lg p-4"},Ou={class:"space-y-3"},Uu={class:"flex items-start space-x-3 mb-2"},Xu={class:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-gray-500 text-white"},ju={class:"flex-1"},Mu={class:"text-sm text-white font-medium mb-2"},Ku={class:"space-y-1"},Wu={key:0,class:"w-2 h-2 rounded-full bg-white"},Gu={key:0,class:"text-green-400 font-bold ml-1"},$u={key:1,class:"bg-gray-800 rounded-lg p-6 mb-6"},Vu={class:"text-center mb-6"},Hu={class:"text-gray-400"},Bu={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Ju={class:"text-center"},Yu={class:"text-2xl font-bold text-green-400"},Zu={class:"text-center"},eg={class:"text-2xl font-bold text-red-400"},tg={class:"text-center"},sg={class:"text-2xl font-bold text-blue-400"},ag={class:"text-center"},og={class:"text-2xl font-bold text-purple-400"},rg={class:"bg-gray-700 rounded-lg p-4 mb-6"},lg={class:"grid grid-cols-2 gap-4 text-sm"},ng={class:"text-white ml-2"},ig={class:"text-white ml-2"},cg={class:"bg-gray-700 rounded-lg p-4 mb-6"},dg={class:"space-y-4 max-h-96 overflow-y-auto"},ug={class:"flex items-start space-x-3 mb-2"},gg={class:"flex-1"},mg={class:"text-sm text-white font-medium mb-2"},pg={class:"space-y-1"},bg={key:0,class:"w-2 h-2 rounded-full bg-white"},fg={key:0,class:"text-green-400 font-bold ml-1"},xg={key:1,class:"text-red-400 font-bold ml-1"},yg={class:"bg-gray-700 rounded-lg p-4 mb-6"},vg={class:"space-y-2"},hg={class:"font-medium text-white"},kg={class:"text-sm text-gray-300"},wg={class:"flex justify-center space-x-4"},Lg={class:"bg-gray-800 rounded-lg p-6"},Cg={class:"flex justify-between items-center mb-6"},Sg={class:"flex space-x-2"},Eg={key:0,class:"flex justify-center py-8"},_g={key:1,class:"text-center py-12 text-gray-400"},Ng=["disabled"],Ag={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Tg=["onClick"],Fg={key:0,class:"absolute top-2 right-2 w-3 h-3 bg-green-500 rounded-full",title:"Completed"},zg={key:1,class:"absolute top-2 right-2 w-3 h-3 bg-gray-500 rounded-full",title:"Not taken"},Pg={class:"flex items-start justify-between mb-4"},Rg={class:"flex-1"},Ig={class:"font-semibold text-white text-lg mb-2"},Qg={class:"text-sm text-gray-400 mb-2"},Dg={class:"text-xs"},qg={class:"text-sm text-gray-400 mb-2"},Og={class:"flex items-center text-sm text-gray-300"},Ug={class:"text-right"},Xg={class:"text-xs text-gray-400 mb-2"},jg={class:"text-sm"},Mg={class:"text-green-400 font-medium"},Kg={class:"text-red-400 font-medium"},Wg={class:"bg-gray-600 rounded-lg p-3 mb-4"},Gg={class:"grid grid-cols-3 gap-2 text-center"},$g={class:"text-lg font-bold text-green-400"},Vg={class:"text-lg font-bold text-red-400"},Hg={class:"text-lg font-bold text-blue-400"},Bg={class:"mt-2 pt-2 border-t border-gray-500"},Jg={class:"text-xs text-gray-300 text-center"},Yg={class:"flex items-center justify-between"},Zg={class:"text-sm text-gray-400"},em={class:"flex space-x-2"},tm=["onClick"],sm=["onClick"],am={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},om={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4"},rm={class:"flex justify-end space-x-3"},lm={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},nm={class:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto"},im={class:"flex justify-between items-center mb-6"},cm={key:0,class:"flex justify-center py-8"},dm={key:1,class:"space-y-4"},um={class:"flex justify-between items-center mb-4"},gm={class:"text-sm text-gray-400"},mm={class:"flex space-x-2"},pm={class:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto"},bm=["onClick"],fm={class:"flex items-start space-x-3"},xm=["checked"],ym={class:"flex-1"},vm={class:"font-medium text-white mb-2"},hm={class:"text-sm text-gray-300 mb-2 line-clamp-2"},km={class:"text-xs text-gray-400"},wm={key:2,class:"text-center py-8 text-gray-400"},Lm={class:"flex justify-end space-x-4 mt-6"},Cm=["disabled"];function Sm(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Td,[(0,o.Lk)("header",{class:(0,r.C4)([l.themeClasses.header,"p-4 flex justify-between items-center"])},[(0,o.Lk)("div",Fd,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleSidebar&&l.toggleSidebar(...e)),class:"group relative flex flex-col items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-slate-800 to-gray-900 hover:from-blue-600 hover:to-blue-700 text-gray-300 hover:text-white transition-all duration-300 ease-out transform hover:scale-105 active:scale-95 overflow-hidden shadow-lg hover:shadow-xl hover:shadow-blue-500/25",title:l.sidebarVisible?"Hide sidebar":"Show sidebar"},[t[34]||(t[34]=(0,o.Fv)('<div class="flex flex-col space-y-1 relative z-10"><div class="w-6 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-7 group-hover:bg-white rounded-full"></div><div class="w-5 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-6 group-hover:bg-white rounded-full"></div><div class="w-4 h-0.5 bg-current transition-all duration-300 ease-out group-hover:w-5 group-hover:bg-white rounded-full"></div></div><div class="absolute inset-0 rounded-xl bg-gradient-to-br from-blue-500/0 to-blue-600/0 group-hover:from-blue-500/10 group-hover:to-blue-600/10 transition-all duration-300"></div>',2)),(0,o.Lk)("div",Pd,[(0,o.eW)((0,r.v_)(l.sidebarVisible?"Hide Menu":"Show Menu")+" ",1),t[33]||(t[33]=(0,o.Lk)("div",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"},null,-1))])],8,zd),t[35]||(t[35]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1))]),(0,o.Lk)("div",Rd,[(0,o.Lk)("div",Id,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",Qd,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",Dd,[t[40]||(t[40]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",qd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",Ud,[(0,o.Lk)("div",Xd,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",jd,[(0,o.Lk)("div",Md,[(0,o.Lk)("div",Kd,[(0,o.Lk)("p",Wd,(0,r.v_)(s.title),1),(0,o.Lk)("p",Gd,(0,r.v_)(s.message),1),(0,o.Lk)("p",$d,(0,r.v_)(s.time),1)]),(0,o.Lk)("div",Vd,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Hd,t[36]||(t[36]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Bd)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Jd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,Yd)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",Zd,t[37]||(t[37]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",eu,t[38]||(t[38]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,Od)))),128))])):((0,o.uX)(),(0,o.CE)("div",tu,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[39]||(t[39]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",su,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[3]||(t[3]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",au,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",ou,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[4]||(t[4]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[5]||(t[5]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,ru)):((0,o.uX)(),(0,o.CE)("div",lu,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",null,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",nu,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[41]||(t[41]=[(0,o.eW)("Settings")]))),_:1,__:[41]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])],2),(0,o.Lk)("div",iu,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.sidebarOpen=!l.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[l.sidebarOpen?((0,o.uX)(),(0,o.Wv)(c,{key:1,icon:["fas","times"]})):((0,o.uX)(),(0,o.CE)("span",cu,"â˜°"))]),l.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[10]||(t[10]=e=>l.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),l.sidebarVisible?((0,o.uX)(),(0,o.CE)("aside",{key:1,class:(0,r.C4)(["w-64 p-4 transition-all duration-300 ease-in-out",l.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",du,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[11]||(t[11]=e=>l.sidebarOpen=!1),class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[42]||(t[42]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[42]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[12]||(t[12]=e=>l.sidebarOpen=!1),class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[43]||(t[43]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[43]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",onClick:t[13]||(t[13]=e=>l.sidebarOpen=!1),class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[44]||(t[44]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[44]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[14]||(t[14]=e=>l.sidebarOpen=!1),class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[45]||(t[45]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[45]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[15]||(t[15]=e=>l.sidebarOpen=!1),class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[46]||(t[46]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[46]},8,["class"])])])])],2)):(0,o.Q3)("",!0),(0,o.Lk)("main",uu,[l.isLoading?((0,o.uX)(),(0,o.CE)("div",gu,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-3xl sm:text-4xl text-blue-500"})])):l.error?((0,o.uX)(),(0,o.CE)("div",mu,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[48]||(t[48]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Quiz",-1)),(0,o.Lk)("p",pu,(0,r.v_)(l.error),1),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[47]||(t[47]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[47]})])):((0,o.uX)(),(0,o.CE)("div",bu,[(0,o.Lk)("div",fu,[(0,o.Lk)("div",xu,[t[50]||(t[50]=(0,o.Lk)("div",null,[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold mb-2"},"Quizzes"),(0,o.Lk)("p",{class:"text-gray-400"},"Create and manage your study quizzes")],-1)),(0,o.Lk)("div",yu,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>l.openNoteSelector&&l.openNoteSelector(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition",disabled:l.isGeneratingQuiz},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),(0,o.eW)(" "+(0,r.v_)(l.isGeneratingQuiz?"Generating...":"Create New Quiz"),1)],8,vu),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","angle-left"],class:"mr-2"}),t[49]||(t[49]=(0,o.eW)(" Back to Notes "))])),_:1,__:[49]})])])]),l.quizQuestions.length>0?((0,o.uX)(),(0,o.CE)("div",hu,[(0,o.Lk)("div",ku,[t[52]||(t[52]=(0,o.Lk)("h3",{class:"text-xl font-semibold"},"Active Quiz",-1)),(0,o.Lk)("div",wu,[(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.resetQuiz&&l.resetQuiz(...e)),class:"px-3 py-1 bg-gray-600 rounded-md hover:bg-gray-700 transition text-sm"},[(0,o.bF)(c,{icon:["fas","undo"],class:"mr-1"}),t[51]||(t[51]=(0,o.eW)(" Reset "))]),(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.saveQuiz&&l.saveQuiz(...e)),disabled:l.isSavingQuiz,class:"px-3 py-1 bg-blue-600 rounded-md hover:bg-blue-700 transition text-sm disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-1",spin:l.isSavingQuiz},null,8,["spin"]),(0,o.eW)(" "+(0,r.v_)(l.isSavingQuiz?"Saving...":"Save Quiz"),1)],8,Lu)])]),(0,o.Lk)("div",Cu,[(0,o.Lk)("div",Su,[(0,o.Lk)("h4",Eu,(0,r.v_)(l.quizTitle||"Active Quiz"),1),t[53]||(t[53]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},[(0,o.Lk)("span",{class:"text-xs"},"Active Quiz Session")],-1))]),(0,o.Lk)("div",_u,[t[54]||(t[54]=(0,o.Lk)("span",{class:"text-sm text-gray-400"},"Progress",-1)),(0,o.Lk)("span",Nu,(0,r.v_)(l.answeredQuestionsCount)+" / "+(0,r.v_)(l.quizQuestions.length)+" answered",1)]),(0,o.Lk)("div",Au,[(0,o.Lk)("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:(0,r.Tr)({width:l.answeredQuestionsCount/l.quizQuestions.length*100+"%"})},null,4)])]),(0,o.Lk)("div",Tu,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("h4",Fu,(0,r.v_)(t+1)+". "+(0,r.v_)(e.text),1),(0,o.Lk)("div",zu,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:(0,r.C4)(["flex items-center space-x-3 p-3 rounded-md cursor-pointer transition-all",{"bg-blue-600 text-white":e.selectedAnswer===s,"bg-gray-600 hover:bg-gray-500":e.selectedAnswer!==s}]),onClick:t=>e.selectedAnswer=s},[(0,o.Lk)("div",{class:(0,r.C4)(["w-4 h-4 rounded-full border-2 flex items-center justify-center",{"border-white bg-blue-600":e.selectedAnswer===s,"border-gray-400":e.selectedAnswer!==s}])},[e.selectedAnswer===s?((0,o.uX)(),(0,o.CE)("div",Ru)):(0,o.Q3)("",!0)],2),(0,o.Lk)("span",Iu,(0,r.v_)(t),1)],10,Pu)))),128))])])))),128))]),(0,o.Lk)("div",Qu,[(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.toggleShowAnswers&&l.toggleShowAnswers(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","eye"],class:"mr-2"}),(0,o.eW)(" "+(0,r.v_)(l.showCorrectAnswers?"Hide Answers":"Show Answers"),1)]),(0,o.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>l.checkAnswers&&l.checkAnswers(...e)),disabled:!l.allQuestionsAnswered,class:"px-6 py-3 bg-green-600 rounded-md hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:["fas","check"],class:"mr-2"}),t[55]||(t[55]=(0,o.eW)(" Check Answers "))],8,Du)]),l.showCorrectAnswers?((0,o.uX)(),(0,o.CE)("div",qu,[t[56]||(t[56]=(0,o.Lk)("h4",{class:"font-semibold mb-4 text-white"},"ðŸ“š Answer Key",-1)),(0,o.Lk)("div",Ou,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"bg-gray-600 rounded-lg p-3"},[(0,o.Lk)("div",Uu,[(0,o.Lk)("div",Xu,(0,r.v_)(t+1),1),(0,o.Lk)("div",ju,[(0,o.Lk)("p",Mu,(0,r.v_)(e.text),1),(0,o.Lk)("div",Ku,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.originalOptions,((t,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"flex items-center space-x-2 text-xs"},[(0,o.Lk)("div",{class:(0,r.C4)(["w-4 h-4 rounded-full border flex items-center justify-center",{"border-green-400 bg-green-400":s===e.originalCorrectIndex,"border-gray-400":s!==e.originalCorrectIndex}])},[s===e.originalCorrectIndex?((0,o.uX)(),(0,o.CE)("div",Wu)):(0,o.Q3)("",!0)],2),(0,o.Lk)("span",{class:(0,r.C4)({"text-green-300 font-medium":s===e.originalCorrectIndex,"text-gray-300":s!==e.originalCorrectIndex})},[(0,o.eW)((0,r.v_)(t)+" ",1),s===e.originalCorrectIndex?((0,o.uX)(),(0,o.CE)("span",Gu,"(Correct Answer)")):(0,o.Q3)("",!0)],2)])))),128))])])])])))),128))])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.quizCompleted?((0,o.uX)(),(0,o.CE)("div",$u,[(0,o.Lk)("div",Vu,[t[57]||(t[57]=(0,o.Lk)("h3",{class:"text-2xl font-bold mb-2"},"Quiz Results",-1)),(0,o.Lk)("div",{class:(0,r.C4)(["text-6xl font-bold mb-4",l.quizScore/l.quizQuestions.length>=.8?"text-green-400":l.quizScore/l.quizQuestions.length>=.6?"text-yellow-400":"text-red-400"])},(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"% ",3),(0,o.Lk)("p",Hu,(0,r.v_)(l.quizScore)+" out of "+(0,r.v_)(l.quizQuestions.length)+" correct",1)]),(0,o.Lk)("div",Bu,[(0,o.Lk)("div",Ju,[(0,o.Lk)("div",Yu,(0,r.v_)(l.quizScore),1),t[58]||(t[58]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Correct",-1))]),(0,o.Lk)("div",Zu,[(0,o.Lk)("div",eg,(0,r.v_)(l.quizQuestions.length-l.quizScore),1),t[59]||(t[59]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Incorrect",-1))]),(0,o.Lk)("div",tg,[(0,o.Lk)("div",sg,(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"%",1),t[60]||(t[60]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Accuracy",-1))]),(0,o.Lk)("div",ag,[(0,o.Lk)("div",og,(0,r.v_)(l.quizQuestions.length),1),t[61]||(t[61]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Total Questions",-1))])]),(0,o.Lk)("div",rg,[t[66]||(t[66]=(0,o.Lk)("h4",{class:"font-semibold mb-3 text-white"},"ðŸ“Š Detailed Performance",-1)),(0,o.Lk)("div",lg,[(0,o.Lk)("div",null,[t[62]||(t[62]=(0,o.Lk)("span",{class:"text-gray-400"},"Questions Answered:",-1)),(0,o.Lk)("span",ng,(0,r.v_)(l.quizQuestions.length),1)]),t[65]||(t[65]=(0,o.Lk)("div",null,[(0,o.Lk)("span",{class:"text-gray-400"},"Time Spent:"),(0,o.Lk)("span",{class:"text-white ml-2"},"N/A")],-1)),(0,o.Lk)("div",null,[t[63]||(t[63]=(0,o.Lk)("span",{class:"text-gray-400"},"Average per Question:",-1)),(0,o.Lk)("span",ig,(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"%",1)]),(0,o.Lk)("div",null,[t[64]||(t[64]=(0,o.Lk)("span",{class:"text-gray-400"},"Performance Level:",-1)),(0,o.Lk)("span",{class:(0,r.C4)(["text-white ml-2",l.quizScore/l.quizQuestions.length>=.8?"text-green-400":l.quizScore/l.quizQuestions.length>=.6?"text-yellow-400":"text-red-400"])},(0,r.v_)(l.quizScore/l.quizQuestions.length>=.8?"Excellent":l.quizScore/l.quizQuestions.length>=.6?"Good":"Needs Improvement"),3)])])]),(0,o.Lk)("div",cg,[t[67]||(t[67]=(0,o.Lk)("h4",{class:"font-semibold mb-4 text-white"},"ðŸ“ Question Review",-1)),(0,o.Lk)("div",dg,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"bg-gray-600 rounded-lg p-3"},[(0,o.Lk)("div",ug,[(0,o.Lk)("div",{class:(0,r.C4)(["flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",e.selectedAnswer===e.correctAnswer?"bg-green-500 text-white":"bg-red-500 text-white"])},(0,r.v_)(t+1),3),(0,o.Lk)("div",gg,[(0,o.Lk)("p",mg,(0,r.v_)(e.text),1),(0,o.Lk)("div",pg,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"flex items-center space-x-2 text-xs"},[(0,o.Lk)("div",{class:(0,r.C4)(["w-4 h-4 rounded-full border flex items-center justify-center",{"border-green-400 bg-green-400":s===e.correctAnswer,"border-red-400 bg-red-400":s===e.selectedAnswer&&s!==e.correctAnswer,"border-gray-400":s!==e.correctAnswer&&s!==e.selectedAnswer}])},[s===e.correctAnswer||s===e.selectedAnswer?((0,o.uX)(),(0,o.CE)("div",bg)):(0,o.Q3)("",!0)],2),(0,o.Lk)("span",{class:(0,r.C4)({"text-green-300 font-medium":s===e.correctAnswer,"text-red-300":s===e.selectedAnswer&&s!==e.correctAnswer,"text-gray-300":s!==e.correctAnswer&&s!==e.selectedAnswer})},[(0,o.eW)((0,r.v_)(t)+" ",1),s===e.correctAnswer?((0,o.uX)(),(0,o.CE)("span",fg,"(Correct)")):(0,o.Q3)("",!0),s===e.selectedAnswer&&s!==e.correctAnswer?((0,o.uX)(),(0,o.CE)("span",xg,"(Your Answer)")):(0,o.Q3)("",!0)],2)])))),128))])])])])))),128))])]),(0,o.Lk)("div",yg,[t[68]||(t[68]=(0,o.Lk)("h4",{class:"font-semibold mb-3 text-white"},"ðŸ“š Study Recommendations",-1)),(0,o.Lk)("div",vg,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.improvementAdvice,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"flex items-start space-x-3"},[(0,o.bF)(c,{icon:e.icon,class:"text-blue-400 mt-1"},null,8,["icon"]),(0,o.Lk)("div",null,[(0,o.Lk)("div",hg,(0,r.v_)(e.title),1),(0,o.Lk)("div",kg,(0,r.v_)(e.description),1)])])))),128))])]),(0,o.Lk)("div",wg,[(0,o.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>l.retakeQuiz&&l.retakeQuiz(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","redo"],class:"mr-2"}),t[69]||(t[69]=(0,o.eW)(" Retake Quiz "))]),(0,o.Lk)("button",{onClick:t[22]||(t[22]=(...e)=>l.resetQuiz&&l.resetQuiz(...e)),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"},[(0,o.bF)(c,{icon:["fas","times"],class:"mr-2"}),t[70]||(t[70]=(0,o.eW)(" Close Results "))])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Lg,[(0,o.Lk)("div",Cg,[t[73]||(t[73]=(0,o.Lk)("h3",{class:"text-xl font-semibold"},"Your Quizzes",-1)),(0,o.Lk)("div",Sg,[(0,o.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>l.debugQuizStatus&&l.debugQuizStatus(...e)),class:"text-gray-400 hover:text-gray-300 text-sm"},[(0,o.bF)(c,{icon:["fas","info-circle"],class:"mr-1"}),t[71]||(t[71]=(0,o.eW)(" Debug "))]),(0,o.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>l.loadSavedQuizzes&&l.loadSavedQuizzes(...e)),class:"text-blue-400 hover:text-blue-300 text-sm"},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"mr-1"}),t[72]||(t[72]=(0,o.eW)(" Refresh "))])])]),l.isLoadingSavedQuizzes?((0,o.uX)(),(0,o.CE)("div",Eg,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-2xl text-blue-500"}),t[74]||(t[74]=(0,o.Lk)("span",{class:"ml-2 text-gray-400"},"Loading your quizzes...",-1))])):0===l.savedQuizzes.length?((0,o.uX)(),(0,o.CE)("div",_g,[(0,o.bF)(c,{icon:["fas","book-open"],class:"text-6xl mb-6"}),t[75]||(t[75]=(0,o.Lk)("h3",{class:"text-xl font-semibold mb-4"},"No Quizzes Yet",-1)),t[76]||(t[76]=(0,o.Lk)("p",{class:"text-gray-400 mb-6"},"Create your first quiz to start studying!",-1)),(0,o.Lk)("button",{onClick:t[25]||(t[25]=(...e)=>l.openNoteSelector&&l.openNoteSelector(...e)),class:"px-6 py-3 bg-blue-600 rounded-md hover:bg-blue-700 transition",disabled:l.isGeneratingQuiz},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),(0,o.eW)(" "+(0,r.v_)(l.isGeneratingQuiz?"Generating...":"Create Your First Quiz"),1)],8,Ng)])):((0,o.uX)(),(0,o.CE)("div",Ag,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.savedQuizzes,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"bg-gray-700 rounded-lg p-5 hover:bg-gray-600 transition-all duration-200 cursor-pointer transform hover:scale-105 relative",onClick:t=>l.startQuiz(e.id)},[null!==e.score&&void 0!==e.score&&e.questionCount>0?((0,o.uX)(),(0,o.CE)("div",Fg)):((0,o.uX)(),(0,o.CE)("div",zg)),(0,o.Lk)("div",Pg,[(0,o.Lk)("div",Rg,[(0,o.Lk)("h4",Ig,(0,r.v_)(e.title),1),(0,o.Lk)("div",Qg,[(0,o.Lk)("span",Dg,"ID: "+(0,r.v_)(e.id),1)]),(0,o.Lk)("p",qg," Created: "+(0,r.v_)(new Date(e.created_at).toLocaleDateString()),1),(0,o.Lk)("div",Og,[(0,o.bF)(c,{icon:["fas","question-circle"],class:"mr-1"}),(0,o.eW)(" "+(0,r.v_)(e.questionCount)+" questions ",1)])]),(0,o.Lk)("div",Ug,[(0,o.Lk)("div",{class:(0,r.C4)(["text-2xl font-bold mb-1",null!==e.score&&void 0!==e.score&&e.questionCount>0?e.accuracy>=80?"text-green-400":e.accuracy>=60?"text-yellow-400":"text-red-400":"text-gray-500"])},(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?e.accuracy+"%":"Not taken"),3),(0,o.Lk)("div",Xg,(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?"Accuracy":"Status"),1),(0,o.Lk)("div",jg,[(0,o.Lk)("span",Mg,(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?e.score:0),1),t[77]||(t[77]=(0,o.Lk)("span",{class:"text-gray-500 mx-1"},"/",-1)),(0,o.Lk)("span",Kg,(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?e.questionCount-e.score:0),1)]),t[78]||(t[78]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Correct/Incorrect",-1))])]),(0,o.Lk)("div",Wg,[t[85]||(t[85]=(0,o.Lk)("h5",{class:"text-sm font-semibold mb-2 text-gray-200"},"Performance Statistics",-1)),(0,o.Lk)("div",Gg,[(0,o.Lk)("div",null,[(0,o.Lk)("div",$g,(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?e.score:0),1),t[79]||(t[79]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Correct",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Vg,(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?e.questionCount-e.score:0),1),t[80]||(t[80]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Incorrect",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Hg,(0,r.v_)(null!==e.score&&void 0!==e.score&&e.questionCount>0?(e.accuracy||0)+"%":"N/A"),1),t[81]||(t[81]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Accuracy",-1))])]),(0,o.Lk)("div",Bg,[(0,o.Lk)("div",Jg,[t[82]||(t[82]=(0,o.Lk)("span",{class:"font-medium"},"Difficulty:",-1)),(0,o.eW)(" "+(0,r.v_)(e.difficulty||"Medium")+" ",1),t[83]||(t[83]=(0,o.Lk)("span",{class:"mx-2"},"â€¢",-1)),t[84]||(t[84]=(0,o.Lk)("span",{class:"font-medium"},"Questions:",-1)),(0,o.eW)(" "+(0,r.v_)(e.questionCount||0),1)])])]),(0,o.Lk)("div",Yg,[(0,o.Lk)("span",Zg," Difficulty: "+(0,r.v_)(e.difficulty||"Medium"),1),(0,o.Lk)("div",em,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.startQuiz(e.id)),["stop"]),class:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","play"],class:"mr-1"}),t[86]||(t[86]=(0,o.eW)(" Take Quiz "))],8,tm),(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.confirmDeleteQuiz(e.id)),["stop"]),class:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition",title:"Delete Quiz"},[(0,o.bF)(c,{icon:["fas","trash"]})],8,sm)])])],8,Tg)))),128))]))])]))])]),l.showDeleteConfirmation?((0,o.uX)(),(0,o.CE)("div",am,[(0,o.Lk)("div",om,[t[87]||(t[87]=(0,o.Lk)("div",{class:"flex items-center mb-4"},[(0,o.Lk)("div",{class:"ml-4"},[(0,o.Lk)("h3",{class:"text-lg font-semibold text-white"},"Delete Quiz"),(0,o.Lk)("p",{class:"text-sm text-gray-300 mt-1"},"Are you sure you want to delete this quiz? This action cannot be undone.")])],-1)),(0,o.Lk)("div",rm,[(0,o.Lk)("button",{onClick:t[26]||(t[26]=(...e)=>l.cancelDelete&&l.cancelDelete(...e)),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[27]||(t[27]=(...e)=>l.proceedDelete&&l.proceedDelete(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition"}," Delete Quiz ")])])])):(0,o.Q3)("",!0),l.showNoteSelector?((0,o.uX)(),(0,o.CE)("div",lm,[(0,o.Lk)("div",nm,[(0,o.Lk)("div",im,[t[88]||(t[88]=(0,o.Lk)("h2",{class:"text-xl font-semibold"},"Select Notes for Quiz Generation",-1)),(0,o.Lk)("button",{onClick:t[28]||(t[28]=(...e)=>l.closeNoteSelector&&l.closeNoteSelector(...e)),class:"text-gray-400 hover:text-white"},[(0,o.bF)(c,{icon:["fas","times"],class:"text-xl"})])]),l.isLoadingNotes?((0,o.uX)(),(0,o.CE)("div",cm,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-2xl text-blue-500"}),t[89]||(t[89]=(0,o.Lk)("span",{class:"ml-2 text-gray-400"},"Loading your notes...",-1))])):l.availableNotes.length>0?((0,o.uX)(),(0,o.CE)("div",dm,[(0,o.Lk)("div",um,[(0,o.Lk)("div",gm,(0,r.v_)(l.selectedNotes.length)+" of "+(0,r.v_)(l.availableNotes.length)+" notes selected ",1),(0,o.Lk)("div",mm,[(0,o.Lk)("button",{onClick:t[29]||(t[29]=(...e)=>l.selectAllNotes&&l.selectAllNotes(...e)),class:"px-3 py-1 text-sm bg-blue-600 rounded-md hover:bg-blue-700 transition"}," Select All "),(0,o.Lk)("button",{onClick:t[30]||(t[30]=(...e)=>l.deselectAllNotes&&l.deselectAllNotes(...e)),class:"px-3 py-1 text-sm bg-gray-600 rounded-md hover:bg-gray-700 transition"}," Deselect All ")])]),(0,o.Lk)("div",pm,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.availableNotes,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,r.C4)(["bg-gray-700 rounded-lg p-4 cursor-pointer transition-all",e.selected?"ring-2 ring-blue-500 bg-gray-600":"hover:bg-gray-600"]),onClick:t=>l.toggleNoteSelection(e.id)},[(0,o.Lk)("div",fm,[(0,o.Lk)("input",{type:"checkbox",checked:e.selected,class:"mt-1 text-blue-600 focus:ring-blue-500",readonly:""},null,8,xm),(0,o.Lk)("div",ym,[(0,o.Lk)("h3",vm,(0,r.v_)(e.title||"Untitled Note"),1),(0,o.Lk)("p",hm,(0,r.v_)(e.original_text?e.original_text.substring(0,100)+"...":"No content available"),1),(0,o.Lk)("div",km," Created: "+(0,r.v_)(new Date(e.created_at).toLocaleDateString()),1)])])],10,bm)))),128))])])):((0,o.uX)(),(0,o.CE)("div",wm,[(0,o.bF)(c,{icon:["fas","book"],class:"text-4xl mb-4"}),t[90]||(t[90]=(0,o.Lk)("p",{class:"text-lg mb-2"},"No notes available",-1)),t[91]||(t[91]=(0,o.Lk)("p",{class:"text-sm"},"Create some notes first to generate quizzes",-1))])),(0,o.Lk)("div",Lm,[(0,o.Lk)("button",{onClick:t[31]||(t[31]=(...e)=>l.closeNoteSelector&&l.closeNoteSelector(...e)),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[32]||(t[32]=(...e)=>l.generateQuizFromSelectedNotes&&l.generateQuizFromSelectedNotes(...e)),disabled:0===l.selectedNotes.length||l.isGeneratingQuiz,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"mr-2",spin:l.isGeneratingQuiz},null,8,["spin"]),(0,o.eW)(" "+(0,r.v_)(l.isGeneratingQuiz?"Generating...":`Generate Quiz (${l.selectedNotes.length})`),1)],8,Cm)])])])):(0,o.Q3)("",!0)])}s(1148);var Em={name:"QuizView",setup(){const e=(0,g.lq)(),t=(0,g.rd)(),s=(0,n.Pj)(),{showNotifications:a,notifications:r,unreadNotifications:l,toggleNotifications:i,closeNotifications:c,markAsRead:d,markAllAsRead:u,showSuccess:m,showInfo:p,showWarning:b}=Jt(),{user:f,loadUserProfile:x,getProfilePictureUrl:y}=rs();let v=null;try{const t=e.params.id;t&&"undefined"!==t&&"null"!==t&&(v=parseInt(t),isNaN(v)&&(v=null))}catch(Ne){console.error("Error parsing route params:",Ne),v=null}const h=(0,ne.KR)(v),k=(0,ne.KR)("Loading..."),w=(0,ne.KR)(""),L=(0,ne.KR)(!0),C=(0,ne.KR)(null),S=(0,ne.KR)(!1),E=(0,ne.KR)(!1),_=(0,ne.KR)(!1),N=(0,ne.KR)([]),A=(0,ne.KR)([]),T=(0,ne.KR)(!1),F=(0,ne.KR)([]),z=(0,ne.KR)(!1),P=(0,ne.KR)(0),R=(0,ne.KR)(!1),I=(0,ne.KR)(!1),Q=(0,ne.KR)(null),D=(0,ne.KR)(!1),q=(0,ne.KR)([]),O=(0,ne.KR)(!1),U=(0,ne.KR)(null),X=(0,ne.KR)(!1),j=(0,ne.KR)(null),M=(0,ne.KR)(!1),K=(0,o.EW)((()=>F.value.length>0&&F.value.every((e=>null!==e.selectedAnswer)))),W=(0,o.EW)((()=>F.value.filter((e=>null!==e.selectedAnswer)).length)),G=(0,o.EW)((()=>s.getters["app/getSidebarVisible"])),$=f,V=(0,o.EW)((()=>s.getters["app/getThemeClasses"])),H=(0,o.EW)((()=>{const e=P.value,t=F.value.length,s=e/t*100,a=[];s>=90?a.push({id:1,icon:["fas","trophy"],title:"Excellent Performance!",description:"You have a strong grasp of this material. Consider moving to more advanced topics."}):s>=80?a.push({id:1,icon:["fas","thumbs-up"],title:"Great Job!",description:"You're doing well. Focus on the few areas where you made mistakes for even better results."}):s>=70?a.push({id:1,icon:["fas","book-open"],title:"Good Progress",description:"You're on the right track. Review the incorrect answers and try again."}):s>=60?a.push({id:1,icon:["fas","lightbulb"],title:"Keep Studying",description:"Focus on understanding the core concepts. Consider breaking down complex topics into smaller parts."}):a.push({id:1,icon:["fas","graduation-cap"],title:"Time for Review",description:"Take time to thoroughly review the material. Consider creating flashcards or mind maps for key concepts."});const o=t-e;return o>0&&a.push({id:2,icon:["fas","search"],title:"Review Incorrect Answers",description:`Focus on understanding why ${o} answer${o>1?"s were":" was"} incorrect.`}),a.push({id:3,icon:["fas","clock"],title:"Study Tip",description:"Spaced repetition helps retain information better. Review this material again in a few days."}),a})),B=()=>{s.dispatch("app/toggleSidebar")},J=()=>{M.value=!M.value},Y=()=>{M.value=!1},Z=()=>{M.value=!1},ee=async()=>{try{t.push("/login")}catch(C){}},te=()=>{},se=()=>{},ae=async()=>{if(console.log("=== LOAD NOTE DATA START ==="),console.log("noteId.value:",h.value,"Type:",typeof h.value),!h.value)return console.log("No note ID provided, will show note selector"),L.value=!1,void console.log("=== LOAD NOTE DATA END (no noteId) ===");try{console.log("Making API call to getNote with ID:",h.value);const e=await ts.getNote(h.value);if(console.log("API response received:",e),console.log("Response data:",e.data),e.data.success&&e.data.data){const t=e.data.data;console.log("Note data loaded successfully:",t),k.value=t.title||"Untitled Note",console.log("Note title set to:",k.value)}else console.warn("API response indicates failure:",e.data),C.value=e.data?.error||"Note not found",console.log("Error set to:",C.value)}catch(e){console.error("Error loading note:",e),console.error("Error details:",{message:e.message,stack:e.stack,response:e.response}),C.value="Failed to load note data"}finally{L.value=!1,console.log("=== LOAD NOTE DATA END ===")}},oe=async()=>{T.value=!0;try{const e=await ts.getNotes();e.data.success&&e.data.data?N.value=e.data.data.map((e=>({id:e.id,title:e.title||"Untitled Note",original_text:e.original_text||"",summary:e.summary||"",created_at:e.created_at,selected:!1}))):console.error("Failed to load notes:",e.data?.error)}catch(C){console.error("Error loading notes:",C)}finally{T.value=!1}},re=e=>{const t=N.value.find((t=>t.id===e));t&&(t.selected=!t.selected,le())},le=()=>{A.value=N.value.filter((e=>e.selected))},ie=()=>{N.value.forEach((e=>{e.selected=!0})),le()},ce=()=>{N.value.forEach((e=>{e.selected=!1})),le()},de=async()=>{console.log("Opening note selector modal"),_.value=!0,console.log("showNoteSelector set to:",_.value),0===N.value.length?(console.log("Loading available notes..."),await oe(),console.log("Available notes loaded:",N.value.length)):console.log("Notes already loaded:",N.value.length)},ue=()=>{_.value=!1},ge=async()=>{0!==A.value.length?(ue(),await pe(A.value)):alert("Please select at least one note to generate a quiz from.")},me=async()=>{if(console.log("=== GENERATE NEW QUIZ BUTTON CLICKED ==="),console.log("isGeneratingQuiz:",E.value),console.log("noteId:",h.value),console.log("Current route params:",e.params),console.log("showNoteSelector:",_.value),console.log("availableNotes length:",N.value.length),E.value)return void console.log("Quiz generation already in progress, returning");0===N.value.length&&(console.log("Loading available notes..."),await oe(),console.log("Available notes loaded:",N.value.length));let t=[];if(h.value){console.log("Using specific note ID:",h.value);const e=N.value.find((e=>e.id===h.value));e?(t=[e],console.log("Found specific note:",e.title)):(console.error("Specific note not found, using all available notes"),t=N.value)}else console.log("No specific note ID, using all available notes"),t=N.value;0!==t.length?(console.log("Generating quiz from",t.length,"note(s)"),await pe(t)):alert("No notes available for quiz generation. Please create some notes first.")},pe=async e=>{if(!E.value){E.value=!0;try{console.log("=== FRONTEND QUIZ GENERATION START ==="),console.log("Generating quiz from",e.length,"note(s)");let t="";const s=[];for(const r of e)try{let e;if(r.original_text)e=r;else{const t=await ts.getNote(r.id);if(!t.data.success||!t.data.data){console.warn("Failed to load note:",r.id);continue}e=t.data.data}const a=e.summary&&'No summary available. Click "Generate Summary" to create one.'!==e.summary,o=a?e.summary:e.original_text;o&&o.length>10&&(t+=`\n\n--- ${e.title||"Untitled Note"} ---\n${o}`,s.push(e.title||"Untitled Note"))}catch(C){console.warn("Error loading note content:",r.id,C)}if(!t||t.length<50)return void alert("Not enough content available for quiz generation. Please ensure your selected notes have sufficient text content.");console.log("Combined content length:",t.length),console.log("Note titles:",s.join(", "));let a="General Knowledge Quiz";if(1===e.length)a=e[0].title||"Untitled Note";else if(2===e.length){const t=e[0].title||"Note 1",s=e[1].title||"Note 2";a=`${t} & ${s}`}else if(e.length>2){const t=e[0].title||"First Note",s=e.length-1;a=`${t} + ${s} more notes`}else{const e=await ts.gpt.extractKeywords(t,3);if(e.data&&e.data.success&&e.data.data){const t=e.data.data;if(Array.isArray(t)&&t.length>0){const e=t[0].toLowerCase(),s=t.length>1?t[1].toLowerCase():"";a=`${e.charAt(0).toUpperCase()+e.slice(1)}${s?" & "+s.charAt(0).toUpperCase()+s.slice(1):""} Quiz`}}}const o=await ts.gpt.generateQuiz(t,{difficulty:"medium",questionCount:Math.min(10,Math.max(5,2*e.length)),noteTitle:1===s.length?s[0]:`${s.length} Selected Notes`,quizTitle:a});if(o.data&&o.data.success&&o.data.data){const t=o.data.data.questions||o.data.data||[];if(!Array.isArray(t)||0===t.length)return void alert("No quiz questions were generated. The content may be too short or unclear.");const s=1===e.length?e[0].id:h.value||e[0].id,r=await ts.createQuiz(s,{questions:t,difficulty:"medium",source:1===e.length?"single_note":"multiple_notes",note_count:e.length,title:a,note_title:a});r.data.success?(F.value=t.map((e=>{let t=e.correct_answer||e.correctAnswer||0;if("string"===typeof t){const e={A:0,B:1,C:2,D:3};t=e[t.toUpperCase()]??0}const s=[...e.options],a=t;for(let l=s.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[s[l],s[e]]=[s[e],s[l]]}const o=e.options[a],r=s.findIndex((e=>e===o));return{text:e.question,options:s,correctAnswer:r,selectedAnswer:null,originalOptions:e.options,originalCorrectIndex:a}})),w.value=a,z.value=!1,P.value=0,R.value=!1,console.log("Quiz generated successfully from",e.length,"note(s)"),alert(`Quiz "${a}" generated successfully! Created ${t.length} questions from ${e.length} selected note${e.length>1?"s":""}.`),setTimeout((()=>{const e=document.querySelector(".bg-gray-800.rounded-lg.p-6.mb-6");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}),100)):alert("Failed to save quiz: "+(r.data.error||"Unknown error"))}else{const e=o.data?.error||"Failed to generate quiz questions";e.includes("API key")||e.includes("authentication")||e.includes("Gemini")?alert("AI service is not configured properly. Please check your Google Gemini API key in the .env file.\n\nUsing basic fallback quiz generation instead."):alert("Failed to generate quiz questions: "+e)}}catch(C){console.error("Error generating quiz:",C),alert("Failed to generate quiz. Please try again.")}finally{E.value=!1,console.log("=== FRONTEND QUIZ GENERATION END ===")}}},be=()=>{if(!K.value)return void alert("Please answer all questions before checking your results.");let e=0;F.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),P.value=e,z.value=!0},fe=()=>{F.value.forEach((e=>{e.selectedAnswer=null})),z.value=!1,P.value=0,R.value=!1},xe=()=>{fe()},ye=()=>{D.value=!D.value},ve=async()=>{if(F.value.length)try{I.value=!0;let e=h.value;if(!e)try{const t=await ts.getNotes();t.data.success&&t.data.data&&t.data.data.length>0&&(e=t.data.data[0].id,console.log("Using first available note ID:",e))}catch(C){console.error("Error fetching notes for quiz save:",C)}if(!e)return void alert("Unable to save quiz: No notes available. Please create a note first.");const t={note_id:e,questions:F.value,difficulty:"medium",score:P.value,title:k.value,note_title:k.value};console.log("Saving quiz with data:",t);const s=await ts.saveQuiz(t);s.data.success?(Q.value=s.data.quiz_id,alert("Quiz saved successfully!"),ke()):alert("Failed to save quiz: "+(s.data.error||"Unknown error"))}catch(C){console.error("Error saving quiz:",C),alert("Failed to save quiz. Please try again.")}finally{I.value=!1}else alert("No quiz to save. Please generate a quiz first.")},he=()=>{console.log("=== QUIZ STATUS DEBUG ==="),console.log("Total quizzes:",q.value.length),q.value.forEach(((e,t)=>{console.log(`Quiz ${t+1} (ID: ${e.id}):`,{score:e.score,scoreType:typeof e.score,questionCount:e.questionCount,accuracy:e.accuracy,isCompleted:null!==e.score&&void 0!==e.score&&e.questionCount>0,title:e.title})}));const e=q.value.filter((e=>null!==e.score&&void 0!==e.score&&e.questionCount>0)),t=q.value.filter((e=>!(null!==e.score&&void 0!==e.score&&e.questionCount>0)));console.log("Completed quizzes:",e.length),console.log("Not taken quizzes:",t.length),alert(`Debug Info:\nTotal Quizzes: ${q.value.length}\nCompleted: ${e.length}\nNot Taken: ${t.length}\n\nCheck console for detailed quiz data.`)},ke=async()=>{console.log("=== LOAD SAVED QUIZZES START ===");try{O.value=!0,console.log("Making API call to getQuizzes");const e=await ts.getQuizzes();console.log("API response received:",e),console.log("Response data:",e.data),e.data.success&&e.data.data?(console.log("Processing",e.data.data.length,"quizzes"),q.value=e.data.data.map((e=>{console.log("Processing quiz:",e.id,"Questions type:",typeof e.questions,"Questions value:",e.questions);let t=[],s=0,a=0;try{t="string"===typeof e.questions?JSON.parse(e.questions)||[]:e.questions||[],s=Array.isArray(t)?t.length:0;const o=null===e.score||void 0===e.score||isNaN(e.score)?null:Number(e.score);null!==o&&s>0?(a=Math.round(o/s*100),a=Math.max(0,Math.min(100,a))):a=0,console.log(`Quiz ${e.id} stats: score=${o}, questionCount=${s}, accuracy=${a}%, isCompleted=${null!==o&&s>0}`)}catch(l){console.warn("Error parsing questions for quiz",e.id,l),console.warn("Quiz data:",e),s=0,a=0}let o=e.note_title||e.title;o||(o=`Quiz #${e.id}`);const r={id:e.id,note_id:e.note_id,questions:t,difficulty:e.difficulty,score:e.score,created_at:e.created_at,updated_at:e.updated_at,questionCount:s,accuracy:a,title:o,note_title:e.note_title};return console.log("Processed quiz:",r),r})),console.log("Successfully processed",q.value.length,"quizzes")):(console.error("Failed to load saved quizzes:",e.data?.error),console.error("Response data:",e.data))}catch(C){console.error("Error loading saved quizzes:",C),console.error("Error details:",{message:C.message,stack:C.stack,response:C.response})}finally{O.value=!1,console.log("=== LOAD SAVED QUIZZES END ===")}},we=e=>{t.push(`/quizzes/${e}`)},Le=e=>{j.value=e,X.value=!0},Ce=()=>{X.value=!1,j.value=null},Se=async()=>{j.value&&(await Ee(j.value),X.value=!1,j.value=null)},Ee=async e=>{try{const t=await ts.deleteQuiz(e);t.data.success?(q.value=q.value.filter((t=>t.id!==e)),alert("Quiz deleted successfully!")):alert("Failed to delete quiz: "+(t.data.error||"Unknown error"))}catch(C){console.error("Error deleting quiz:",C),alert("Failed to delete quiz. Please try again.")}},_e=async e=>{try{const t=await ts.getQuiz(e);if(t.data.success&&t.data.data){const s=t.data.data,a=s.questions||[];F.value=a.map((e=>({text:e.question||e.text,options:e.options||[],correctAnswer:e.correct_answer||e.correctAnswer||0,selectedAnswer:null,originalOptions:e.options||[],originalCorrectIndex:e.correct_answer||e.correctAnswer||0}))),w.value=s.note_title||s.title||`Quiz #${e}`,z.value=!1,P.value=0,R.value=!1,U.value=s,alert(`Loaded saved quiz with ${a.length} questions!`)}else alert("Failed to load quiz: "+(t.data?.error||"Unknown error"))}catch(C){console.error("Error loading saved quiz:",C),alert("Failed to load quiz. Please try again.")}};return(0,o.sV)((async()=>{console.log("=== ONMOUNTED START ===");try{console.log("Calling loadNoteData..."),await ae(),console.log("loadNoteData completed successfully"),console.log("Calling loadSavedQuizzes..."),await ke(),console.log("loadSavedQuizzes completed successfully"),console.log("Calling loadUserProfile..."),await x(),console.log("loadUserProfile completed successfully"),console.log("=== ONMOUNTED END ===")}catch(C){console.error("=== ONMOUNTED ERROR ==="),console.error("Error during component initialization:",C),console.error("Error details:",{message:C.message,stack:C.stack,name:C.name}),C.value="Failed to initialize component: "+C.message,L.value=!1,console.log("=== ONMOUNTED ERROR HANDLED ===")}})),{noteId:h,noteTitle:k,quizTitle:w,isLoading:L,error:C,sidebarOpen:S,sidebarVisible:G,isGeneratingQuiz:E,quizQuestions:F,quizCompleted:z,quizScore:P,showResults:R,showCorrectAnswers:D,toggleShowAnswers:ye,allQuestionsAnswered:K,answeredQuestionsCount:W,improvementAdvice:H,showNoteSelector:_,availableNotes:N,selectedNotes:A,isLoadingNotes:T,isSavingQuiz:I,savedQuizId:Q,savedQuizzes:q,isLoadingSavedQuizzes:O,selectedSavedQuiz:U,showUserMenu:M,user:$,toggleSidebar:B,generateNewQuiz:me,checkAnswers:be,resetQuiz:fe,retakeQuiz:xe,saveQuiz:ve,loadAvailableNotes:oe,toggleNoteSelection:re,selectAllNotes:ie,deselectAllNotes:ce,openNoteSelector:de,closeNoteSelector:ue,generateQuizFromSelectedNotes:ge,generateQuizFromNotes:pe,loadSavedQuizzes:ke,loadSavedQuiz:_e,startQuiz:we,confirmDeleteQuiz:Le,deleteQuiz:Ee,cancelDelete:Ce,proceedDelete:Se,showDeleteConfirmation:X,quizToDelete:j,toggleUserMenu:J,closeUserMenu:Y,openProfileModal:Z,logout:ee,getProfilePictureUrl:y,handleImageError:te,handleImageLoad:se,showNotifications:a,notifications:r,unreadNotifications:l,toggleNotifications:i,closeNotifications:c,markAsRead:d,markAllAsRead:u,showSuccess:m,showInfo:p,showWarning:b,loadUserProfile:x,debugQuizStatus:he,themeClasses:V,store:s}}};const _m=(0,c.A)(Em,[["render",Sm]]);var Nm=_m;const Am={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"},Tm={class:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700/50 sticky top-0 z-10"},Fm={class:"max-w-4xl mx-auto px-4 py-4"},zm={class:"flex items-center justify-between"},Pm={class:"flex items-center space-x-4"},Rm={class:"text-center"},Im={class:"text-xl font-bold text-white"},Qm={class:"flex items-center space-x-4"},Dm={class:"text-sm text-gray-400"},qm={class:"text-sm text-gray-400"},Om={class:"max-w-4xl mx-auto px-4 py-8"},Um={key:0,class:"flex flex-col items-center justify-center min-h-96"},Xm={key:1,class:"flex flex-col items-center justify-center min-h-96"},jm={class:"text-red-400 mb-4"},Mm={class:"text-gray-400 mb-6 text-center"},Km={key:2},Wm={class:"mb-8"},Gm={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},$m={class:"text-center"},Vm={class:"text-xl font-bold text-green-400"},Hm={class:"text-center"},Bm={class:"text-xl font-bold text-red-400"},Jm={class:"text-center"},Ym={class:"text-xl font-bold text-blue-400"},Zm={class:"text-center"},ep={class:"text-xl font-bold text-yellow-400"},tp={class:"flex justify-between items-center mb-2"},sp={class:"text-sm text-gray-400"},ap={class:"w-full bg-gray-700 rounded-full h-2"},op={class:"bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 p-8 mb-8"},rp={class:"flex items-start justify-between mb-6"},lp={class:"flex-1"},np={class:"flex items-center space-x-3 mb-4"},ip={class:"flex items-center justify-center w-8 h-8 bg-blue-600 rounded-full text-white font-bold text-sm"},cp={class:"text-sm text-gray-400"},dp={class:"text-xl font-semibold text-white leading-relaxed"},up={class:"space-y-3 mb-8"},gp=["for"],mp=["id","name","value","disabled","onChange"],pp={class:"flex items-center space-x-3 flex-1"},bp={class:"text-sm leading-relaxed"},fp={class:"flex items-center justify-between"},xp=["disabled"],yp={class:"flex space-x-2"},vp=["onClick"],hp=["disabled"],kp={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},wp={class:"bg-gray-800 rounded-xl max-w-2xl w-full max-h-90vh overflow-y-auto"},Lp={class:"p-6"},Cp={class:"flex items-center justify-between mb-6"},Sp={class:"text-center mb-8"},Ep={class:"text-gray-300 text-lg"},_p={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"},Np={class:"bg-gray-700/50 rounded-lg p-4 text-center"},Ap={class:"text-2xl font-bold text-green-400 mb-1"},Tp={class:"bg-gray-700/50 rounded-lg p-4 text-center"},Fp={class:"text-2xl font-bold text-red-400 mb-1"},zp={class:"bg-gray-700/50 rounded-lg p-4 text-center"},Pp={class:"text-2xl font-bold text-blue-400 mb-1"},Rp={class:"bg-gray-700/50 rounded-lg p-4 text-center"},Ip={class:"text-2xl font-bold text-purple-400 mb-1"},Qp={class:"flex space-x-4"},Dp=["disabled"],qp={key:1,class:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4"},Op={class:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl max-w-md w-full mx-4 shadow-2xl border border-gray-700"},Up={class:"p-8 text-center"},Xp={class:"mb-6"},jp={class:"w-20 h-20 mx-auto bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg"},Mp={class:"mb-6"},Kp={class:"text-gray-300 text-lg"},Wp={class:"flex space-x-3"},Gp={class:"mt-6 pt-4 border-t border-gray-700"},$p={class:"grid grid-cols-3 gap-4 text-center"},Vp={class:"text-lg font-bold text-green-400"},Hp={class:"text-lg font-bold text-red-400"},Bp={class:"text-lg font-bold text-blue-400"};function Jp(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Am,[(0,o.Lk)("header",Tm,[(0,o.Lk)("div",Fm,[(0,o.Lk)("div",zm,[(0,o.Lk)("div",Pm,[(0,o.bF)(d,{to:"/quizzes",class:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","angle-left"]}),t[11]||(t[11]=(0,o.Lk)("span",null,"Back to Quizzes",-1))])),_:1,__:[11]})]),(0,o.Lk)("div",Rm,[(0,o.Lk)("h1",Im,(0,r.v_)(l.quizTitle),1)]),(0,o.Lk)("div",Qm,[(0,o.Lk)("div",Dm," Question "+(0,r.v_)(l.currentQuestionIndex+1)+" of "+(0,r.v_)(l.quizQuestions.length),1),(0,o.Lk)("div",qm," â€¢ "+(0,r.v_)(l.correctAnswersCount)+" âœ“ â€¢ "+(0,r.v_)(l.incorrectAnswersCount)+" âœ— â€¢ "+(0,r.v_)(l.currentAccuracy)+"% ",1)])])])]),(0,o.Lk)("div",Om,[l.isLoading?((0,o.uX)(),(0,o.CE)("div",Um,t[12]||(t[12]=[(0,o.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"},null,-1),(0,o.Lk)("p",{class:"text-gray-400"},"Loading quiz...",-1)]))):l.error?((0,o.uX)(),(0,o.CE)("div",Xm,[(0,o.Lk)("div",jm,[(0,o.bF)(c,{icon:["fas","exclamation-triangle"],class:"text-4xl"})]),t[14]||(t[14]=(0,o.Lk)("h2",{class:"text-xl font-semibold text-white mb-2"},"Error Loading Quiz",-1)),(0,o.Lk)("p",Mm,(0,r.v_)(l.error),1),(0,o.bF)(d,{to:"/quizzes",class:"px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors"},{default:(0,o.k6)((()=>t[13]||(t[13]=[(0,o.eW)(" Return to Quizzes ")]))),_:1,__:[13]})])):((0,o.uX)(),(0,o.CE)("div",Km,[(0,o.Lk)("div",Wm,[(0,o.Lk)("div",Gm,[(0,o.Lk)("div",$m,[(0,o.Lk)("div",Vm,(0,r.v_)(l.correctAnswersCount),1),t[15]||(t[15]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Correct",-1))]),(0,o.Lk)("div",Hm,[(0,o.Lk)("div",Bm,(0,r.v_)(l.incorrectAnswersCount),1),t[16]||(t[16]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Incorrect",-1))]),(0,o.Lk)("div",Jm,[(0,o.Lk)("div",Ym,(0,r.v_)(l.currentAccuracy)+"%",1),t[17]||(t[17]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Accuracy",-1))]),(0,o.Lk)("div",Zm,[(0,o.Lk)("div",ep,(0,r.v_)(l.unansweredQuestionsCount),1),t[18]||(t[18]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Remaining",-1))])]),(0,o.Lk)("div",tp,[t[19]||(t[19]=(0,o.Lk)("span",{class:"text-sm font-medium text-gray-300"},"Progress",-1)),(0,o.Lk)("span",sp,(0,r.v_)(l.answeredQuestionsCount)+"/"+(0,r.v_)(l.quizQuestions.length)+" answered",1)]),(0,o.Lk)("div",ap,[(0,o.Lk)("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-500 ease-out",style:(0,r.Tr)({width:l.answeredQuestionsCount/l.quizQuestions.length*100+"%"})},null,4)])]),(0,o.Lk)("div",op,[(0,o.Lk)("div",rp,[(0,o.Lk)("div",lp,[(0,o.Lk)("div",np,[(0,o.Lk)("div",ip,(0,r.v_)(l.currentQuestionIndex+1),1),(0,o.Lk)("div",cp,(0,r.v_)(l.getQuestionType(l.quizQuestions[l.currentQuestionIndex])),1)]),(0,o.Lk)("h2",dp,(0,r.v_)(l.quizQuestions[l.currentQuestionIndex].text),1)])]),(0,o.Lk)("div",up,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions[l.currentQuestionIndex].options,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:`option-${l.currentQuestionIndex}-${s}`,class:"relative"},[(0,o.Lk)("label",{for:`q${l.currentQuestionIndex}-o${s}`,class:(0,r.C4)(["flex items-center space-x-4 p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer group",{"border-blue-500 bg-blue-500/10 text-blue-100":l.quizQuestions[l.currentQuestionIndex].selectedAnswer===s,"border-gray-600 hover:border-gray-500 bg-gray-700/30 text-gray-300 hover:bg-gray-700/50":l.quizQuestions[l.currentQuestionIndex].selectedAnswer!==s}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:`q${l.currentQuestionIndex}-o${s}`,name:`question-${l.currentQuestionIndex}`,value:s,"onUpdate:modelValue":t[0]||(t[0]=e=>l.quizQuestions[l.currentQuestionIndex].selectedAnswer=e),class:"text-blue-600 focus:ring-blue-500",disabled:l.quizCompleted,onChange:e=>l.onAnswerSelected(l.currentQuestionIndex,s)},null,40,mp),[[a.XL,l.quizQuestions[l.currentQuestionIndex].selectedAnswer,void 0,{number:!0}]]),(0,o.Lk)("div",pp,[(0,o.Lk)("div",{class:(0,r.C4)(["flex items-center justify-center w-6 h-6 rounded-full border-2 text-xs font-bold",{"border-blue-500 bg-blue-500 text-white":l.quizQuestions[l.currentQuestionIndex].selectedAnswer===s,"border-gray-400 text-gray-400":l.quizQuestions[l.currentQuestionIndex].selectedAnswer!==s}])},(0,r.v_)(String.fromCharCode(65+s)),3),(0,o.Lk)("span",bp,(0,r.v_)(e),1)])],10,gp)])))),128))])]),(0,o.Lk)("div",fp,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.previousQuestion&&l.previousQuestion(...e)),disabled:0===l.currentQuestionIndex,class:(0,r.C4)(["flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors",0===l.currentQuestionIndex?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-700 hover:bg-gray-600 text-white"])},[(0,o.bF)(c,{icon:["fas","chevron-left"]}),t[20]||(t[20]=(0,o.Lk)("span",null,"Previous",-1))],10,xp),(0,o.Lk)("div",yp,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("button",{key:`nav-${t}`,onClick:e=>l.goToQuestion(t),class:(0,r.C4)(["w-10 h-10 rounded-lg border-2 transition-all duration-200 flex items-center justify-center text-sm font-medium",{"border-blue-500 bg-blue-500/20 text-blue-400":l.currentQuestionIndex===t,"border-gray-600 bg-gray-700/30 text-gray-400 hover:border-gray-500":l.currentQuestionIndex!==t&&null===e.selectedAnswer,"bg-green-500/20 border-green-500 text-green-400":null!==e.selectedAnswer&&e.selectedAnswer===e.correctAnswer,"bg-red-500/20 border-red-500 text-red-400":null!==e.selectedAnswer&&e.selectedAnswer!==e.correctAnswer}])},(0,r.v_)(t+1),11,vp)))),128))]),l.currentQuestionIndex<l.quizQuestions.length-1?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>l.nextQuestion&&l.nextQuestion(...e)),class:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-white"},[t[21]||(t[21]=(0,o.Lk)("span",null,"Next",-1)),(0,o.bF)(c,{icon:["fas","chevron-right"]})])):l.quizCompleted?((0,o.uX)(),(0,o.CE)("button",{key:2,onClick:t[4]||(t[4]=(...e)=>l.viewResults&&l.viewResults(...e)),class:"flex items-center space-x-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors text-white"},[(0,o.bF)(c,{icon:["fas","chart-bar"]}),t[23]||(t[23]=(0,o.Lk)("span",null,"View Results",-1))])):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[3]||(t[3]=(...e)=>l.checkAnswers&&l.checkAnswers(...e)),disabled:!l.allQuestionsAnswered,class:(0,r.C4)(["flex items-center space-x-2 px-6 py-3 rounded-lg transition-colors text-white",l.allQuestionsAnswered?"bg-green-600 hover:bg-green-700":"bg-gray-700 text-gray-500 cursor-not-allowed"])},[(0,o.bF)(c,{icon:["fas","check"]}),t[22]||(t[22]=(0,o.Lk)("span",null,"Submit Quiz",-1))],10,hp)),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.debugStats&&l.debugStats(...e)),class:"flex items-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg transition-colors text-white text-sm",title:"Debug Statistics"},[(0,o.bF)(c,{icon:["fas","info-circle"]})])]),l.showResults?((0,o.uX)(),(0,o.CE)("div",kp,[(0,o.Lk)("div",wp,[(0,o.Lk)("div",Lp,[(0,o.Lk)("div",Cp,[t[24]||(t[24]=(0,o.Lk)("h2",{class:"text-2xl font-bold text-white"},"Quiz Results",-1)),(0,o.Lk)("button",{onClick:t[6]||(t[6]=e=>l.showResults=!1),class:"text-gray-400 hover:text-white transition-colors"},[(0,o.bF)(c,{icon:["fas","times"]})])]),(0,o.Lk)("div",Sp,[(0,o.Lk)("div",{class:(0,r.C4)(["text-6xl font-bold mb-2",l.quizScore===l.quizQuestions.length?"text-green-400":l.quizScore>=.7*l.quizQuestions.length?"text-yellow-400":"text-red-400"])},(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"% ",3),(0,o.Lk)("p",Ep,(0,r.v_)(l.quizScore)+" out of "+(0,r.v_)(l.quizQuestions.length)+" correct ",1)]),(0,o.Lk)("div",_p,[(0,o.Lk)("div",Np,[(0,o.Lk)("div",Ap,(0,r.v_)(l.quizScore),1),t[25]||(t[25]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Correct",-1))]),(0,o.Lk)("div",Tp,[(0,o.Lk)("div",Fp,(0,r.v_)(l.quizQuestions.length-l.quizScore),1),t[26]||(t[26]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Incorrect",-1))]),(0,o.Lk)("div",zp,[(0,o.Lk)("div",Pp,(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"%",1),t[27]||(t[27]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Accuracy",-1))]),(0,o.Lk)("div",Rp,[(0,o.Lk)("div",Ip,(0,r.v_)(l.quizQuestions.length),1),t[28]||(t[28]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Total Questions",-1))])]),(0,o.Lk)("div",Qp,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.retakeQuiz&&l.retakeQuiz(...e)),class:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-white"},[(0,o.bF)(c,{icon:["fas","redo"]}),t[29]||(t[29]=(0,o.Lk)("span",null,"Retake Quiz",-1))]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.saveQuiz&&l.saveQuiz(...e)),disabled:l.isSavingQuiz,class:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors text-white disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas","save"],spin:l.isSavingQuiz},null,8,["spin"]),(0,o.Lk)("span",null,(0,r.v_)(l.isSavingQuiz?"Saving...":"Save Results"),1)],8,Dp),(0,o.bF)(d,{to:"/quizzes",class:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg transition-colors text-white text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","angle-left"]}),t[30]||(t[30]=(0,o.Lk)("span",null,"Back to Quizzes",-1))])),_:1,__:[30]})])])])])):(0,o.Q3)("",!0),l.showCompletionPopup?((0,o.uX)(),(0,o.CE)("div",qp,[(0,o.Lk)("div",Op,[(0,o.Lk)("div",Up,[(0,o.Lk)("div",Xp,[(0,o.Lk)("div",jp,[(0,o.bF)(c,{icon:["fas","trophy"],class:"text-white text-3xl"})])]),t[36]||(t[36]=(0,o.Lk)("h2",{class:"text-2xl font-bold text-white mb-2"},"Quiz Completed!",-1)),t[37]||(t[37]=(0,o.Lk)("p",{class:"text-gray-300 mb-6"},"Great job! Here's your performance summary.",-1)),(0,o.Lk)("div",Mp,[(0,o.Lk)("div",{class:(0,r.C4)(["text-5xl font-bold mb-2",l.quizScore/l.quizQuestions.length>=.8?"text-green-400":l.quizScore/l.quizQuestions.length>=.6?"text-yellow-400":"text-red-400"])},(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"% ",3),(0,o.Lk)("p",Kp,(0,r.v_)(l.quizScore)+" out of "+(0,r.v_)(l.quizQuestions.length)+" correct ",1)]),(0,o.Lk)("div",{class:(0,r.C4)(["mb-6 p-4 rounded-lg",l.quizScore/l.quizQuestions.length>=.8?"bg-green-500/10 border border-green-500/20":l.quizScore/l.quizQuestions.length>=.6?"bg-yellow-500/10 border border-yellow-500/20":"bg-red-500/10 border border-red-500/20"])},[(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.quizScore/l.quizQuestions.length>=.8?"text-green-300":l.quizScore/l.quizQuestions.length>=.6?"text-yellow-300":"text-red-300"])},(0,r.v_)(l.quizScore/l.quizQuestions.length>=.8?"ðŸŽ‰ Excellent work! You have a strong understanding of this material.":l.quizScore/l.quizQuestions.length>=.6?"ðŸ‘ Good job! You're on the right track with some room for improvement.":"ðŸ“š Keep studying! Review the material and try again to improve your score."),3)],2),(0,o.Lk)("div",Wp,[(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>{l.showCompletionPopup=!1,l.showResults=!0}),class:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-white font-medium"},[(0,o.bF)(c,{icon:["fas","chart-bar"],class:"mr-2"}),t[31]||(t[31]=(0,o.eW)(" View Details "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.showCompletionPopup=!1),class:"flex-1 px-4 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg transition-colors text-white font-medium"},[(0,o.bF)(c,{icon:["fas","times"],class:"mr-2"}),t[32]||(t[32]=(0,o.eW)(" Close "))])]),(0,o.Lk)("div",Gp,[(0,o.Lk)("div",$p,[(0,o.Lk)("div",null,[(0,o.Lk)("div",Vp,(0,r.v_)(l.quizScore),1),t[33]||(t[33]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Correct",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Hp,(0,r.v_)(l.quizQuestions.length-l.quizScore),1),t[34]||(t[34]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Incorrect",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Bp,(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"%",1),t[35]||(t[35]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Accuracy",-1))])])])])])])):(0,o.Q3)("",!0)]))])])}var Yp={name:"QuizTakingView",setup(){const e=(0,g.lq)(),t=(0,ne.KR)(parseInt(e.params.id)||null),s=(0,ne.KR)("Loading Quiz..."),a=(0,ne.KR)(""),r=(0,ne.KR)(!0),l=(0,ne.KR)(null),n=(0,ne.KR)([]),i=(0,ne.KR)(!1),c=(0,ne.KR)(0),d=(0,ne.KR)(!1),u=(0,ne.KR)(!1),m=(0,ne.KR)(!1),p=(0,ne.KR)(0),b=(0,o.EW)((()=>n.value.length>0&&n.value.every((e=>null!==e.selectedAnswer&&void 0!==e.selectedAnswer)))),f=(0,o.EW)((()=>n.value.filter((e=>null!==e.selectedAnswer&&void 0!==e.selectedAnswer)).length)),x=()=>{const e=n.value.filter((e=>null!==e.selectedAnswer&&void 0!==e.selectedAnswer&&e.selectedAnswer===e.correctAnswer)).length;return console.log("Correct answers count:",e),e},y=()=>{const e=n.value.filter((e=>null!==e.selectedAnswer&&void 0!==e.selectedAnswer&&e.selectedAnswer!==e.correctAnswer)).length;return console.log("Incorrect answers count:",e),e},v=()=>{const e=f.value,t=x(),s=0===e?0:Math.round(t/e*100);return console.log("Current accuracy:",s,"Answered:",e,"Correct:",t),s},h=()=>{const e=n.value.length-f.value;return console.log("Unanswered questions count:",e),e},k=(0,o.EW)((()=>x())),w=(0,o.EW)((()=>y())),L=(0,o.EW)((()=>v())),C=(0,o.EW)((()=>h())),S=e=>{const t=[...e];for(let s=t.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}return t},E=e=>null!==e.selectedAnswer&&void 0!==e.selectedAnswer&&(!(!e.options||0===e.options.length)&&(!(e.correctAnswer<0||e.correctAnswer>=e.options.length)&&Number(e.selectedAnswer)===Number(e.correctAnswer))),_=e=>e&&e.options?`Multiple Choice (${e.options.length} options)`:"Multiple Choice",N=()=>{p.value<n.value.length-1&&p.value++},A=()=>{p.value>0&&p.value--},T=e=>{e>=0&&e<n.value.length&&(p.value=e)},F=async(e,t)=>{console.log(`Answer selected for question ${e+1}: option ${t}`),console.log("Question data:",n.value[e]),console.log("Correct answer:",n.value[e].correctAnswer),console.log("Is correct:",t===n.value[e].correctAnswer),await(0,o.dY)(),n.value=[...n.value],console.log("Updated statistics after answer selection:"),console.log("- Correct answers:",x()),console.log("- Incorrect answers:",y()),console.log("- Current accuracy:",v()+"%")},z=()=>{console.log("=== DEBUG STATISTICS ==="),console.log("Total questions:",n.value.length),console.log("Answered questions:",f.value),console.log("Correct answers:",x()),console.log("Incorrect answers:",y()),console.log("Current accuracy:",v()+"%"),console.log("Unanswered questions:",h()),console.log("Question details:"),n.value.forEach(((e,t)=>{console.log(`Question ${t+1}: Selected=${e.selectedAnswer}, Correct=${e.correctAnswer}, IsCorrect=${e.selectedAnswer===e.correctAnswer}`)})),n.value=[...n.value],alert(`Debug Stats:\nTotal: ${n.value.length}\nAnswered: ${f.value}\nCorrect: ${x()}\nIncorrect: ${y()}\nAccuracy: ${v()}%\nUnanswered: ${h()}`)},P=async()=>{if(!t.value)return l.value="No quiz ID provided",void(r.value=!1);try{const o=await ts.getQuiz(t.value);if(o.data.success&&o.data.data){const r=o.data.data,l=r.questions||[];if(!Array.isArray(l)||0===l.length)throw new Error("No questions found in quiz data");if(n.value=l.map((e=>{let t=e.correct_answer||e.correctAnswer||0;t="string"===typeof t&&/^[A-D]$/.test(t.toUpperCase())?t.toUpperCase().charCodeAt(0)-65:Number(t)||0;const s=Array.isArray(e.options)?e.options:[];if(0===s.length)throw new Error("Question has no options");const a=S(s),o=s[t],r=a.indexOf(o),l={text:e.question||e.text||"Untitled Question",options:a,originalOptions:s,correctAnswer:Math.max(0,Math.min(r,a.length-1)),selectedAnswer:null};return console.log("Processed question:",{text:l.text,optionsCount:l.options.length,correctAnswer:l.correctAnswer,correctAnswerText:l.options[l.correctAnswer],originalCorrectAnswer:e.correct_answer||e.correctAnswer,shuffled:!0,originalOptions:s,shuffledOptions:a}),l})),r.note_id)try{const e=await ts.getNote(r.note_id);if(e.data.success&&e.data.data){const t=e.data.data.title||"Unknown Note";a.value=t,s.value=t}else a.value="Quiz from Notes",s.value=r.title||`Quiz #${t.value}`}catch(e){console.warn("Could not load note title:",e),a.value="Quiz from Notes",s.value=r.title||`Quiz #${t.value}`}else a.value="Generated Quiz",s.value=r.title||`Quiz #${t.value}`}else l.value=o.data?.error||"Quiz not found"}catch(o){console.error("Error loading quiz:",o),l.value="Failed to load quiz"}finally{r.value=!1}},R=()=>{if(console.log("checkAnswers called"),!b.value)return console.log("Not all questions answered"),void alert("Please answer all questions before submitting.");let e=0,t=0;n.value.forEach(((s,a)=>{if(s.options&&s.options.length>0&&s.correctAnswer>=0&&s.correctAnswer<s.options.length){t++;const o=E(s);console.log(`Question ${a+1}: Correct=${o}, Selected=${s.selectedAnswer}, CorrectAnswer=${s.correctAnswer}`),o&&e++}else console.warn(`Question ${a+1} has invalid data and will be skipped`)}));const s=Math.max(0,Math.min(t,e));c.value=s,i.value=!0,console.log(`Quiz completed. Valid questions: ${t}, Correct: ${s}, Score: ${s}/${t}`),u.value=!0},I=()=>{n.value.forEach((e=>{e.selectedAnswer=null;const t=S(e.originalOptions||e.options),s=e.originalOptions?e.originalOptions[e.correctAnswer]:e.options[e.correctAnswer];e.options=t,e.correctAnswer=t.indexOf(s)})),i.value=!1,c.value=0,d.value=!1,u.value=!1,p.value=0,n.value=[...n.value]},Q=()=>{console.log("View Results clicked"),console.log("Quiz questions with answers:",n.value.map(((e,t)=>({question:t+1,text:e.text,selected:e.selectedAnswer,correct:e.correctAnswer,isCorrect:E(e)})))),u.value=!1,d.value=!0},D=async()=>{if(!n.value.length)return void alert("No quiz to save. Please generate a quiz first.");if(!i.value)return void alert("Please complete the quiz before saving results.");const e=Math.max(0,Math.min(n.value.length,c.value||0));try{m.value=!0;let o=null;if(t.value)try{const e=await ts.getQuiz(t.value);e.data.success&&e.data.data.note_id&&(o=e.data.data.note_id,console.log("Using original note ID:",o))}catch(l){console.warn("Could not get original quiz data:",l)}if(!o)try{const e=await ts.getNotes();e.data.success&&e.data.data&&e.data.data.length>0&&(o=e.data.data[0].id,console.log("Using first available note ID:",o))}catch(l){console.error("Error fetching notes for quiz save:",l)}if(!o)return void alert("Unable to save quiz: No notes available. Please create a note first.");const r={note_id:o,questions:n.value,difficulty:"medium",score:e,title:a.value||s.value,note_title:a.value};console.log("Saving quiz with accurate data:",{noteId:o,originalScore:c.value,validatedScore:e,totalQuestions:n.value.length,accuracy:n.value.length>0?Math.round(e/n.value.length*100):0,questionsData:n.value.map((e=>({selected:e.selectedAnswer,correct:e.correctAnswer,isCorrect:e.selectedAnswer===e.correctAnswer})))});const i=await ts.saveQuiz(r);i.data.success?alert(`Quiz saved successfully! Score: ${e}/${n.value.length} (${Math.round(e/n.value.length*100)}%)`):alert("Failed to save quiz: "+(i.data.error||"Unknown error"))}catch(l){console.error("Error saving quiz:",l),alert("Failed to save quiz. Please try again.")}finally{m.value=!1}};return(0,o.sV)((async()=>{await P()})),{quizId:t,quizTitle:s,noteTitle:a,isLoading:r,error:l,quizQuestions:n,quizCompleted:i,quizScore:c,showResults:d,showCompletionPopup:u,currentQuestionIndex:p,allQuestionsAnswered:b,answeredQuestionsCount:f,correctAnswersCount:k,incorrectAnswersCount:w,currentAccuracy:L,unansweredQuestionsCount:C,isSavingQuiz:m,isQuestionCorrect:E,getQuestionType:_,nextQuestion:N,previousQuestion:A,goToQuestion:T,onAnswerSelected:F,debugStats:z,getCorrectAnswersCount:x,getIncorrectAnswersCount:y,getCurrentAccuracy:v,getUnansweredQuestionsCount:h,checkAnswers:R,viewResults:Q,retakeQuiz:I,saveQuiz:D,shuffleArray:S}}};const Zp=(0,c.A)(Yp,[["render",Jp]]);var eb=Zp;const tb={class:"min-h-screen flex flex-col bg-gray-900 text-white"},sb={class:"p-4 flex justify-between items-center"},ab={class:"space-x-2"},ob={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},rb={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700 text-center"},lb={class:"flex justify-center mb-8"},nb={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-xl"};function ib(e,t,s,a,r,l){const n=(0,o.g2)("router-link"),i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",tb,[(0,o.Lk)("header",sb,[(0,o.bF)(n,{to:"/",class:"text-xl font-bold"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("SmartScribe")]))),_:1,__:[0]}),(0,o.Lk)("div",ab,[(0,o.bF)(n,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Sign In")]))),_:1,__:[1]}),(0,o.bF)(n,{to:"/signup",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Sign Up")]))),_:1,__:[2]})])]),(0,o.Lk)("main",ob,[(0,o.Lk)("div",rb,[(0,o.Lk)("div",lb,[(0,o.Lk)("div",nb,[(0,o.bF)(i,{icon:["fas","exclamation-triangle"],class:"text-white text-3xl sm:text-4xl"})])]),t[4]||(t[4]=(0,o.Lk)("div",{class:"mb-8"},[(0,o.Lk)("h1",{class:"text-6xl sm:text-7xl font-bold text-gray-600 mb-4"},"404"),(0,o.Lk)("h2",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Page Not Found"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"The page you are looking for doesn't exist or has been moved.")],-1)),(0,o.bF)(n,{to:"/",class:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-105 active:scale-95"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","home"]}),t[3]||(t[3]=(0,o.Lk)("span",null,"Back to Home",-1))])),_:1,__:[3]})])]),t[5]||(t[5]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var cb={name:"NotFoundView"};const db=(0,c.A)(cb,[["render",ib]]);var ub=db;const gb=[{path:"/",name:"home",component:F},{path:"/login",name:"login",component:de},{path:"/signup",name:"signup",component:Na},{path:"/forgot-password",name:"forgot-password",component:lo},{path:"/reset-password",name:"reset-password",component:Go},{path:"/dashboard",name:"dashboard",component:Ms},{path:"/notes",name:"notes",component:kl},{path:"/notes/:id",name:"note-detail",component:Fc},{path:"/notes/edit",name:"note-editor",component:Ad},{path:"/quizzes",name:"quizzes",component:Nm},{path:"/quizzes/:id",name:"quiz-taking",component:eb},{path:"/progress",name:"progress",component:gi},{path:"/settings",name:"settings",component:ec},{path:"/:pathMatch(.*)*",name:"not-found",component:ub}],mb=(0,g.aE)({history:(0,g.LA)("/"),routes:gb});mb.beforeEach(((e,t,s)=>{const a=null!==localStorage.getItem("user");e.matched.some((e=>e.meta.requiresAuth))&&!a?s("/login"):s()}));var pb=mb;const bb={user:(()=>{const e=localStorage.getItem("user");if(e&&"undefined"!==e&&"null"!==e)try{const t=JSON.parse(e);return t||null}catch(t){return console.warn("Failed to parse user data from localStorage:",t),null}return null})(),token:localStorage.getItem("token")||null,isAuthenticated:!!localStorage.getItem("token"),userType:(()=>{const e=localStorage.getItem("user");if(e&&"undefined"!==e&&"null"!==e)try{const t=JSON.parse(e);return t&&t.google_id?"oauth":t?"traditional":null}catch(t){return null}return null})()},fb={getUser:e=>e.user,isAuthenticated:e=>e.isAuthenticated,getUserType:e=>e.userType},xb={async login({commit:e},t){try{console.log("ðŸ” Auth store login called with:",{email:t.email,passwordLength:t.password?t.password.length:0,hasEmail:!!t.email,hasPassword:!!t.password});const s=await ts.login(t);if(!s.data||!s.data.success){const e=s.data?.message||"Login failed. Please check your credentials.";throw console.error("âŒ Backend login error:",e),e.includes("Invalid credentials")&&console.error("ðŸ” Diagnosis: Invalid credentials - user may not exist or password is wrong"),new Error(e)}console.log("ðŸ” Backend login successful:",s.data);const a=s.data.data.user,o=s.data.data.token;return console.log("ðŸ” Extracted user:",a),console.log("ðŸ” Extracted token:",o?"[PRESENT]":"[MISSING]"),o&&(localStorage.setItem("token",o),console.log("ðŸ” Token saved to localStorage")),a&&(localStorage.setItem("user",JSON.stringify(a)),console.log("ðŸ” User data saved to localStorage")),e("SET_AUTH",{user:a,token:o}),console.log("ðŸ” Auth state updated in Vuex"),a}catch(s){throw console.error("âŒ Login error:",s),s}},async googleLogin({commit:e},t){try{console.log("ðŸ” Attempting Google login with backend API");const s=await ts.googleLogin(t);if(!s.data||!s.data.success){const e=s.data?.message||"Google login failed. Please try again.";throw console.error("âŒ Backend Google login error:",e),new Error(e)}console.log("ðŸ” Backend Google login successful:",s.data);const a=s.data.data.user,o=s.data.data.token;return console.log("ðŸ” Extracted user:",a),console.log("ðŸ” Extracted token:",o?"[PRESENT]":"[MISSING]"),o&&(localStorage.setItem("token",o),console.log("ðŸ” Token saved to localStorage")),a&&(localStorage.setItem("user",JSON.stringify(a)),console.log("ðŸ” User data saved to localStorage")),e("SET_AUTH",{user:a,token:o}),console.log("ðŸ” Auth state updated in Vuex"),a}catch(s){throw console.error("âŒ Google login error:",s),s}},async facebookLogin(){throw new Error("Facebook login is not currently supported. Please use email/password or Google login.")},async register({commit:e},t){try{console.log("ðŸ” Attempting registration with backend API:",{email:t.email,name:t.name});const s=await ts.register(t);if(!s.data||!s.data.success){const e=s.data?.message||"Registration failed. Please try again.";throw console.error("âŒ Backend registration error:",e),new Error(e)}console.log("ðŸ” Backend registration successful:",s.data);const a=s.data.data.user,o=s.data.data.token;return console.log("ðŸ” Extracted user:",a),console.log("ðŸ” Extracted token:",o?"[PRESENT]":"[MISSING]"),o&&localStorage.setItem("token",o),a&&localStorage.setItem("user",JSON.stringify(a)),e("SET_AUTH",{user:a,token:o}),console.log("ðŸ” Auth state updated in Vuex"),a}catch(s){throw console.error("âŒ Registration error:",s),s}},async logout({commit:e}){try{console.log("ðŸ” Attempting logout with backend API");const e=await ts.logout();e.data&&e.data.success?console.log("ðŸ” Backend logout successful"):console.log("ðŸ” Backend logout completed (response may not indicate success)")}catch(t){console.error("âŒ Backend logout error:",t)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),e("CLEAR_AUTH"),console.log("ðŸ” Auth state cleared")}},async fetchUser({commit:e}){try{console.log("ðŸ” Fetching current user from backend API");const t=localStorage.getItem("token");if(!t)return console.log("ðŸ” No token found in localStorage"),null;const s=await ts.getUser();if(!s.data||!s.data.success)throw console.error("âŒ Backend fetch user error:",s.data?.message),new Error(s.data?.message||"Failed to fetch user data.");console.log("ðŸ” Backend user fetched:",s.data);const a=s.data.data.user;return localStorage.setItem("user",JSON.stringify(a)),e("SET_USER",a),console.log("ðŸ” User data updated in state"),a}catch(t){throw console.error("âŒ Fetch user error:",t),t}},initializeAuthListener(){return console.log("ðŸ” Auth listener initialized (backend authentication)"),null}},yb={SET_AUTH(e,{user:t,token:s}){e.user=t,e.token=s,e.isAuthenticated=!0,e.userType=t&&t.google_id?"oauth":"traditional"},SET_USER(e,t){e.user=t,e.userType=t.google_id?"oauth":"traditional"},CLEAR_AUTH(e){e.user=null,e.token=null,e.isAuthenticated=!1,e.userType=null}};var vb={namespaced:!0,state:bb,getters:fb,actions:xb,mutations:yb};class hb{async processImage(e){try{const t=new FormData;t.append("image",e);const s=await ts.ocr.processImage(t);return s.data}catch(t){throw console.error("OCR processing error:",t),new Error("Failed to process image. Please try again.")}}isImage(e){return e&&e.type.startsWith("image/")}async processCameraImage(e){try{const t=new File([e],"camera-image.jpg",{type:"image/jpeg"});return await this.processImage(t)}catch(t){throw console.error("Camera OCR processing error:",t),new Error("Failed to process camera image. Please try again.")}}async hasCamera(){try{const e=await navigator.mediaDevices.enumerateDevices();return e.some((e=>"videoinput"===e.kind))}catch(e){return console.error("Camera detection error:",e),!1}}async takePhoto(){return new Promise(((e,t)=>{(async()=>{try{if(!await this.hasCamera())throw new Error("No camera detected on this device.");const t=document.createElement("video");t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.setAttribute("muted","");const s=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});t.srcObject=s,t.onloadedmetadata=()=>{t.play();const a=document.createElement("canvas");a.width=t.videoWidth,a.height=t.videoHeight;const o=a.getContext("2d");o.drawImage(t,0,0,a.width,a.height),s.getTracks().forEach((e=>e.stop())),a.toBlob((t=>{e(t)}),"image/jpeg",.95)}}catch(s){console.error("Camera access error:",s),t(new Error("Failed to access camera. Please check permissions."))}})()}))}}var kb=new hb;class wb{async generateSummary(e,t={length:"medium"}){try{const s=await ts.gpt.generateSummary(e,t);return s.data}catch(s){throw console.error("Summary generation error:",s),new Error("Failed to generate summary. Please try again.")}}async generateQuiz(e,t={difficulty:"medium",questionCount:5}){try{const s=await ts.gpt.generateQuiz(e,t);return s.data}catch(s){throw console.error("Quiz generation error:",s),new Error("Failed to generate quiz. Please try again.")}}async extractKeywords(e){try{const t=await ts.gpt.extractKeywords(e);return t.data}catch(t){throw console.error("Keyword extraction error:",t),new Error("Failed to extract keywords. Please try again.")}}async isAppropriateContent(e){const t=["inappropriate","offensive","harmful","illegal","explicit"],s=e.toLowerCase();return!t.some((e=>s.includes(e)))}}var Lb=new wb;const Cb={notes:[],currentNote:null,isLoading:!1,error:null,tempImageData:null},Sb={getNotes:e=>e.notes,getCurrentNote:e=>e.currentNote,getRecentNotes:e=>e.notes.slice(0,5),isLoading:e=>e.isLoading,getError:e=>e.error,getTempImageData:e=>e.tempImageData},Eb={async fetchNotes({commit:e}){try{e("SET_LOADING",!0);const t=await ts.getNotes();return e("SET_NOTES",t.data.data),t.data.data}catch(t){console.error("Fetch notes error:",t);const s=t.response?.data?.error||t.response?.data?.message||"Failed to fetch notes.";throw e("SET_ERROR",s),t}finally{e("SET_LOADING",!1)}},async fetchNote({commit:e},t){try{e("SET_LOADING",!0);const s=await ts.getNote(t);return e("SET_CURRENT_NOTE",s.data.data),s.data.data}catch(s){console.error("Fetch note error:",s);const t=s.response?.data?.error||s.response?.data?.message||"Failed to fetch note details.";throw e("SET_ERROR",t),s}finally{e("SET_LOADING",!1)}},async createNote({commit:e},t){try{e("SET_LOADING",!0);const s=await ts.createNote(t),a=s.data.data||s.data;return e("ADD_NOTE",a),a}catch(s){console.error("Create note error:",s);const t=s.response?.data?.error||s.response?.data?.message||"Failed to create note.";throw e("SET_ERROR",t),s}finally{e("SET_LOADING",!1)}},async updateNote({commit:e},{id:t,noteData:s}){try{e("SET_LOADING",!0);const a=await ts.updateNote(t,s),o=a.data.data||a.data;return e("UPDATE_NOTE",o),o}catch(a){console.error("Update note error:",a);const t=a.response?.data?.error||a.response?.data?.message||"Failed to update note.";throw e("SET_ERROR",t),a}finally{e("SET_LOADING",!1)}},async deleteNote({commit:e},t){try{e("SET_LOADING",!0),await ts.deleteNote(t),e("REMOVE_NOTE",t)}catch(s){console.error("Delete note error:",s);const t=s.response?.data?.error||s.response?.data?.message||"Failed to delete note.";throw e("SET_ERROR",t),s}finally{e("SET_LOADING",!1)}},async processImage({commit:e},t){try{e("SET_LOADING",!0);const s=await kb.processImage(t);return e("SET_TEMP_IMAGE_DATA",{originalText:s.text,imagePath:s.image_path}),s}catch(s){throw console.error("Process image error:",s),e("SET_ERROR","Failed to process image."),s}finally{e("SET_LOADING",!1)}},async generateSummary({state:e,commit:t},s={length:"medium"}){try{if(!e.currentNote&&!e.tempImageData)throw new Error("No note data available for summarization.");t("SET_LOADING",!0);const a=e.currentNote?e.currentNote.originalText:e.tempImageData.originalText,o=await Lb.generateSummary(a,s);if(e.currentNote){const s={...e.currentNote,summary:o.summary};t("SET_CURRENT_NOTE",s)}return o}catch(a){throw console.error("Generate summary error:",a),t("SET_ERROR","Failed to generate summary."),a}finally{t("SET_LOADING",!1)}},async extractKeywords({state:e,commit:t}){try{if(!e.currentNote&&!e.tempImageData)throw new Error("No note data available for keyword extraction.");t("SET_LOADING",!0);const s=e.currentNote?e.currentNote.originalText:e.tempImageData.originalText,a=await Lb.extractKeywords(s);if(e.currentNote){const s={...e.currentNote,keywords:a.keywords};t("SET_CURRENT_NOTE",s)}return a}catch(s){throw console.error("Extract keywords error:",s),t("SET_ERROR","Failed to extract keywords."),s}finally{t("SET_LOADING",!1)}}},_b={SET_NOTES(e,t){e.notes=t},SET_CURRENT_NOTE(e,t){e.currentNote=t},ADD_NOTE(e,t){e.notes.unshift(t)},UPDATE_NOTE(e,t){const s=e.notes.findIndex((e=>e.id===t.id));-1!==s&&e.notes.splice(s,1,t),e.currentNote&&e.currentNote.id===t.id&&(e.currentNote=t)},REMOVE_NOTE(e,t){e.notes=e.notes.filter((e=>e.id!==t)),e.currentNote&&e.currentNote.id===t&&(e.currentNote=null)},SET_LOADING(e,t){e.isLoading=t},SET_ERROR(e,t){e.error=t},SET_TEMP_IMAGE_DATA(e,t){e.tempImageData=t},CLEAR_TEMP_IMAGE_DATA(e){e.tempImageData=null}};var Nb={namespaced:!0,state:Cb,getters:Sb,actions:Eb,mutations:_b};const Ab={stats:{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0},weeklyActivity:[],subjects:[],recentActivity:[],goals:[],isLoading:!1,error:null},Tb={getStats:e=>e.stats,getWeeklyActivity:e=>e.weeklyActivity,getSubjects:e=>e.subjects,getRecentActivity:e=>e.recentActivity,getGoals:e=>e.goals,isLoading:e=>e.isLoading,getError:e=>e.error},Fb={async fetchStats({commit:e}){try{e("SET_LOADING",!0);const t=await ts.progress.getStats();return e("SET_STATS",t.data),t.data}catch(t){throw console.error("Fetch stats error:",t),e("SET_ERROR","Failed to fetch progress statistics."),t}finally{e("SET_LOADING",!1)}},async fetchActivity({commit:e}){try{e("SET_LOADING",!0);const t=await ts.progress.getActivity();return e("SET_WEEKLY_ACTIVITY",t.data.weeklyActivity),e("SET_SUBJECTS",t.data.subjects),e("SET_RECENT_ACTIVITY",t.data.recentActivity),e("SET_GOALS",t.data.goals),t.data}catch(t){throw console.error("Fetch activity error:",t),e("SET_ERROR","Failed to fetch activity data."),t}finally{e("SET_LOADING",!1)}},async updateProgress({commit:e},t){try{e("SET_LOADING",!0);const s=await ts.progress.updateProgress(t);return"quiz"===t.type?e("UPDATE_QUIZ_STATS",t):"study"===t.type&&e("UPDATE_STUDY_HOURS",t),s.data}catch(s){throw console.error("Update progress error:",s),e("SET_ERROR","Failed to update progress."),s}finally{e("SET_LOADING",!1)}},async addGoal({commit:e},t){try{e("SET_LOADING",!0);const s={id:Date.now(),...t,progress:0};return e("ADD_GOAL",s),s}catch(s){throw console.error("Add goal error:",s),e("SET_ERROR","Failed to add goal."),s}finally{e("SET_LOADING",!1)}},async updateGoal({commit:e},{id:t,progress:s}){try{e("SET_LOADING",!0),e("UPDATE_GOAL_PROGRESS",{id:t,progress:s})}catch(a){throw console.error("Update goal error:",a),e("SET_ERROR","Failed to update goal."),a}finally{e("SET_LOADING",!1)}},async deleteGoal({commit:e},t){try{e("SET_LOADING",!0),e("REMOVE_GOAL",t)}catch(s){throw console.error("Delete goal error:",s),e("SET_ERROR","Failed to delete goal."),s}finally{e("SET_LOADING",!1)}}},zb={SET_STATS(e,t){e.stats=t},SET_WEEKLY_ACTIVITY(e,t){e.weeklyActivity=t},SET_SUBJECTS(e,t){e.subjects=t},SET_RECENT_ACTIVITY(e,t){e.recentActivity=t},SET_GOALS(e,t){e.goals=t},UPDATE_QUIZ_STATS(e,{score:t}){e.stats.quizzesCompleted++;const s=e.stats.quizAverage*(e.stats.quizzesCompleted-1);e.stats.quizAverage=Math.round((s+t)/e.stats.quizzesCompleted)},UPDATE_STUDY_HOURS(e,{hours:t}){e.stats.studyHours+=t,e.stats.studyHoursThisWeek+=t},ADD_GOAL(e,t){e.goals.push(t)},UPDATE_GOAL_PROGRESS(e,{id:t,progress:s}){const a=e.goals.find((e=>e.id===t));a&&(a.progress=s)},REMOVE_GOAL(e,t){e.goals=e.goals.filter((e=>e.id!==t))},SET_LOADING(e,t){e.isLoading=t},SET_ERROR(e,t){e.error=t}};var Pb={namespaced:!0,state:Ab,getters:Tb,actions:Fb,mutations:zb};s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698);const Rb={isOnline:navigator.onLine,lastSync:null,connectionStatus:"connecting",loadingStates:new Map,errors:new Map,subscriptions:new Set,optimisticUpdates:[],theme:"dark",fontSize:16,sidebarVisible:!0},Ib={isLoading:e=>t=>e.loadingStates.get(t)||!1,getError:e=>t=>e.errors.get(t),hasError:e=>t=>e.errors.has(t),getConnectionStatus:e=>e.connectionStatus,isConnected:e=>e.isOnline&&"connected"===e.connectionStatus,getLastSync:e=>e.lastSync,getTheme:e=>e.theme,getFontSize:e=>e.fontSize,getSidebarVisible:e=>e.sidebarVisible,getCurrentTheme:e=>"system"===e.theme&&"undefined"!==typeof window?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.theme,getThemeState:e=>({theme:e.theme,fontSize:e.fontSize,currentTheme:"system"===e.theme&&"undefined"!==typeof window?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.theme}),getThemeClasses:e=>{const t=!("undefined"===typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===e.theme||"system"===e.theme&&t;return{main:s?"bg-gray-900 text-white":"bg-gray-100 text-gray-900",header:s?"bg-gray-800":"bg-white border-b border-gray-200",sidebar:s?"bg-gray-800":"bg-gray-50 border-r border-gray-200",mainContent:s?"":"bg-gray-100",card:s?"bg-gray-800":"bg-white border border-gray-200",text:s?"text-white":"text-gray-900",secondaryText:s?"text-gray-400":"text-gray-600",input:s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900",button:s?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}},getFontSizeClasses:e=>{const t=e.fontSize;return{heading:t>=18?"text-xl":t>=16?"text-lg":"text-base",body:t>=16?"text-base":"text-sm",label:t>=16?"text-sm":"text-xs",small:"text-xs"}}},Qb={SET_ONLINE_STATUS(e,t){e.isOnline=t,e.connectionStatus=t?"connected":"offline"},SET_CONNECTION_STATUS(e,t){e.connectionStatus=t},SET_LOADING(e,{key:t,loading:s}){s?e.loadingStates.set(t,!0):e.loadingStates.delete(t)},SET_ERROR(e,{key:t,error:s}){s?e.errors.set(t,{message:s.message||s,timestamp:new Date,details:s}):e.errors.delete(t)},CLEAR_ERROR(e,t){e.errors.delete(t)},CLEAR_ALL_ERRORS(e){e.errors.clear()},SET_LAST_SYNC(e,t){e.lastSync=t},ADD_SUBSCRIPTION(e,t){e.subscriptions.add(t)},REMOVE_SUBSCRIPTION(e,t){e.subscriptions.delete(t)},ADD_OPTIMISTIC_UPDATE(e,t){e.optimisticUpdates.push({...t,timestamp:new Date,id:Date.now()})},REMOVE_OPTIMISTIC_UPDATE(e,t){e.optimisticUpdates=e.optimisticUpdates.filter((e=>e.id!==t))},CLEAR_OPTIMISTIC_UPDATES(e){e.optimisticUpdates=[]},SET_THEME(e,t){e.theme=t},SET_FONT_SIZE(e,t){e.fontSize=t},SET_SIDEBAR_VISIBLE(e,t){e.sidebarVisible=t}},Db={setOnlineStatus({commit:e},t){e("SET_ONLINE_STATUS",t)},setConnectionStatus({commit:e},t){e("SET_CONNECTION_STATUS",t)},setLoading({commit:e},t){e("SET_LOADING",t)},setError({commit:e},t){e("SET_ERROR",t)},clearError({commit:e},t){e("CLEAR_ERROR",t)},clearAllErrors({commit:e}){e("CLEAR_ALL_ERRORS")},updateLastSync({commit:e}){e("SET_LAST_SYNC",new Date)},addSubscription({commit:e},t){e("ADD_SUBSCRIPTION",t)},removeSubscription({commit:e},t){e("REMOVE_SUBSCRIPTION",t)},addOptimisticUpdate({commit:e},t){e("ADD_OPTIMISTIC_UPDATE",t)},removeOptimisticUpdate({commit:e},t){e("REMOVE_OPTIMISTIC_UPDATE",t)},clearOptimisticUpdates({commit:e}){e("CLEAR_OPTIMISTIC_UPDATES")},setTheme({commit:e,dispatch:t},s){e("SET_THEME",s),t("applyTheme",s),t("saveThemeSettings")},setFontSize({commit:e,dispatch:t},s){e("SET_FONT_SIZE",s),t("saveThemeSettings")},setSidebarVisible({commit:e,dispatch:t},s){e("SET_SIDEBAR_VISIBLE",s),t("saveThemeSettings")},toggleSidebar({commit:e,dispatch:t,state:s}){const a=!s.sidebarVisible;e("SET_SIDEBAR_VISIBLE",a),t("saveThemeSettings")},applyTheme(e){if("undefined"===typeof window||"undefined"===typeof document)return;const t=document.documentElement,s=document.body;if("dark"===e)t.classList.add("dark"),s.classList.add("dark");else if("light"===e)t.classList.remove("dark"),s.classList.remove("dark");else if("system"===e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.toggle("dark",e),s.classList.toggle("dark",e)}},saveThemeSettings({state:e}){const t={theme:e.theme,fontSize:e.fontSize,sidebarVisible:e.sidebarVisible};localStorage.setItem("smartscribe_theme_settings",JSON.stringify(t))},loadThemeSettings({commit:e,dispatch:t}){const s=localStorage.getItem("smartscribe_theme_settings");if(s)try{const a=JSON.parse(s);a.theme&&e("SET_THEME",a.theme),a.fontSize&&e("SET_FONT_SIZE",a.fontSize),"boolean"===typeof a.sidebarVisible&&e("SET_SIDEBAR_VISIBLE",a.sidebarVisible),t("applyTheme",a.theme||"dark")}catch(a){console.error("Error loading theme settings:",a)}else t("applyTheme","dark")},initialize({dispatch:e}){"undefined"!==typeof window&&(window.addEventListener("online",(()=>{e("setOnlineStatus",!0),e("setConnectionStatus","connected")})),window.addEventListener("offline",(()=>{e("setOnlineStatus",!1),e("setConnectionStatus","offline")})),e("setOnlineStatus",navigator.onLine),e("loadThemeSettings"))},cleanup({state:e,dispatch:t}){e.subscriptions.forEach((e=>{"function"===typeof e.cleanup&&e.cleanup()})),t("clearAllErrors"),t("clearOptimisticUpdates")}};var qb={namespaced:!0,state:Rb,getters:Ib,mutations:Qb,actions:Db},Ob=(0,n.y$)({modules:{auth:vb,notes:Nb,progress:Pb,app:qb}}),Ub=s(7107),Xb=s(1273),jb=s(6188),Mb=s(7875);Ub.Yv.add(jb.v02,jb.LBj,jb.gK3,jb.dB,jb.z$e,jb.rwq,jb.MT7,jb.o1d,jb.hSh,jb.OtC,jb.jPR,jb.GRI,jb.nET,jb.wRm,jb.QLR,jb.MjD,jb.vaG,jb.yy,jb.uAg,jb.e74,jb.ijD,jb.UBk,jb.DX_,jb.SGM,jb.a$,jb.h8M,jb.pvD,jb.z1G,jb.tUE,jb.nWR,Mb.HQ1,Mb.aUl,Mb.QV6,Mb.Vz1,Mb.Kjv,Mb.FjH,Mb.qKs,jb.lRx,jb.pS3,jb.k6j,jb.X46,jb.Jt$,jb.JmV,jb.dmS,jb.ReK,jb.ecg,jb.yLS,jb.y_8,jb.DW4,jb.rhE,jb.KMJ,jb.ckx,jb.kNw,jb.s0Q,jb.Uec,jb.iW_,jb.isI,jb.yek);const Kb=document.getElementById("app");Kb&&Kb.__vue_app__&&Kb.__vue_app__.unmount();const Wb=(0,a.Ef)(u);Wb.use(Ob),Wb.use(pb),Wb.component("font-awesome-icon",Xb.gc),window.$router=pb;try{Ob.dispatch("app/initialize").catch((()=>{}))}catch(Vb){}window.addEventListener("load",(()=>{document.body.classList.add("loaded")})),setTimeout((()=>{document.body.classList.add("loaded")}),100),Wb.mount("#app");const Gb=localStorage.getItem("token");Gb&&Zt(Gb)&&Ob.commit("auth/CLEAR_AUTH");const $b=async()=>{try{console.log("ðŸ” Initializing Supabase auth listener"),await Ob.dispatch("auth/initializeAuthListener"),console.log("ðŸ” Supabase auth listener initialized successfully")}catch(Vb){console.error("âŒ Failed to initialize Supabase auth listener:",Vb)}};$b()}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,r){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],r=e[d][2];for(var n=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,l=a[0],n=a[1],i=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var d=i(s)}for(t&&t(a);c<l.length;c++)r=l[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self["webpackChunksmartscribe_newnew"]=self["webpackChunksmartscribe_newnew"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(2422)}));a=s.O(a)})();
//# sourceMappingURL=app.dc05a99f.js.map