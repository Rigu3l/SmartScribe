(function(){"use strict";var e={1751:function(e,t,s){var a=s(9746),o=s(5976),l=s(160);function r(e,t,s,a,r,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",{class:(0,l.C4)(a.globalThemeClasses)},[(0,o.bF)(i)],2)}var n=s(1449),i={name:"App",setup(){const e=(0,n.Pj)(),t=(0,o.EW)((()=>{try{if(!e||!e.getters)return"bg-gray-900 text-white";const t=e.getters["app/getThemeClasses"];return t?.main||"bg-gray-900 text-white"}catch(t){return"bg-gray-900 text-white"}}));return(0,o.sV)((()=>{const t=e.getters["app/getTheme"];e.dispatch("app/applyTheme",t)})),{globalThemeClasses:t}}},c=s(1169);const d=(0,c.A)(i,[["render",r]]);var u=d,g=(s(8111),s(3579),s(9053));const m={class:"flex flex-col min-h-screen bg-gray-900 text-white"},p={class:"p-4 flex justify-between items-center"},f={class:"space-x-2"},b={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},x={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-6xl border border-gray-700"},y={class:"grid md:grid-cols-2 gap-6 sm:gap-8 mb-12"},v={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},h={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},k={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},w={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},L={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},C={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},E={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},S={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},_={class:"text-center"};function N(e,t,s,a,l,r){const n=(0,o.g2)("router-link"),i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("header",p,[t[2]||(t[2]=(0,o.Lk)("div",{class:"text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",f,[(0,o.bF)(n,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Sign In")]))),_:1,__:[0]}),(0,o.bF)(n,{to:"/signup",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Sign Up")]))),_:1,__:[1]})])]),(0,o.Lk)("main",b,[(0,o.Lk)("div",x,[t[12]||(t[12]=(0,o.Lk)("div",{class:"text-center mb-12"},[(0,o.Lk)("h1",{class:"text-3xl sm:text-4xl font-bold mb-4 text-white"},"SmartScribe: AI Study Helper"),(0,o.Lk)("p",{class:"text-lg sm:text-xl text-gray-400"},"Transform your study notes into digital content with OCR and AI")],-1)),(0,o.Lk)("div",y,[(0,o.Lk)("div",v,[(0,o.Lk)("div",h,[(0,o.bF)(i,{icon:["fas","camera"],class:"text-white text-xl sm:text-2xl"})]),t[3]||(t[3]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"OCR-based Note Scanning",-1)),t[4]||(t[4]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Take pictures of your handwritten or printed study notes and convert them to digital text instantly.",-1))]),(0,o.Lk)("div",k,[(0,o.Lk)("div",w,[(0,o.bF)(i,{icon:["fas","robot"],class:"text-white text-xl sm:text-2xl"})]),t[5]||(t[5]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"AI Summarization",-1)),t[6]||(t[6]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Generate concise summaries of your notes using advanced AI technology.",-1))]),(0,o.Lk)("div",L,[(0,o.Lk)("div",C,[(0,o.bF)(i,{icon:["fas","chart-line"],class:"text-white text-xl sm:text-2xl"})]),t[7]||(t[7]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"Study Progress Tracker",-1)),t[8]||(t[8]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Track how many notes you've scanned and reviewed to stay on top of your studies.",-1))]),(0,o.Lk)("div",E,[(0,o.Lk)("div",S,[(0,o.bF)(i,{icon:["fas","highlighter"],class:"text-white text-xl sm:text-2xl"})]),t[9]||(t[9]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"Keyword Highlighting",-1)),t[10]||(t[10]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Automatically highlight important terms and concepts in your notes.",-1))])]),(0,o.Lk)("div",_,[(0,o.bF)(n,{to:"/signup",class:"inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","rocket"]}),t[11]||(t[11]=(0,o.Lk)("span",null,"Get Started",-1))])),_:1,__:[11]})])])]),t[13]||(t[13]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var F={name:"HomeView"};const T=(0,c.A)(F,[["render",N]]);var z=T;const A={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},R={class:"p-6 flex justify-between items-center"},P={class:"flex space-x-3"},I={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},D={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},O={class:"flex justify-center mb-8"},U={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},Q=["src"],q={class:"space-y-2"},X={class:"relative"},j={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},M={class:"space-y-2"},K={class:"relative"},W={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},G=["type"],$=["disabled"],V={key:0,class:"flex items-center justify-center"},H={key:1,class:"flex items-center justify-center"},J={class:"grid grid-cols-3 gap-3 mb-8"},B={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},Y={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},Z={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ee={class:"text-center"},te={class:"text-gray-400 text-sm"};function se(e,t,s,l,r,n){const i=(0,o.g2)("router-link"),c=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("header",R,[(0,o.bF)(i,{to:"/",class:"text-xl sm:text-2xl font-bold text-white hover:text-blue-400 transition-colors"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" SmartScribe ")]))),_:1,__:[4]}),(0,o.Lk)("div",P,[(0,o.bF)(i,{to:"/contact",class:"px-4 py-2 text-sm sm:text-base text-gray-400 hover:text-white transition-colors"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" Contact ")]))),_:1,__:[5]}),(0,o.bF)(i,{to:"/signup",class:"px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)(" Sign Up ")]))),_:1,__:[6]})])]),(0,o.Lk)("main",I,[(0,o.Lk)("div",D,[(0,o.Lk)("div",O,[(0,o.Lk)("div",U,[(0,o.Lk)("img",{src:l.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,Q)])]),t[13]||(t[13]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Welcome Back"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Sign in to your SmartScribe account")],-1)),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>l.handleLogin&&l.handleLogin(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",q,[t[7]||(t[7]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",X,[(0,o.Lk)("div",j,[(0,o.bF)(c,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.email]])])]),(0,o.Lk)("div",M,[t[8]||(t[8]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," Password ",-1)),(0,o.Lk)("div",K,[(0,o.Lk)("div",W,[(0,o.bF)(c,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",type:l.passwordVisible?"text":"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),placeholder:"Enter your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,G),[[a.hp,l.password]]),(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=e=>l.passwordVisible=!l.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(c,{icon:["fas",l.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:l.isLoading},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",V,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[9]||(t[9]=(0,o.eW)(" Signing in... "))])):((0,o.uX)(),(0,o.CE)("span",H,[(0,o.bF)(c,{icon:["fas","sign-in-alt"],class:"mr-2"}),t[10]||(t[10]=(0,o.eW)(" Sign In "))]))],8,$)],32),t[14]||(t[14]=(0,o.Fv)('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-gray-800 text-gray-400">Or continue with</span></div></div>',1)),(0,o.Lk)("div",J,[(0,o.Lk)("button",B,[(0,o.bF)(c,{icon:["fab","google"],class:"text-red-400 text-lg"})]),(0,o.Lk)("button",Y,[(0,o.bF)(c,{icon:["fab","facebook-f"],class:"text-blue-400 text-lg"})]),(0,o.Lk)("button",Z,[(0,o.bF)(c,{icon:["fab","apple"],class:"text-gray-300 text-lg"})])]),(0,o.Lk)("div",ee,[(0,o.Lk)("p",te,[t[12]||(t[12]=(0,o.eW)(" Don't have an account? ")),(0,o.bF)(i,{to:"/signup",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)(" Sign up for free ")]))),_:1,__:[11]})])])])]),t[15]||(t[15]=(0,o.Fv)('<footer class="p-6 text-center text-gray-400 text-sm"><div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6"><a href="#" class="hover:text-gray-300 transition-colors">Privacy Policy</a><a href="#" class="hover:text-gray-300 transition-colors">Terms of Service</a><a href="#" class="hover:text-gray-300 transition-colors">Help Center</a></div><div class="mt-4 text-gray-500"> Â© 2025 SmartScribe. All rights reserved. </div></footer>',1))])}s(4114);var ae=s.p+"img/logo.9fa07118.jpg",oe=s(2040),le=s(8194);const re=le.A.create({baseURL:"/api/index.php/",timeout:1e4,headers:{"Content-Type":"application/json"}});re.interceptors.request.use((e=>{const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`);const s=localStorage.getItem("user");if(s)try{const t=JSON.parse(s);t&&t.id&&(e.headers["X-User-ID"]=t.id)}catch(a){}return e.data instanceof FormData?delete e.headers["Content-Type"]:e.data&&"object"===typeof e.data&&(e.headers["Content-Type"]="application/json"),console.log("API Request URL:",e.baseURL+e.url),console.log("API Request Method:",e.method),console.log("API Request Headers:",e.headers),e})),re.interceptors.response.use((e=>(console.log("âœ… API Response:",e.config.method?.toUpperCase(),e.config.url,"- Status:",e.status),e)),(e=>(console.error("âŒ API Error:",e.config?.method?.toUpperCase(),e.config?.url),e.response?(console.error("âŒ Response status:",e.response.status),console.error("âŒ Response data:",e.response.data)):e.request?console.error("âŒ No response received:",e.request):console.error("âŒ Request setup error:",e.message),Promise.reject(e))));var ne={login(e){return re.post("?resource=auth&action=login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},register(e){return re.post("?resource=auth&action=register",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},logout(){return re.post("?resource=auth&action=logout")},getUser(){return re.get("?resource=auth&action=profile")},updateProfile(e){return re.put("?resource=auth&action=profile",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},uploadProfilePicture(e){return re.post("?resource=auth&action=upload-profile-picture",e)},getNotes(){return re.get("?resource=notes")},getNote(e){return re.get(`?resource=notes&id=${e}`)},createNote(e){if(e.image&&e.image instanceof File){const t=new FormData;return t.append("title",e.title),t.append("text",e.text),t.append("image",e.image),re.post("?resource=notes",t)}return re.post("?resource=notes",{title:e.title,text:e.text})},updateNote(e,t){const s=new FormData;return s.append("title",t.title),s.append("text",t.text),t.summary&&s.append("summary",t.summary),t.keywords&&s.append("keywords",t.keywords),re.post(`?resource=notes&id=${e}`,s)},deleteNote(e){return re.delete(`?resource=notes&id=${e}`)},ocr:{processImage(e){return re.post("?resource=ocr&action=processImage",e)}},generateSummary(e,t){return re.post(`?resource=summaries&action=generate&note_id=${e}`,t)},getSummaries(){return re.get("?resource=summaries")},getSummary(e){return re.get(`?resource=summaries&id=${e}`)},createSummary(e,t){return re.post("?resource=summaries",{note_id:e,...t})},getProgressStats(){return re.get("?resource=progress&action=stats")},getDashboardStats(){return re.get("?resource=dashboard&action=stats")},getSettings(){return re.get("?resource=settings")},updateSettings(e){return re.put("?resource=settings",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},gpt:{generateSummary(e,t={length:"medium"}){return re.post("?resource=gpt&action=generateSummary",{text:e,...t})},generateQuiz(e,t={difficulty:"medium",questionCount:5}){return re.post("?resource=gpt&action=generateQuiz",{text:e,...t})},extractKeywords(e,t=5){return re.post("?resource=gpt&action=extractKeywords",{text:e,count:t})}},getQuizzes(){return re.get("?resource=quizzes")},getQuiz(e){return re.get(`?resource=quizzes&id=${e}`)},createQuiz(e,t){return re.post("?resource=quizzes",{note_id:e,...t})},updateQuiz(e,t){return re.put(`?resource=quizzes&id=${e}`,t)},deleteQuiz(e){return re.delete(`?resource=quizzes&id=${e}`)},generateQuiz(e,t){return re.post(`?resource=quizzes&action=generate&note_id=${e}`,t)},saveQuiz(e){return re.post("?resource=quizzes",e)},exportNote(e,t){return re.get(`?resource=export&id=${e}&format=${t}`,{responseType:"blob"})}},ie={name:"LoginView",setup(){const e=(0,g.rd)(),t=(0,oe.KR)(""),s=(0,oe.KR)(""),a=(0,oe.KR)(!1),o=(0,oe.KR)(""),l=(0,oe.KR)(!1),r=async()=>{try{a.value=!0,o.value="";const l=await ne.login({email:t.value,password:s.value});if(!l.data||!l.data.user)throw new Error("Invalid response from server");localStorage.setItem("user",JSON.stringify(l.data.user)),localStorage.setItem("token",l.data.token||""),console.log("ðŸ” Login successful - Token stored:",l.data.token),console.log("ðŸ‘¤ User data stored:",l.data.user),e.push("/dashboard")}catch(l){o.value=l.response?.data?.error||l.message||"Failed to login. Please try again."}finally{a.value=!1}};return{email:t,password:s,isLoading:a,errorMessage:o,handleLogin:r,passwordVisible:l,logo:ae}}};const ce=(0,c.A)(ie,[["render",se]]);var de=ce;const ue={class:"flex items-center space-x-2 md:space-x-4"},ge={class:"relative"},me={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},pe={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},fe={key:0},be=["onClick"],xe={class:"flex items-start space-x-3"},ye={class:"flex-shrink-0 mt-1"},ve={class:"flex-grow"},he={class:"flex items-start justify-between"},ke={class:"flex-grow"},we={class:"text-sm font-medium text-white"},Le={class:"text-xs text-gray-300 mt-1"},Ce={class:"text-xs text-gray-500 mt-2"},Ee={class:"flex items-center space-x-2 ml-2"},Se={key:0,class:"flex-shrink-0"},_e=["onClick"],Ne={key:0,class:"mt-3 flex space-x-2"},Fe=["onClick"],Te={key:1,class:"mt-2 flex items-center"},ze={key:2,class:"mt-2 flex items-center"},Ae={key:1,class:"p-4 text-center text-gray-400"},Re={key:2,class:"p-3 border-t border-gray-700"},Pe={class:"relative"},Ie={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},De=["src"],Oe={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},Ue={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},Qe={class:"flex flex-grow"},qe={class:"space-y-2"},Xe={key:0,class:"fixed top-5 right-5 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-opacity duration-300"},je={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Me={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4"},Ke={class:"mb-4"},We={class:"mb-4"},Ge={class:"bg-gray-700 p-3 rounded-md max-h-32 overflow-y-auto text-sm text-gray-300"},$e={key:0,class:"flex items-center space-x-2"},Ve={key:1},He={class:"flex justify-end space-x-3"},Je=["disabled"],Be=["disabled"],Ye={key:0,class:"flex items-center space-x-2"},Ze={key:1},et={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},tt={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},st={class:"flex items-center mb-4"},at={class:"text-gray-300 mb-6"},ot={class:"flex justify-end space-x-3"},lt={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},rt={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},nt={class:"flex items-center mb-4"},it={class:"flex flex-col items-center mb-6"},ct=["src"],dt={class:"space-y-4"},ut={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},gt={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},mt={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},pt={class:"flex justify-end space-x-3 mt-6"},ft={class:"flex justify-between items-center mb-6"},bt={class:"flex items-center space-x-4"},xt={class:"flex items-center space-x-2"},yt={key:0,class:"text-xs text-gray-500"},vt=["disabled"],ht={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6"},kt={class:"flex justify-between items-center mb-2"},wt={key:0,class:"animate-pulse"},Lt={key:1},Ct={class:"text-3xl font-bold"},Et={class:"text-sm text-gray-400"},St={class:"flex justify-between items-center mb-2"},_t={key:0,class:"animate-pulse"},Nt={key:1},Ft={class:"text-3xl font-bold"},Tt={class:"flex justify-between items-center mb-2"},zt={key:0,class:"animate-pulse"},At={key:1},Rt={class:"text-3xl font-bold"},Pt={class:"flex justify-between items-center mb-2"},It={key:0,class:"animate-pulse"},Dt={key:1},Ot={class:"text-3xl font-bold"},Ut={class:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4"},Qt={class:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center"},qt={class:"mb-4"},Xt={class:"flex justify-center space-x-4"},jt=["disabled"],Mt={key:0,class:"mt-6"},Kt={ref:"video",autoplay:"",class:"w-full rounded-md border border-gray-600"},Wt={class:"flex justify-center space-x-4 mt-4"},Gt={class:"flex justify-between items-center mb-6"},$t={class:"flex items-center space-x-3"},Vt={class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},Ht={key:0,class:"text-center py-12"},Jt={class:"inline-flex items-center space-x-3"},Bt={key:1,class:"space-y-4"},Yt={class:"flex items-start justify-between mb-3"},Zt=["onClick"],es={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200"},ts={class:"flex-grow min-w-0"},ss={class:"font-semibold text-white group-hover:text-blue-400 transition-colors duration-200 truncate"},as={class:"flex items-center space-x-3 mt-1"},os={class:"flex items-center space-x-1 text-gray-400 text-xs"},ls={class:"flex items-center space-x-1 text-gray-400 text-xs"},rs={class:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},ns=["onClick"],is=["onClick"],cs={class:"ml-14"},ds={class:"text-sm text-gray-300 line-clamp-2 leading-relaxed"},us={class:"flex items-center justify-between mt-4"},gs={class:"flex flex-wrap gap-2"},ms={key:0,class:"px-3 py-1 bg-gray-700/50 text-gray-500 rounded-full text-xs"},ps={class:"flex items-center space-x-1 text-gray-500 text-xs"},fs={key:2,class:"text-center py-12"},bs={class:"max-w-md mx-auto"},xs={class:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-600 rounded-full flex items-center justify-center mx-auto mb-6"},ys={class:"flex flex-col sm:flex-row gap-3 justify-center"};function vs(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,l.C4)([r.themeClasses.main,"min-h-screen flex flex-col"])},[(0,o.Lk)("header",{class:(0,l.C4)([r.themeClasses.header,"p-4 flex justify-between items-center"])},[t[33]||(t[33]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",ue,[(0,o.Lk)("div",ge,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleNotifications&&r.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),r.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",me,(0,l.v_)(r.unreadNotifications),1)):(0,o.Q3)("",!0)]),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",pe,[t[31]||(t[31]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",fe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,l.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>r.markAsRead(s)},[(0,o.Lk)("div",xe,[(0,o.Lk)("div",ye,[(0,o.Lk)("div",{class:(0,l.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",ve,[(0,o.Lk)("div",he,[(0,o.Lk)("div",ke,[(0,o.Lk)("p",we,(0,l.v_)(s.title),1),(0,o.Lk)("p",Le,(0,l.v_)(s.message),1),(0,o.Lk)("p",Ce,(0,l.v_)(s.time),1)]),(0,o.Lk)("div",Ee,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Se,t[27]||(t[27]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,_e)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Ne,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,r)=>((0,o.uX)(),(0,o.CE)("button",{key:r,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,l.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,l.v_)(t.label),11,Fe)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",Te,t[28]||(t[28]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",ze,t[29]||(t[29]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,be)))),128))])):((0,o.uX)(),(0,o.CE)("div",Ae,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[30]||(t[30]=(0,o.Lk)("p",null,"No notifications yet",-1))])),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Re,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.markAllAsRead&&r.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>r.closeNotifications&&r.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Pe,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.toggleUserMenu&&r.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",Ie,[r.user&&r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,De)):((0,o.uX)(),(0,o.CE)("div",Oe,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",null,(0,l.v_)(r.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),r.showUserMenu?((0,o.uX)(),(0,o.CE)("div",Ue,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.openProfileModal&&r.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:r.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[32]||(t[32]=[(0,o.eW)("Settings")]))),_:1,__:[32]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.logout&&r.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])],2),(0,o.Lk)("div",Qe,[(0,o.Lk)("aside",{class:(0,l.C4)([r.themeClasses.sidebar,"w-64 md:w-64 p-4"])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",qe,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:(0,l.C4)([r.themeClasses.button,"flex items-center space-x-2 p-2 rounded-md"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[34]||(t[34]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[34]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md",r.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[35]||(t[35]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[35]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md",r.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[36]||(t[36]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[36]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md",r.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[37]||(t[37]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[37]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md",r.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[38]||(t[38]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[38]},8,["class"])])])])],2),r.showSaveConfirmation?((0,o.uX)(),(0,o.CE)("div",Xe," âœ… Summary saved successfully! ")):(0,o.Q3)("",!0),r.showTitleModal?((0,o.uX)(),(0,o.CE)("div",je,[(0,o.Lk)("div",Me,[t[43]||(t[43]=(0,o.Lk)("h3",{class:"text-xl font-semibold mb-4"},"Add Note Title",-1)),(0,o.Lk)("div",Ke,[t[39]||(t[39]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Title",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>r.noteTitle=e),type:"text",placeholder:"Enter a title for your note...",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:t[9]||(t[9]=(0,a.jR)(((...e)=>r.saveNoteWithTitle&&r.saveNoteWithTitle(...e)),["enter"]))},null,544),[[a.Jo,r.noteTitle]])]),(0,o.Lk)("div",We,[t[41]||(t[41]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Preview",-1)),(0,o.Lk)("div",Ge,[r.isProcessingFile?((0,o.uX)(),(0,o.CE)("div",$e,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin"}),t[40]||(t[40]=(0,o.Lk)("span",null,"Processing file...",-1))])):((0,o.uX)(),(0,o.CE)("div",Ve,(0,l.v_)(r.ocrText?r.ocrText.substring(0,200):"No text extracted")+(0,l.v_)(r.ocrText&&r.ocrText.length>200?"...":""),1))])]),(0,o.Lk)("div",He,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>r.cancelTitleInput&&r.cancelTitleInput(...e)),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.isProcessingFile}," Cancel ",8,Je),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.saveNoteWithTitle&&r.saveNoteWithTitle(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r.noteTitle.trim()||r.isProcessingFile},[r.isProcessingFile?((0,o.uX)(),(0,o.CE)("span",Ye,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin"}),t[42]||(t[42]=(0,o.Lk)("span",null,"Saving...",-1))])):((0,o.uX)(),(0,o.CE)("span",Ze,"Save Note"))],8,Be)])])])):(0,o.Q3)("",!0),r.showDeleteModal?((0,o.uX)(),(0,o.CE)("div",et,[(0,o.Lk)("div",tt,[(0,o.Lk)("div",st,[(0,o.bF)(c,{icon:["fas","times"],class:"text-red-400 text-xl mr-3"}),t[44]||(t[44]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"Delete Note",-1))]),(0,o.Lk)("p",at,[t[45]||(t[45]=(0,o.eW)(' Are you sure you want to delete "')),(0,o.Lk)("strong",null,(0,l.v_)(r.noteToDelete.title),1),t[46]||(t[46]=(0,o.eW)('"? This action cannot be undone. '))]),(0,o.Lk)("div",ot,[(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>r.closeDeleteModal&&r.closeDeleteModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>r.deleteNote&&r.deleteNote(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"}," Delete ")])])])):(0,o.Q3)("",!0),r.showProfileModal?((0,o.uX)(),(0,o.CE)("div",lt,[(0,o.Lk)("div",rt,[(0,o.Lk)("div",nt,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[47]||(t[47]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",it,[(0,o.Lk)("div",{class:(0,l.C4)(["w-24 h-24 rounded-full overflow-hidden mb-3",r.themeClasses.input])},[r.user&&r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[14]||(t[14]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[15]||(t[15]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,ct)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,l.C4)(["w-full h-full flex items-center justify-center",r.themeClasses.input])},[(0,o.bF)(c,{icon:["fas","user"],class:(0,l.C4)([r.themeClasses.text,"text-2xl"])},null,8,["class"])],2))],2),t[48]||(t[48]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",dt,[(0,o.Lk)("div",null,[t[49]||(t[49]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",ut,(0,l.v_)(r.user?.firstName&&r.user?.lastName?`${r.user.firstName} ${r.user.lastName}`:r.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[50]||(t[50]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",gt,(0,l.v_)(r.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[51]||(t[51]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",mt,(0,l.v_)(r.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",pt,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>r.closeProfileModal&&r.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0),(0,o.Lk)("main",{class:(0,l.C4)([r.themeClasses.mainContent,"flex-grow p-4 md:p-6"])},[(0,o.Lk)("div",ft,[t[53]||(t[53]=(0,o.Lk)("h1",{class:"text-2xl font-bold"},"Dashboard",-1)),(0,o.Lk)("div",bt,[(0,o.Lk)("div",xt,[(0,o.Lk)("div",{class:(0,l.C4)(["w-2 h-2 rounded-full transition-colors duration-300",r.isConnected?"bg-green-500 animate-pulse":"bg-red-500"])},null,2),(0,o.Lk)("span",{class:(0,l.C4)(["text-sm transition-colors duration-300",r.isConnected?"text-green-400":"text-red-400"])},(0,l.v_)(r.isConnected?"Live Updates":"Offline"),3),r.lastSync?((0,o.uX)(),(0,o.CE)("span",yt," ("+(0,l.v_)(new Date(r.lastSync).toLocaleTimeString())+") ",1)):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{onClick:t[17]||(t[17]=e=>{r.refreshNotes(),r.refreshStats(),r.refreshUser()}),disabled:r.loadingNotes||r.loadingStats||r.loadingUser,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",r.loadingNotes||r.loadingStats||r.loadingUser?"spinner":"sync-alt"],class:(0,l.C4)([r.loadingNotes||r.loadingStats||r.loadingUser?"animate-spin":"","text-sm"])},null,8,["icon","class"]),t[52]||(t[52]=(0,o.Lk)("span",{class:"text-sm"},"Refresh",-1))],8,vt)])]),(0,o.Lk)("div",ht,[(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",kt,[t[54]||(t[54]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Total Notes",-1)),(0,o.bF)(c,{icon:["fas","book"],class:"text-blue-500 text-xl"})]),r.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",wt,t[55]||(t[55]=[(0,o.Lk)("div",{class:"h-8 bg-gray-700 rounded mb-2"},null,-1),(0,o.Lk)("div",{class:"h-4 bg-gray-700 rounded w-3/4"},null,-1)]))):((0,o.uX)(),(0,o.CE)("div",Lt,[(0,o.Lk)("p",Ct,(0,l.v_)(r.stats.totalNotes),1),(0,o.Lk)("p",Et,(0,l.v_)(r.stats.notesThisWeek)+" new this week",1)]))],2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",St,[t[56]||(t[56]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Study Time",-1)),(0,o.bF)(c,{icon:["fas","clock"],class:"text-green-500 text-xl"})]),r.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",_t,[(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",Nt,[(0,o.Lk)("p",Ft,(0,l.v_)(r.stats.studyHours)+"h",1),(0,o.Lk)("p",{class:(0,l.C4)([r.themeClasses.secondaryText,"text-sm"])},(0,l.v_)(r.stats.studyHoursThisWeek)+"h this week",3)]))],2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Tt,[t[57]||(t[57]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Quiz Score",-1)),(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-yellow-500 text-xl"})]),r.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",zt,[(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",At,[(0,o.Lk)("p",Rt,(0,l.v_)(r.stats.quizAverage)+"%",1),(0,o.Lk)("p",{class:(0,l.C4)([r.themeClasses.secondaryText,"text-sm"])},(0,l.v_)(r.stats.quizzesCompleted)+" quizzes completed",3)]))],2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Pt,[t[58]||(t[58]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Goals",-1)),(0,o.bF)(c,{icon:["fas","bullseye"],class:"text-purple-500 text-xl"})]),r.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",It,[(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",Dt,[(0,o.Lk)("p",Ot,(0,l.v_)(r.stats.activeGoals),1),(0,o.Lk)("p",{class:(0,l.C4)([r.themeClasses.secondaryText,"text-sm"])},(0,l.v_)(r.stats.completedGoals)+" completed this month",3)]))],2)]),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6 mb-6"])},[t[63]||(t[63]=(0,o.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Quick Actions",-1)),(0,o.Lk)("div",Ut,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.openCamera&&r.openCamera(...e)),class:(0,l.C4)([r.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},[(0,o.bF)(c,{icon:["fas","camera"],class:"text-2xl text-blue-500 mb-2"}),t[59]||(t[59]=(0,o.Lk)("span",{class:"text-sm font-medium"},"Scan Note",-1))],2),(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>r.createNewNote&&r.createNewNote(...e)),class:(0,l.C4)([r.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},[(0,o.bF)(c,{icon:["fas","plus"],class:"text-2xl text-green-500 mb-2"}),t[60]||(t[60]=(0,o.Lk)("span",{class:"text-sm font-medium"},"New Note",-1))],2),(0,o.bF)(d,{to:"/progress",class:(0,l.C4)([r.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"],class:"text-2xl text-purple-500 mb-2"}),t[61]||(t[61]=(0,o.Lk)("span",{class:"text-sm font-medium"},"View Progress",-1))])),_:1,__:[61]},8,["class"]),(0,o.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>r.openSettings&&r.openSettings(...e)),class:(0,l.C4)([r.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},[(0,o.bF)(c,{icon:["fas","cog"],class:"text-2xl text-yellow-500 mb-2"}),t[62]||(t[62]=(0,o.Lk)("span",{class:"text-sm font-medium"},"Settings",-1))],2)])],2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6 mb-6"])},[t[68]||(t[68]=(0,o.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Scan New Notes",-1)),(0,o.Lk)("div",Qt,[(0,o.Lk)("div",qt,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-4xl text-gray-400"})]),t[67]||(t[67]=(0,o.Lk)("p",{class:"mb-4 text-gray-400"},"Take a picture or upload your notes (images with OCR text extraction)",-1)),(0,o.Lk)("div",Xt,[(0,o.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>r.openCamera&&r.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[64]||(t[64]=(0,o.eW)(" Take Photo "))]),(0,o.Lk)("label",{class:(0,l.C4)(["px-4 py-2 rounded-md transition cursor-pointer flex items-center space-x-2",r.isProcessingFile?"bg-gray-600 cursor-not-allowed opacity-50":"bg-gray-700 hover:bg-gray-600"])},[r.isProcessingFile?((0,o.uX)(),(0,o.Wv)(c,{key:0,icon:["fas","spinner"],class:"animate-spin"})):((0,o.uX)(),(0,o.Wv)(c,{key:1,icon:["fas","upload"]})),(0,o.Lk)("span",null,(0,l.v_)(r.isProcessingFile?"Processing...":"Upload Image"),1),(0,o.Lk)("input",{type:"file",class:"hidden",onChange:t[22]||(t[22]=(...e)=>r.handleFileUpload&&r.handleFileUpload(...e)),accept:"image/*",disabled:r.isProcessingFile},null,40,jt)],2)]),r.showCamera?((0,o.uX)(),(0,o.CE)("div",Mt,[(0,o.Lk)("video",Kt,null,512),(0,o.Lk)("div",Wt,[(0,o.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>r.capturePhoto&&r.capturePhoto(...e)),class:"px-4 py-2 bg-green-600 rounded-md hover:bg-green-700 transition"},[(0,o.bF)(c,{icon:["fas","camera-retro"],class:"mr-2"}),t[65]||(t[65]=(0,o.eW)(" Capture "))]),(0,o.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>r.closeCamera&&r.closeCamera(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","times"],class:"mr-2"}),t[66]||(t[66]=(0,o.eW)(" Cancel "))])])])):(0,o.Q3)("",!0)])],2),(0,o.Lk)("div",{class:(0,l.C4)([r.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Gt,[(0,o.Lk)("div",$t,[(0,o.Lk)("div",Vt,[(0,o.bF)(c,{icon:["fas","clock"],class:"text-white text-sm"})]),t[69]||(t[69]=(0,o.Lk)("h2",{class:"text-xl font-semibold"},"Recent Notes",-1))]),(0,o.bF)(d,{to:"/notes",class:"flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors duration-200"},{default:(0,o.k6)((()=>[t[70]||(t[70]=(0,o.Lk)("span",{class:"text-sm font-medium"},"View All",-1)),(0,o.bF)(c,{icon:["fas","arrow-right"],class:"text-xs"})])),_:1,__:[70]})]),r.loadingNotes?((0,o.uX)(),(0,o.CE)("div",Ht,[(0,o.Lk)("div",Jt,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin text-2xl text-blue-400"}),t[71]||(t[71]=(0,o.Lk)("p",{class:"text-gray-400"},"Loading your recent notes...",-1))])])):r.recentNotes.length>0?((0,o.uX)(),(0,o.CE)("div",Bt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.recentNotes,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id||s,class:"group relative bg-gradient-to-r from-gray-800 to-gray-750 rounded-xl p-5 border border-gray-700 hover:border-gray-600 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20 transform hover:-translate-y-0.5"},[(0,o.Lk)("div",Yt,[(0,o.Lk)("div",{class:"flex items-start space-x-4 flex-grow cursor-pointer",onClick:t=>r.viewNote(e.id)},[(0,o.Lk)("div",es,[(0,o.bF)(c,{icon:["fas","file-alt"],class:"text-white text-sm"})]),(0,o.Lk)("div",ts,[(0,o.Lk)("h3",ss,(0,l.v_)(e.title),1),(0,o.Lk)("div",as,[(0,o.Lk)("div",os,[(0,o.bF)(c,{icon:["fas","clock"]}),(0,o.Lk)("span",null,(0,l.v_)(r.getTimeAgo(e.createdAt)),1)]),(0,o.Lk)("div",ls,[(0,o.bF)(c,{icon:["fas","align-left"]}),(0,o.Lk)("span",null,(0,l.v_)(e.wordCount)+" words",1)])])])],8,Zt),(0,o.Lk)("div",rs,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>r.editNote(e.id)),["stop"]),class:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit note"},[(0,o.bF)(c,{icon:["fas","edit"],class:"text-sm"})],8,ns),(0,o.Lk)("button",{onClick:(0,a.D$)((t=>r.confirmDelete(e.id,e.title)),["stop"]),class:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete note"},[(0,o.bF)(c,{icon:["fas","trash"],class:"text-sm"})],8,is)])]),(0,o.Lk)("div",cs,[(0,o.Lk)("p",ds,(0,l.v_)(e.summary),1),(0,o.Lk)("div",us,[(0,o.Lk)("div",gs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tags,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-3 py-1 bg-gradient-to-r from-gray-700 to-gray-600 text-gray-300 rounded-full text-xs font-medium border border-gray-600"},(0,l.v_)(e),1)))),128)),0===e.tags.length?((0,o.uX)(),(0,o.CE)("span",ms," No tags ")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ps,[(0,o.bF)(c,{icon:["fas","eye"]}),(0,o.Lk)("span",null,(0,l.v_)(e.readingTime)+" min read",1)])])]),t[72]||(t[72]=(0,o.Lk)("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"},null,-1))])))),128))])):((0,o.uX)(),(0,o.CE)("div",fs,[(0,o.Lk)("div",bs,[(0,o.Lk)("div",xs,[(0,o.bF)(c,{icon:["fas","book-open"],class:"text-3xl text-gray-400"})]),t[75]||(t[75]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-white mb-2"},"No notes yet",-1)),t[76]||(t[76]=(0,o.Lk)("p",{class:"text-gray-400 mb-6 leading-relaxed"}," Start building your knowledge base by scanning your first note, uploading images with OCR text extraction, or creating one from scratch. ",-1)),(0,o.Lk)("div",ys,[(0,o.Lk)("button",{onClick:t[25]||(t[25]=(...e)=>r.openCamera&&r.openCamera(...e)),class:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all duration-200 transform hover:scale-105"},[(0,o.bF)(c,{icon:["fas","camera"]}),t[73]||(t[73]=(0,o.Lk)("span",null,"Scan Note",-1))]),(0,o.Lk)("button",{onClick:t[26]||(t[26]=(...e)=>r.createNewNote&&r.createNewNote(...e)),class:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500 text-white rounded-lg transition-all duration-200"},[(0,o.bF)(c,{icon:["fas","plus"]}),t[74]||(t[74]=(0,o.Lk)("span",null,"Create Note",-1))])])])]))],2)],2)])],2)}s(2489),s(7588),s(1701);var hs=s(4391),ks=s.n(hs);function ws(){const e=(0,oe.KR)(!1),t=(0,oe.KR)([]),s=(0,oe.KR)(!1),a=(0,oe.KR)(null),l={SUCCESS:{icon:["fas","check-circle"],color:"text-green-400",bgColor:"bg-green-500"},ERROR:{icon:["fas","triangle-exclamation"],color:"text-red-400",bgColor:"bg-red-500"},WARNING:{icon:["fas","exclamation-circle"],color:"text-yellow-400",bgColor:"bg-yellow-500"},INFO:{icon:["fas","info-circle"],color:"text-blue-400",bgColor:"bg-blue-500"},NOTE_CREATED:{icon:["fas","file-alt"],color:"text-purple-400",bgColor:"bg-purple-500"},NOTE_UPDATED:{icon:["fas","edit"],color:"text-indigo-400",bgColor:"bg-indigo-500"},GOAL_ACHIEVED:{icon:["fas","trophy"],color:"text-yellow-500",bgColor:"bg-yellow-600"},SYSTEM:{icon:["fas","cog"],color:"text-gray-400",bgColor:"bg-gray-500"}},r=(0,o.EW)((()=>t.value.filter((e=>!e.read)).length)),n=()=>{try{const e=localStorage.getItem("smartscribe_notifications");if(e){const s=JSON.parse(e);t.value=s.map((e=>({...e,timestamp:new Date(e.timestamp)})))}else d({type:"INFO",title:"Welcome to SmartScribe!",message:"Start by scanning your first note or creating a new one.",actions:[{label:"Get Started",action:"navigate",data:"/dashboard"}]})}catch(e){console.error("Error loading notifications:",e)}},i=()=>{try{localStorage.setItem("smartscribe_notifications",JSON.stringify(t.value))}catch(e){console.error("Error saving notifications:",e)}},c=e=>{const t=new Date,s=t-e,a=Math.floor(s/6e4),o=Math.floor(s/36e5),l=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a}m ago`:o<24?`${o}h ago`:l<7?`${l}d ago`:e.toLocaleDateString()},d=e=>{const s=l[e.type]||l.INFO,a={id:Date.now()+Math.random(),timestamp:new Date,read:!1,priority:e.priority||"normal",category:e.category||"general",actions:e.actions||[],persistent:e.persistent||!1,...s,...e};return a.time=c(a.timestamp),t.value.unshift(a),t.value.length>50&&(t.value=t.value.slice(0,50)),i(),"low"===a.priority&&setTimeout((()=>{L(a)}),3e4),a},u=(e,t,s={})=>d({type:"SUCCESS",title:e,message:t,...s}),g=(e,t,s={})=>d({type:"ERROR",title:e,message:t,priority:"high",...s}),m=(e,t,s={})=>d({type:"WARNING",title:e,message:t,...s}),p=(e,t,s={})=>d({type:"INFO",title:e,message:t,...s}),f=e=>d({type:"NOTE_CREATED",title:"Note Created",message:`"${e}" has been created successfully.`,actions:[{label:"View Note",action:"navigate",data:`/notes/${e}`}]}),b=e=>d({type:"NOTE_UPDATED",title:"Note Updated",message:`"${e}" has been updated.`,priority:"low"}),x=e=>d({type:"GOAL_ACHIEVED",title:"Goal Achieved! ðŸŽ‰",message:`Congratulations! You've completed "${e}".`,persistent:!0,actions:[{label:"Set New Goal",action:"navigate",data:"/progress"}]}),y=e=>d({type:"SYSTEM",title:"System Update",message:e,priority:"low"}),v=()=>{s.value||(s.value=!0,a.value=setInterval((async()=>{try{const e=Math.random()<.1;if(e&&t.value.length<10){const e=[{type:"INFO",title:"System Status",message:"All systems are running smoothly.",priority:"low"},{type:"SUCCESS",title:"Backup Complete",message:"Your data has been backed up successfully.",priority:"low"},{type:"WARNING",title:"Storage Update",message:`You have used ${Math.floor(20*Math.random()+60)}% of your storage.`,priority:"normal",actions:[{label:"Manage Storage",action:"navigate",data:"/settings"}]}],t=e[Math.floor(Math.random()*e.length)];d({...t,silent:!0})}}catch(e){console.debug("Notification polling failed:",e.message)}}),3e4))},h=()=>{a.value&&(clearInterval(a.value),a.value=!1),s.value=!1},k=()=>{e.value=!e.value},w=()=>{e.value=!1},L=e=>{e.read=!0,i()},C=()=>{t.value.forEach((e=>{e.read=!0})),i()},E=e=>{const s=t.value.findIndex((t=>t.id===e));s>-1&&(t.value.splice(s,1),i())},S=()=>{t.value=[],i()},_=(e,t)=>{switch(t.action){case"navigate":t.data.startsWith("/")?window.location.href=t.data:window.open(t.data,"_blank");break;case"dismiss":E(e.id);break;case"callback":"function"===typeof t.callback&&t.callback(e);break;case"markAsRead":L(e);break}},N=()=>{t.value.forEach((e=>{e.time=c(e.timestamp)}))};return(0,o.sV)((()=>{n(),v(),N();const e=setInterval(N,6e4);(0,o.hi)((()=>{h(),clearInterval(e)}))})),{showNotifications:e,notifications:t,unreadNotifications:r,toggleNotifications:k,closeNotifications:w,markAsRead:L,markAllAsRead:C,removeNotification:E,clearAllNotifications:S,addNotification:d,showSuccess:u,showError:g,showWarning:m,showInfo:p,notifyNoteCreated:f,notifyNoteUpdated:b,notifyGoalAchieved:x,notifySystemUpdate:y,executeAction:_,startPolling:v,stopPolling:h}}function Ls(){const e=(0,oe.KR)(null),t=(0,oe.KR)(!1),s=(0,oe.KR)(null),a=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},l=async()=>{try{t.value=!0,s.value=null;const l=localStorage.getItem("user");if(l)try{const t=JSON.parse(l);e.value={id:t.id,name:t.name||"User",email:t.email||"user@example.com",firstName:t.first_name||t.firstName||"",lastName:t.last_name||t.lastName||"",profilePicture:t.profile_picture||t.profilePicture||null,memberSince:t.created_at?new Date(t.created_at).toLocaleDateString():(new Date).toLocaleDateString()}}catch(a){console.error("Error parsing user data from localStorage:",a),localStorage.removeItem("user")}try{const t=await ne.getUser();if(t.data&&t.data.success&&t.data.user){const s=t.data.user;e.value={id:s.id,name:s.name||"User",email:s.email||"user@example.com",firstName:s.first_name||"",lastName:s.last_name||"",profilePicture:s.profile_picture||null,memberSince:s.created_at?new Date(s.created_at).toLocaleDateString():(new Date).toLocaleDateString()},localStorage.setItem("user",JSON.stringify(s))}}catch(o){console.warn("Could not fetch user profile from API, using localStorage data:",o.message)}}catch(l){s.value=l.message,console.error("Error loading user profile:",l)}finally{t.value=!1}},r=async e=>{try{t.value=!0,s.value=null;const a=await ne.updateProfile(e);if(a.data&&a.data.success)return await l(),{success:!0};{const e=a.data?.error||"Failed to update profile";throw new Error(e)}}catch(a){const e=a.message||"Network error occurred";return s.value=e,console.error("Error updating user profile:",a),{success:!1,error:e}}finally{t.value=!1}},n=(0,o.EW)((()=>a(e.value?.profilePicture))),i=(0,o.EW)((()=>e.value?.name||"User")),c=(0,o.EW)((()=>!!e.value?.id)),d=()=>{e.value=null,s.value=null,localStorage.removeItem("user"),localStorage.removeItem("token")},u=(0,o.EW)((()=>!!e.value?.profilePicture)),g=(0,o.EW)((()=>{if(!e.value?.name)return"U";const t=e.value.name.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.value.name[0].toUpperCase()}));return(0,o.wB)(e,(e=>{e&&e.id&&localStorage.setItem("user",JSON.stringify({id:e.id,name:e.name,email:e.email,first_name:e.firstName,last_name:e.lastName,profile_picture:e.profilePicture,created_at:e.created_at}))}),{deep:!0}),{user:e,loading:t,error:s,profilePictureUrl:n,displayName:i,isAuthenticated:c,hasProfilePicture:u,getUserInitials:g,loadUserProfile:l,updateUserProfile:r,logout:d,getProfilePictureUrl:a}}var Cs={name:"DashboardView",setup(){const e=(0,g.rd)(),t=(0,n.Pj)(),s=(0,oe.KR)(null),a=(0,oe.KR)(null),l=(0,oe.KR)(!1),r=(0,oe.KR)(!1),i=(0,oe.KR)(!1),c=(0,oe.KR)(!0),d=(0,oe.KR)("connected"),u=(0,oe.KR)(new Date),{showNotifications:m,notifications:p,unreadNotifications:f,toggleNotifications:b,closeNotifications:x,markAsRead:y,markAllAsRead:v,showSuccess:h,showInfo:k,showWarning:w}=ws(),{user:L,loading:C,loadUserProfile:E}=Ls(),S=(0,o.EW)((()=>s.value?.data?s.value.data.slice(0,5).map((e=>{const t=new Date(e.created_at),s=e.original_text?e.original_text.substring(0,100)+(e.original_text.length>100?"...":""):"No content";return{id:e.id,title:e.title||"Untitled Note",summary:s,date:t.toLocaleDateString(),createdAt:t,timestamp:t.getTime(),tags:[],wordCount:te(s),readingTime:se(s)}})):[])),_=(0,o.EW)((()=>{if(!a.value?.data)return{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0,activeGoals:0,completedGoals:0};const e=a.value.data,t={totalNotes:e.totalNotes||0,notesThisWeek:e.notesThisWeek||0,studyHours:e.studyHours||0,studyHoursThisWeek:e.studyHoursThisWeek||0,quizAverage:e.quizAverage||0,quizzesCompleted:e.quizzesCompleted||0,activeGoals:0,completedGoals:0};return t})),N=L,F=(0,o.EW)((()=>{try{if(!t||!t.getters)return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"};const e=t.getters["app/getThemeClasses"];return e&&"object"===typeof e?e:{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}catch(e){return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}})),T=(0,oe.KR)(!1),z=(0,oe.KR)(!1),A=(0,oe.KR)(!1),R=(0,oe.KR)(null),P=(0,oe.KR)(""),I=(0,oe.KR)(!1),D=(0,oe.KR)(!1),O=(0,oe.KR)(!1),U=(0,oe.KR)(""),Q=(0,oe.KR)(null),q=(0,oe.KR)(!1),X=(0,oe.KR)(null),j=async e=>{try{const t=new FormData;t.append("profile_picture",e);const s=await ne.uploadProfilePicture(t);return s.data.success?(await J(),{success:!0,message:s.data.message}):{success:!1,message:s.data.error}}catch(t){return{success:!1,message:"Network error"}}},M=async e=>{const t=e.target.files[0];if(!t)return;const s=["image/jpeg","image/png","image/gif","image/webp"];if(!s.includes(t.type))return void w("Invalid file type","Please select a valid image file (JPEG, PNG, GIF, or WebP)");const a=5242880;if(t.size>a)w("File too large","File size must be less than 5MB");else{try{const e=await j(t);e.success?h("Profile picture updated",e.message):w("Upload failed",e.message)}catch(o){w("Upload error","Network error occurred")}e.target.value=""}},K=()=>{e.push("/notes/edit")},W=()=>{e.push("/settings")},G=async()=>{try{l.value=!0;const e=await ne.getNotes();s.value=e.data}catch(e){}finally{l.value=!1}},$=async()=>{try{i.value=!0;const e=await ne.getDashboardStats();a.value=e.data}catch(e){}finally{i.value=!1}},V=async()=>{await G()},H=async()=>{await $()},J=async()=>{await E()},B=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},Y=()=>{},Z=()=>{},ee=e=>{try{const t=e instanceof Date?e:new Date(e);if(isNaN(t.getTime()))return"Invalid date";const s=new Date,a=Math.floor((s-t)/1e3);return a<60?"Just now":a<3600?`${Math.floor(a/60)} minutes ago`:a<86400?`${Math.floor(a/3600)} hours ago`:a<604800?`${Math.floor(a/86400)} days ago`:t.toLocaleDateString()}catch(t){return"Date error"}},te=e=>e&&"string"===typeof e?e.trim().split(/\s+/).filter((e=>e.length>0)).length:0,se=e=>{const t=200,s=te(e),a=Math.ceil(s/t);return Math.max(1,a)};(0,o.sV)((async()=>{await Promise.all([G(),$(),E()]),setTimeout((()=>{h("Welcome to SmartScribe!","Your dashboard is ready.")}),1e3)}));const ae=()=>{T.value=!T.value},le=()=>{T.value=!1},re=()=>{z.value=!0,T.value=!1},ie=()=>{z.value=!1},ce=async()=>{try{e.push("/login")}catch(t){}},de=async()=>{A.value=!0,await(0,o.dY)();try{const e=await navigator.mediaDevices.getUserMedia({video:!0});R.value&&(R.value.srcObject=e)}catch(e){}},ue=()=>{A.value=!1;const e=R.value.srcObject;e&&e.getTracks().forEach((e=>e.stop())),R.value.srcObject=null},ge=()=>{const e=document.createElement("canvas");e.width=R.value.videoWidth,e.height=R.value.videoHeight,e.getContext("2d").drawImage(R.value,0,0),e.toBlob((async e=>{try{const{data:{text:t}}=await ks().recognize(e,"eng",{logger:()=>{}});P.value=t,Q.value={type:"capture",data:t},ue(),O.value=!0,U.value=""}catch(t){}}),"image/jpeg")},me=async e=>{const t=e.target.files[0];if(!t)return;const s=5242880;if(t.size>s)return void alert("File is too large!");const a=["image/jpeg","image/png","image/gif","image/webp"];if(a.includes(t.type)){I.value=!0;try{const{data:{text:e}}=await ks().recognize(t,"eng",{logger:()=>{}});P.value=e,Q.value={type:"upload",file:t,text:e},O.value=!0,U.value=""}catch(o){alert("Error processing file. Please try again.")}finally{I.value=!1}e.target.value=""}else alert("Only JPG, PNG, GIF, and WebP images are allowed!")},pe=async()=>{if(U.value.trim())try{const t={title:U.value.trim(),text:"upload"===Q.value.type?Q.value.text:Q.value.data,..."upload"===Q.value.type&&Q.value.file&&{image:Q.value.file}};if(t.image&&!(t.image instanceof File))return void alert("File upload error: Invalid file object");try{await ne.createNote(t),h("Note saved","Your note has been created successfully."),await Promise.all([V(),H()])}catch(e){w("Save failed","Failed to save the note. Please try again.")}O.value=!1,U.value="",Q.value=null,P.value=""}catch(e){}},fe=()=>{O.value=!1,U.value="",Q.value=null,P.value=""},be=()=>{D.value=!0,setTimeout((()=>{D.value=!1}),3e3)},xe=t=>{e.push(`/notes/${t}`)},ye=t=>{e.push(`/notes/edit?id=${t}`)},ve=(e,t)=>{X.value={id:e,title:t},q.value=!0},he=()=>{q.value=!1,X.value=null},ke=async()=>{if(X.value){try{await ne.deleteNote(X.value.id),S.value=S.value.filter((e=>e.id!==X.value.id)),await V()}catch(e){}he()}};return{showUserMenu:T,showProfileModal:z,showCamera:A,video:R,showSaveConfirmation:D,showTitleModal:O,noteTitle:U,pendingImageData:Q,showDeleteModal:q,noteToDelete:X,isProcessingFile:I,user:N,recentNotes:S,stats:_,loadingNotes:l,loadingStats:r,loadingDashboard:i,loadingUser:C,isConnected:c,connectionStatus:d,lastSync:u,toggleUserMenu:ae,closeUserMenu:le,openProfileModal:re,closeProfileModal:ie,logout:ce,openCamera:de,closeCamera:ue,capturePhoto:ge,handleFileUpload:me,handleProfilePictureUpload:M,saveNoteWithTitle:pe,cancelTitleInput:fe,showConfirmation:be,viewNote:xe,editNote:ye,confirmDelete:ve,closeDeleteModal:he,deleteNote:ke,createNewNote:K,openSettings:W,getProfilePictureUrl:B,handleImageError:Y,handleImageLoad:Z,showNotifications:m,notifications:p,unreadNotifications:f,toggleNotifications:b,markAsRead:y,markAllAsRead:v,closeNotifications:x,showSuccess:h,showInfo:k,showWarning:w,refreshNotes:V,refreshStats:H,refreshUser:J,loadUserProfile:E,getTimeAgo:ee,getWordCount:te,getReadingTime:se,ocrText:P,themeClasses:F,store:t}}};const Es=(0,c.A)(Cs,[["render",vs]]);var Ss=Es;const _s={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Ns={class:"p-4 flex justify-between items-center"},Fs={class:"space-x-2"},Ts={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},zs={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},As={class:"flex justify-center mb-8"},Rs={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},Ps=["src"],Is={class:"space-y-2"},Ds={class:"space-y-2"},Os={class:"space-y-2"},Us={class:"relative"},Qs={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},qs={class:"space-y-2"},Xs={class:"relative"},js={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ms=["type"],Ks={class:"space-y-2"},Ws={class:"relative"},Gs={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},$s=["type"],Vs=["disabled"],Hs={key:0,class:"flex items-center justify-center"},Js={key:1,class:"flex items-center justify-center"},Bs={class:"grid grid-cols-3 gap-3 mb-8"},Ys={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},Zs={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ea={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ta={class:"text-center"},sa={class:"text-gray-400 text-sm"},aa={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},oa={class:"bg-white text-gray-800 rounded-xl p-6 w-full max-w-sm shadow-xl transform transition-all scale-100"},la={class:"flex justify-center mb-4"},ra={class:"bg-green-100 text-green-600 w-16 h-16 flex items-center justify-center rounded-full"};function na(e,t,s,l,r,n){const i=(0,o.g2)("router-link"),c=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",_s,[(0,o.Lk)("header",Ns,[(0,o.bF)(i,{to:"/",class:"text-xl font-bold"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("SmartScribe")]))),_:1,__:[8]}),(0,o.Lk)("div",Fs,[(0,o.bF)(i,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("Sign In")]))),_:1,__:[9]}),(0,o.bF)(i,{to:"/contact",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("Contact")]))),_:1,__:[10]})])]),(0,o.Lk)("main",Ts,[(0,o.Lk)("div",zs,[(0,o.Lk)("div",As,[(0,o.Lk)("div",Rs,[(0,o.Lk)("img",{src:l.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,Ps)])]),t[22]||(t[22]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Create Your Account"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Sign up for SmartScribe to start digitizing your notes")],-1)),(0,o.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>l.handleSignup&&l.handleSignup(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",Is,[t[11]||(t[11]=(0,o.Lk)("label",{for:"firstName",class:"block text-sm font-medium text-gray-300"}," First Name ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"firstName",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.firstName=e),placeholder:"Enter your first name",class:"w-full px-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.firstName]])]),(0,o.Lk)("div",Ds,[t[12]||(t[12]=(0,o.Lk)("label",{for:"lastName",class:"block text-sm font-medium text-gray-300"}," Last Name ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"lastName",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.lastName=e),placeholder:"Enter your last name",class:"w-full px-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.lastName]])]),(0,o.Lk)("div",Os,[t[13]||(t[13]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",Us,[(0,o.Lk)("div",Qs,[(0,o.bF)(c,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>l.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,l.email]])])]),(0,o.Lk)("div",qs,[t[14]||(t[14]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," Password ",-1)),(0,o.Lk)("div",Xs,[(0,o.Lk)("div",js,[(0,o.bF)(c,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",ref:"passwordInput",type:l.passwordVisible?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>l.password=e),placeholder:"Enter your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,Ms),[[a.hp,l.password]]),(0,o.Lk)("button",{type:"button",onClick:t[4]||(t[4]=e=>l.passwordVisible=!l.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(c,{icon:["fas",l.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("div",Ks,[t[15]||(t[15]=(0,o.Lk)("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-300"}," Confirm Password ",-1)),(0,o.Lk)("div",Ws,[(0,o.Lk)("div",Gs,[(0,o.bF)(c,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"confirmPassword",ref:"confirmPasswordInput",type:l.confirmPasswordVisible?"text":"password","onUpdate:modelValue":t[5]||(t[5]=e=>l.confirmPassword=e),placeholder:"Confirm your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,$s),[[a.hp,l.confirmPassword]]),(0,o.Lk)("button",{type:"button",onClick:t[6]||(t[6]=e=>l.confirmPasswordVisible=!l.confirmPasswordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(c,{icon:["fas",l.confirmPasswordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:l.isLoading},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",Hs,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[16]||(t[16]=(0,o.eW)(" Creating account... "))])):((0,o.uX)(),(0,o.CE)("span",Js,[(0,o.bF)(c,{icon:["fas","user-plus"],class:"mr-2"}),t[17]||(t[17]=(0,o.eW)(" Create Account "))]))],8,Vs)],32),t[23]||(t[23]=(0,o.Fv)('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-gray-800 text-gray-400">Or continue with</span></div></div>',1)),(0,o.Lk)("div",Bs,[(0,o.Lk)("button",Ys,[(0,o.bF)(c,{icon:["fab","google"],class:"text-red-400 text-lg"})]),(0,o.Lk)("button",Zs,[(0,o.bF)(c,{icon:["fab","facebook-f"],class:"text-blue-400 text-lg"})]),(0,o.Lk)("button",ea,[(0,o.bF)(c,{icon:["fab","apple"],class:"text-gray-300 text-lg"})])]),(0,o.Lk)("div",ta,[(0,o.Lk)("p",sa,[t[19]||(t[19]=(0,o.eW)(" Already have an account? ")),(0,o.bF)(i,{to:"/login",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[18]||(t[18]=[(0,o.eW)(" Sign in here ")]))),_:1,__:[18]})])]),(0,o.bF)(a.eB,{name:"fade"},{default:(0,o.k6)((()=>[l.showSuccessModal?((0,o.uX)(),(0,o.CE)("div",aa,[(0,o.Lk)("div",oa,[(0,o.Lk)("div",la,[(0,o.Lk)("div",ra,[(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-3xl"})])]),t[20]||(t[20]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-center mb-2"},"Account Created!",-1)),t[21]||(t[21]=(0,o.Lk)("p",{class:"text-center mb-4"},"Your account was created successfully. You can now log in.",-1))])])):(0,o.Q3)("",!0)])),_:1})])]),t[24]||(t[24]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var ia={name:"SignupView",setup(){const e=(0,g.rd)(),t=(0,oe.KR)(""),s=(0,oe.KR)(""),a=(0,oe.KR)(""),o=(0,oe.KR)(""),l=(0,oe.KR)(""),r=(0,oe.KR)(!1),n=(0,oe.KR)(""),i=(0,oe.KR)(!1),c=(0,oe.KR)(!1),d=(0,oe.KR)(!1),u=(0,oe.KR)(null),m=(0,oe.KR)(null),p=()=>{i.value=!1,e.push("/login")},f=e=>{"passwordInput"===e?c.value=!c.value:"confirmPasswordInput"===e&&(d.value=!d.value)},b=async()=>{try{if(o.value!==l.value)return void(n.value="Passwords do not match");r.value=!0,n.value="";const e=await ne.register({first_name:t.value,last_name:s.value,name:`${t.value} ${s.value}`,email:a.value,password:o.value});if(!e.data||!e.data.user)throw new Error("Invalid response from server");localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token||""),i.value=!0,setTimeout((()=>{p()}),2500)}catch(e){n.value=e.response?.data?.error||e.message||"Failed to create account. Please try again."}finally{r.value=!1}};return{firstName:t,lastName:s,email:a,password:o,confirmPassword:l,isLoading:r,errorMessage:n,handleSignup:b,passwordInput:u,confirmPasswordInput:m,togglePasswordField:f,showSuccessModal:i,redirectToLogin:p,logo:ae,passwordVisible:c,confirmPasswordVisible:d}}};const ca=(0,c.A)(ia,[["render",na]]);var da=ca;const ua={class:"min-h-screen flex flex-col bg-gray-900 text-white"},ga={class:"p-4 bg-gray-800 flex justify-between items-center"},ma={class:"flex items-center space-x-2 md:space-x-4"},pa={class:"relative"},fa={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},ba={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},xa={key:0},ya=["onClick"],va={class:"flex items-start space-x-3"},ha={class:"flex-shrink-0 mt-1"},ka={class:"flex-grow"},wa={class:"flex items-start justify-between"},La={class:"flex-grow"},Ca={class:"text-sm font-medium text-white"},Ea={class:"text-xs text-gray-300 mt-1"},Sa={class:"text-xs text-gray-500 mt-2"},_a={class:"flex items-center space-x-2 ml-2"},Na={key:0,class:"flex-shrink-0"},Fa=["onClick"],Ta={key:0,class:"mt-3 flex space-x-2"},za=["onClick"],Aa={key:1,class:"mt-2 flex items-center"},Ra={key:2,class:"mt-2 flex items-center"},Pa={key:1,class:"p-4 text-center text-gray-400"},Ia={key:2,class:"p-3 border-t border-gray-700"},Da={class:"relative"},Oa={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},Ua=["src"],Qa={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},qa={class:"text-sm text-gray-300"},Xa={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},ja={class:"flex flex-grow"},Ma={class:"w-64 bg-gray-800 p-4"},Ka={class:"space-y-2"},Wa={class:"flex-grow p-4 md:p-6"},Ga={class:"flex justify-between items-center mb-6"},$a={class:"flex items-center space-x-4"},Va={class:"flex items-center space-x-2"},Ha={class:"flex space-x-3"},Ja={class:"relative"},Ba=["disabled"],Ya={class:"flex mb-6 space-x-2"},Za={key:0,class:"bg-red-800 rounded-lg p-6 text-center"},eo={class:"mb-4"},to={class:"text-red-300 mb-4"},so={class:"flex justify-center space-x-3"},ao={key:1,class:"text-center py-8 text-gray-400"},oo={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},lo=["onClick"],ro={class:"p-4"},no={class:"flex justify-between items-start mb-2"},io={class:"font-medium"},co={class:"flex space-x-2"},uo=["onClick"],go={class:"relative"},mo=["onClick"],po=["onClick"],fo=["onClick"],bo=["onClick"],xo={class:"text-sm text-gray-400 mb-2"},yo={class:"text-sm text-gray-300 line-clamp-3 mb-3"},vo={class:"flex flex-wrap gap-2"},ho={key:3,class:"bg-gray-800 rounded-lg p-8 text-center"},ko={class:"mb-4"},wo={class:"flex justify-center space-x-4"},Lo={class:"flex items-center mb-4"},Co={class:"flex justify-end space-x-3"},Eo={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},So={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},_o={class:"flex items-center mb-4"},No={class:"flex flex-col items-center mb-6"},Fo={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-600 mb-3"},To=["src"],zo={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},Ao={class:"space-y-4"},Ro={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Po={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Io={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Do={class:"flex justify-end space-x-3 mt-6"};function Oo(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ua,[(0,o.Lk)("header",ga,[t[32]||(t[32]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",ma,[(0,o.Lk)("div",pa,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleNotifications&&r.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),r.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",fa,(0,l.v_)(r.unreadNotifications),1)):(0,o.Q3)("",!0)]),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",ba,[t[30]||(t[30]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",xa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,l.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>r.markAsRead(s)},[(0,o.Lk)("div",va,[(0,o.Lk)("div",ha,[(0,o.Lk)("div",{class:(0,l.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",ka,[(0,o.Lk)("div",wa,[(0,o.Lk)("div",La,[(0,o.Lk)("p",Ca,(0,l.v_)(s.title),1),(0,o.Lk)("p",Ea,(0,l.v_)(s.message),1),(0,o.Lk)("p",Sa,(0,l.v_)(s.time),1)]),(0,o.Lk)("div",_a,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Na,t[26]||(t[26]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Fa)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Ta,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,r)=>((0,o.uX)(),(0,o.CE)("button",{key:r,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,l.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,l.v_)(t.label),11,za)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",Aa,t[27]||(t[27]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",Ra,t[28]||(t[28]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,ya)))),128))])):((0,o.uX)(),(0,o.CE)("div",Pa,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[29]||(t[29]=(0,o.Lk)("p",null,"No notifications yet",-1))])),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Ia,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.markAllAsRead&&r.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>r.closeNotifications&&r.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Da,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.toggleUserMenu&&r.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",Oa,[r.user&&r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,Ua)):((0,o.uX)(),(0,o.CE)("div",Qa,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",qa,(0,l.v_)(r.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),r.showUserMenu?((0,o.uX)(),(0,o.CE)("div",Xa,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.openProfileModal&&r.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:r.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[31]||(t[31]=[(0,o.eW)("Settings")]))),_:1,__:[31]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.logout&&r.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",ja,[(0,o.Lk)("aside",Ma,[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",Ka,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[33]||(t[33]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[33]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[34]||(t[34]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[34]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[35]||(t[35]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[35]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[36]||(t[36]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[36]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[37]||(t[37]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[37]})])])])]),(0,o.Lk)("main",Wa,[(0,o.Lk)("div",Ga,[(0,o.Lk)("div",$a,[t[38]||(t[38]=(0,o.Lk)("h1",{class:"text-2xl font-bold"},"My Notes",-1)),(0,o.Lk)("div",Va,[(0,o.Lk)("div",{class:(0,l.C4)(["w-2 h-2 rounded-full transition-colors duration-300",r.isConnected?"bg-green-500 animate-pulse":"bg-red-500"])},null,2),(0,o.Lk)("span",{class:(0,l.C4)(["text-sm transition-colors duration-300",r.isConnected?"text-green-400":"text-red-400"])},(0,l.v_)(r.isConnected?"Live":"Offline"),3)])]),(0,o.Lk)("div",Ha,[(0,o.Lk)("div",Ja,[t[39]||(t[39]=(0,o.Lk)("input",{type:"text",placeholder:"Search notes...",class:"pl-10 pr-4 py-2 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,-1)),(0,o.bF)(c,{icon:["fas","search"],class:"absolute left-3 top-3 text-gray-400"})]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>r.refreshNotes()),disabled:r.loadingNotes,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",r.loadingNotes?"spinner":"sync-alt"],class:(0,l.C4)([r.loadingNotes?"animate-spin":"","text-sm"])},null,8,["icon","class"])],8,Ba),(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>r.openCamera&&r.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[40]||(t[40]=(0,o.eW)(" Scan New "))])])]),(0,o.Lk)("div",Ya,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>r.activeFilter="all"),class:(0,l.C4)(["px-3 py-1 rounded-md transition-colors","all"===r.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])}," All Notes ",2),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>r.activeFilter="recent"),class:(0,l.C4)(["px-3 py-1 rounded-md transition-colors flex items-center space-x-1","recent"===r.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[(0,o.bF)(c,{icon:["fas","clock"],class:"text-xs"}),t[41]||(t[41]=(0,o.Lk)("span",null,"Recent",-1))],2),(0,o.Lk)("button",{onClick:t[12]||(t[12]=e=>r.activeFilter="favorites"),class:(0,l.C4)(["px-3 py-1 rounded-md transition-colors flex items-center space-x-1","favorites"===r.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[(0,o.bF)(c,{icon:["fas","star"],class:"text-xs"}),t[42]||(t[42]=(0,o.Lk)("span",null,"Favorites",-1))],2)]),r.notesError?((0,o.uX)(),(0,o.CE)("div",Za,[(0,o.Lk)("div",eo,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400"})]),t[44]||(t[44]=(0,o.Lk)("h3",{class:"text-xl font-medium mb-2"},"Unable to Load Notes",-1)),(0,o.Lk)("p",to,(0,l.v_)(r.notesError||"An error occurred while loading your notes."),1),(0,o.Lk)("div",so,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>r.refreshNotes()),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","redo"],class:"mr-2"}),t[43]||(t[43]=(0,o.eW)(" Try Again "))]),(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>r.clearError()),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Dismiss ")])])):r.loadingNotes&&0===r.notes.length?((0,o.uX)(),(0,o.CE)("div",ao,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin text-3xl mb-3"}),t[45]||(t[45]=(0,o.Lk)("p",{class:"text-lg"},"Loading your notes...",-1))])):r.notes.length>0?((0,o.uX)(),(0,o.CE)("div",oo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.filteredNotes,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition cursor-pointer relative",onClick:t=>r.viewNote(e.id)},[(0,o.Lk)("div",ro,[(0,o.Lk)("div",no,[(0,o.Lk)("h3",io,(0,l.v_)(e.title),1),(0,o.Lk)("div",co,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>r.toggleFavorite(e.id)),["stop"]),class:"text-gray-400 hover:text-yellow-500"},[(0,o.bF)(c,{icon:["fas",(e.isFavorite,"star")],class:(0,l.C4)(e.isFavorite?"text-yellow-500":"")},null,8,["icon","class"])],8,uo),(0,o.Lk)("div",go,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>r.showNoteMenu(e.id)),["stop"]),class:"text-gray-400 hover:text-white"},[(0,o.bF)(c,{icon:["fas","ellipsis-v"]})],8,mo),r.activeMenu===e.id?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"absolute right-0 top-full mt-1 w-32 bg-gray-700 rounded-md shadow-lg z-10",onClick:t[15]||(t[15]=(0,a.D$)((()=>{}),["stop"]))},[(0,o.Lk)("button",{onClick:t=>r.editNote(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 rounded-t-md flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","edit"],class:"text-xs"}),t[46]||(t[46]=(0,o.Lk)("span",null,"Edit",-1))],8,po),(0,o.Lk)("button",{onClick:t=>r.duplicateNote(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","copy"],class:"text-xs"}),t[47]||(t[47]=(0,o.Lk)("span",null,"Duplicate",-1))],8,fo),(0,o.Lk)("button",{onClick:t=>r.confirmDelete(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-red-600 text-red-400 hover:text-white rounded-b-md flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","trash"],class:"text-xs"}),t[48]||(t[48]=(0,o.Lk)("span",null,"Delete",-1))],8,bo)])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("p",xo,(0,l.v_)("recent"===r.activeFilter&&Date.now()-e.timestamp<6048e5?r.getTimeAgo(e.createdAt):e.date),1),(0,o.Lk)("p",yo,(0,l.v_)(e.original_text),1),(0,o.Lk)("div",vo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tags,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-2 py-1 bg-gray-700 rounded-full text-xs"},(0,l.v_)(e),1)))),128))])])],8,lo)))),128))])):((0,o.uX)(),(0,o.CE)("div",ho,[(0,o.Lk)("div",ko,[(0,o.bF)(c,{icon:["fas","book"],class:"text-4xl text-gray-400"})]),t[51]||(t[51]=(0,o.Lk)("h3",{class:"text-xl font-medium mb-2"},"No Notes Yet",-1)),t[52]||(t[52]=(0,o.Lk)("p",{class:"text-gray-400 mb-4"},"Start by scanning your study materials or creating a new note.",-1)),(0,o.Lk)("div",wo,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>r.openCamera&&r.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[49]||(t[49]=(0,o.eW)(" Scan Notes "))]),(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>r.createNewNote&&r.createNewNote(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),t[50]||(t[50]=(0,o.eW)(" Create New "))])])]))])]),r.showDeleteModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[21]||(t[21]=(...e)=>r.closeDeleteModal&&r.closeDeleteModal(...e))},[(0,o.Lk)("div",{class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4",onClick:t[20]||(t[20]=(0,a.D$)((()=>{}),["stop"]))},[(0,o.Lk)("div",Lo,[(0,o.bF)(c,{icon:["fas","times"],class:"text-red-400 text-xl mr-3"}),t[53]||(t[53]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"Delete Note",-1))]),t[54]||(t[54]=(0,o.Lk)("p",{class:"text-gray-300 mb-6"}," Are you sure you want to delete this note? This action cannot be undone. ",-1)),(0,o.Lk)("div",Co,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.closeDeleteModal&&r.closeDeleteModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>r.deleteNote&&r.deleteNote(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"}," Delete ")])])])):(0,o.Q3)("",!0),r.showProfileModal?((0,o.uX)(),(0,o.CE)("div",Eo,[(0,o.Lk)("div",So,[(0,o.Lk)("div",_o,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[55]||(t[55]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",No,[(0,o.Lk)("div",Fo,[r.user&&r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[22]||(t[22]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[23]||(t[23]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,To)):((0,o.uX)(),(0,o.CE)("div",zo,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-2xl"})]))]),t[56]||(t[56]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",Ao,[(0,o.Lk)("div",null,[t[57]||(t[57]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",Ro,(0,l.v_)(r.user?.firstName&&r.user?.lastName?`${r.user.firstName} ${r.user.lastName}`:r.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[58]||(t[58]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",Po,(0,l.v_)(r.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[59]||(t[59]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",Io,(0,l.v_)(r.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",Do,[(0,o.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>r.closeProfileModal&&r.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0),r.activeMenu?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"fixed inset-0 z-0",onClick:t[25]||(t[25]=(...e)=>r.closeMenu&&r.closeMenu(...e))})):(0,o.Q3)("",!0)])}s(116);var Uo={name:"NotesView",setup(){const e=(0,g.rd)(),t=(0,g.lq)(),{showNotifications:s,notifications:a,unreadNotifications:l,toggleNotifications:r,closeNotifications:n,markAsRead:i,markAllAsRead:c,showSuccess:d,showWarning:u}=ws(),{user:m,loading:p,loadUserProfile:f}=Ls(),b=(0,oe.KR)(null),x=(0,oe.KR)(!1),y=(0,oe.KR)(!0),v=(0,oe.KR)("connected"),h=(0,oe.KR)(new Date),k=(0,oe.KR)("all"),w=(0,oe.KR)(null),L=(0,oe.KR)(!1),C=(0,oe.KR)(null),E=(0,oe.KR)(""),S=(0,oe.KR)(""),_=(0,oe.KR)(!1),N=(0,oe.KR)(!1),F=(0,o.EW)((()=>b.value?.data?b.value.data.map((e=>({id:e.id,title:e.title||"Untitled Note",original_text:e.original_text||"",date:new Date(e.created_at).toLocaleDateString(),createdAt:new Date(e.created_at),timestamp:new Date(e.created_at).getTime(),isFavorite:!1,tags:[]}))):[])),T=m,z=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},A=e=>{const t=new Date,s=Math.floor((t-e)/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)} minutes ago`:s<86400?`${Math.floor(s/3600)} hours ago`:s<604800?`${Math.floor(s/86400)} days ago`:e.toLocaleDateString()},R=e=>{const t=e.target.src;console.error("Profile picture failed to load:",t),console.error("Image naturalWidth:",e.target.naturalWidth),console.error("Image naturalHeight:",e.target.naturalHeight),console.error("User profile picture path:",T?.profilePicture||"null")},P=e=>{const t=e.target.src;console.log("Profile picture loaded successfully:",t),console.log("Image dimensions:",e.target.naturalWidth,"x",e.target.naturalHeight)},I=(0,o.EW)((()=>"all"===k.value?F.value:"recent"===k.value?[...F.value].sort(((e,t)=>t.timestamp-e.timestamp)):"favorites"===k.value?F.value.filter((e=>e.isFavorite)):F.value)),D=async()=>{try{x.value=!0;const t=localStorage.getItem("user");if(!t)return console.error("âŒ No user data found in localStorage"),S.value="Please log in to view your notes.",void(x.value=!1);let s;console.log("ðŸ” Fetching notes for user:",t);try{s=JSON.parse(t),console.log("âœ… Parsed user data:",s),console.log("âœ… User ID:",s.id)}catch(e){return console.error("âŒ Error parsing user data:",e),S.value="Invalid user session. Please log in again.",void(x.value=!1)}const a=await ne.getNotes();if(a.data&&a.data.success?console.log("âœ… Notes loaded successfully:",a.data.data?.length||0,"notes"):console.log("âŒ Notes API returned error:",a.data?.error),a.data&&a.data.success)b.value=a.data,S.value="",console.log("âœ… Notes loaded successfully:",a.data.data?.length||0,"notes");else{const e=a.data?.error||a.data?.message||"Failed to load notes.";S.value=e,console.error("âŒ Notes API error:",e),console.error("âŒ Full response:",a.data)}}catch(t){console.error("âŒ Error fetching notes:",t);let e="Failed to load notes. Please check your connection and try again.";"NETWORK_ERROR"===t.code||t.message?.includes("Network Error")?e="Network connection error. Please check your internet connection.":"TIMEOUT"===t.code||t.message?.includes("timeout")?e="Request timed out. Please try again.":401===t.response?.status?e="Authentication failed. Please log in again.":403===t.response?.status?e="Access denied. You may not have permission to view these notes.":404===t.response?.status?e="Notes service not found. Please contact support.":t.response?.status>=500&&(e="Server error. Please try again later."),S.value=e}finally{x.value=!1}},O=async()=>{await f()},U=async()=>{await D()},Q=async()=>{await f()},q=()=>{S.value=""};(0,o.sV)((async()=>{await Promise.all([D(),O()])})),(0,o.wB)((()=>t.fullPath),(async s=>{if(s.startsWith("/notes")){console.log("Navigated to notes page, checking if refresh needed...");const a="true"===t.query.refresh||"/notes"===s;a&&(console.log("Refreshing notes..."),await D(),t.query.refresh&&d("Notes updated","Your notes have been refreshed."),t.query.refresh&&e.replace("/notes"))}}));const X=t=>{K(),e.push(`/notes/${t}`)},j=e=>{const t=F.value.find((t=>t.id===e));t&&(t.isFavorite=!t.isFavorite,Y(t))},M=e=>{w.value=w.value===e?null:e},K=()=>{w.value=null},W=t=>{K(),e.push(`/notes/edit/${t}`)},G=async e=>{K();const t=F.value.find((t=>t.id===e));if(t){const e={title:`${t.title} (Copy)`,text:t.original_text};try{await ne.createNote(e),await D(),d("Note duplicated","The note has been successfully duplicated.")}catch(s){console.error("Error duplicating note:",s),u("Duplicate failed","Failed to duplicate the note. Please try again.")}}},$=e=>{K(),C.value=e,L.value=!0},V=()=>{L.value=!1,C.value=null},H=async()=>{if(C.value)try{await ne.deleteNote(C.value),await D(),d("Note deleted","The note has been successfully deleted.")}catch(e){console.error("Error deleting note:",e),u("Delete failed","Failed to delete the note. Please try again.")}V()},J=()=>{console.log("Opening camera..."),e.push("/notes/edit")},B=()=>{e.push("/notes/edit")},Y=async e=>{try{await ne.updateNote(e.id,e)}catch(t){console.error("Error updating note:",t)}},Z=()=>{_.value=!_.value},ee=()=>{_.value=!1},te=()=>{N.value=!0,_.value=!1},se=()=>{N.value=!1},ae=async()=>{try{e.push("/login")}catch(t){console.error("Error logging out:",t)}};return{notes:F,user:T,activeFilter:k,activeMenu:w,showDeleteModal:L,noteToDelete:C,showUserMenu:_,showProfileModal:N,filteredNotes:I,notesError:S,loadingNotes:x,loadingUser:p,isConnected:y,connectionStatus:v,lastSync:h,viewNote:X,toggleFavorite:j,showNoteMenu:M,closeMenu:K,editNote:W,duplicateNote:G,confirmDelete:$,closeDeleteModal:V,deleteNote:H,openCamera:J,createNewNote:B,getProfilePictureUrl:z,handleImageError:R,handleImageLoad:P,getTimeAgo:A,toggleUserMenu:Z,closeUserMenu:ee,openProfileModal:te,closeProfileModal:se,logout:ae,refreshNotes:U,refreshUser:Q,clearError:q,showNotifications:s,notifications:a,unreadNotifications:l,toggleNotifications:r,closeNotifications:n,markAsRead:i,markAllAsRead:c,loadUserProfile:f,ocrText:E}}};const Qo=(0,c.A)(Uo,[["render",Oo]]);var qo=Qo;const Xo={class:"min-h-screen flex flex-col bg-gray-900 text-white"},jo={class:"p-4 bg-gray-800 flex justify-between items-center"},Mo={class:"flex items-center space-x-2 md:space-x-4"},Ko={class:"relative"},Wo={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Go={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},$o={key:0},Vo=["onClick"],Ho={class:"flex items-start space-x-3"},Jo={class:"flex-shrink-0 mt-1"},Bo={class:"flex-grow"},Yo={class:"flex items-start justify-between"},Zo={class:"flex-grow"},el={class:"text-sm font-medium text-white"},tl={class:"text-xs text-gray-300 mt-1"},sl={class:"text-xs text-gray-500 mt-2"},al={class:"flex items-center space-x-2 ml-2"},ol={key:0,class:"flex-shrink-0"},ll=["onClick"],rl={key:0,class:"mt-3 flex space-x-2"},nl=["onClick"],il={key:1,class:"mt-2 flex items-center"},cl={key:2,class:"mt-2 flex items-center"},dl={key:1,class:"p-4 text-center text-gray-400"},ul={key:2,class:"p-3 border-t border-gray-700"},gl={class:"relative"},ml={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},pl=["src"],fl={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},bl={class:"text-sm text-gray-300"},xl={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},yl={class:"flex flex-grow"},vl={class:"w-64 bg-gray-800 p-4"},hl={class:"space-y-2"},kl={class:"flex-grow p-4 md:p-6"},wl={class:"flex justify-between items-center mb-6"},Ll={class:"flex items-center space-x-4"},Cl={class:"flex items-center space-x-2"},El={class:"flex items-center space-x-2"},Sl=["disabled"],_l={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6"},Nl={class:"bg-gray-800 rounded-lg p-6"},Fl={class:"flex justify-between items-center mb-2"},Tl={class:"text-3xl font-bold"},zl={class:"text-sm text-gray-400"},Al={class:"bg-gray-800 rounded-lg p-6"},Rl={class:"flex justify-between items-center mb-2"},Pl={class:"text-3xl font-bold"},Il={class:"text-sm text-gray-400"},Dl={class:"bg-gray-800 rounded-lg p-6"},Ol={class:"flex justify-between items-center mb-2"},Ul={class:"text-3xl font-bold"},Ql={class:"text-sm text-gray-400"},ql={class:"bg-gray-800 rounded-lg p-6 mb-6"},Xl={class:"h-64 flex items-end justify-between"},jl={class:"w-full px-1"},Ml={class:"text-xs mt-2 text-gray-400"},Kl={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6"},Wl={class:"bg-gray-800 rounded-lg p-6"},Gl={class:"space-y-4"},$l={class:"flex justify-between mb-1"},Vl={class:"w-full bg-gray-700 rounded-full h-2.5"},Hl={class:"bg-gray-800 rounded-lg p-6"},Jl={class:"space-y-4"},Bl={class:"font-medium"},Yl={class:"text-sm text-gray-400"},Zl={class:"bg-gray-800 rounded-lg p-6"},er={class:"flex justify-between items-center mb-4"},tr={key:0,class:"bg-gray-700 rounded-lg p-4 mb-4"},sr={class:"mb-3"},ar={class:"mb-3"},or={class:"flex justify-end space-x-2"},lr={class:"space-y-4"},rr={class:"flex justify-between items-start"},nr={class:"font-medium"},ir={class:"text-sm text-gray-400"},cr={class:"flex space-x-2"},dr={class:"text-gray-400 hover:text-white"},ur={class:"text-gray-400 hover:text-white"},gr={class:"mt-3"},mr={class:"flex justify-between mb-1 text-sm"},pr={class:"w-full bg-gray-600 rounded-full h-2"},fr={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},br={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},xr={class:"flex items-center mb-4"},yr={class:"flex flex-col items-center mb-6"},vr={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-600 mb-3"},hr=["src"],kr={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},wr={class:"space-y-4"},Lr={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Cr={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Er={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Sr={class:"flex justify-end space-x-3 mt-6"};function _r(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Xo,[(0,o.Lk)("header",jo,[t[24]||(t[24]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Mo,[(0,o.Lk)("div",Ko,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleNotifications&&r.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),r.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",Wo,(0,l.v_)(r.unreadNotifications),1)):(0,o.Q3)("",!0)]),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",Go,[t[22]||(t[22]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",$o,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,l.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>r.markAsRead(s)},[(0,o.Lk)("div",Ho,[(0,o.Lk)("div",Jo,[(0,o.Lk)("div",{class:(0,l.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",Bo,[(0,o.Lk)("div",Yo,[(0,o.Lk)("div",Zo,[(0,o.Lk)("p",el,(0,l.v_)(s.title),1),(0,o.Lk)("p",tl,(0,l.v_)(s.message),1),(0,o.Lk)("p",sl,(0,l.v_)(s.time),1)]),(0,o.Lk)("div",al,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ol,t[18]||(t[18]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,ll)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",rl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,r)=>((0,o.uX)(),(0,o.CE)("button",{key:r,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,l.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,l.v_)(t.label),11,nl)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",il,t[19]||(t[19]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",cl,t[20]||(t[20]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,Vo)))),128))])):((0,o.uX)(),(0,o.CE)("div",dl,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[21]||(t[21]=(0,o.Lk)("p",null,"No notifications yet",-1))])),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",ul,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.markAllAsRead&&r.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>r.closeNotifications&&r.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",gl,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.toggleUserMenu&&r.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",ml,[r.user&&r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:0,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,pl)):((0,o.uX)(),(0,o.CE)("div",fl,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",bl,(0,l.v_)(r.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),r.showUserMenu?((0,o.uX)(),(0,o.CE)("div",xl,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>r.openProfileModal&&r.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:r.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[23]||(t[23]=[(0,o.eW)("Settings")]))),_:1,__:[23]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.logout&&r.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",yl,[(0,o.Lk)("aside",vl,[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",hl,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[25]||(t[25]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[25]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[26]||(t[26]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[26]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[27]||(t[27]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[27]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[28]||(t[28]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[28]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[29]||(t[29]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[29]})])])])]),(0,o.Lk)("main",kl,[(0,o.Lk)("div",wl,[(0,o.Lk)("div",Ll,[t[30]||(t[30]=(0,o.Lk)("h1",{class:"text-2xl font-bold"},"Study Progress",-1)),(0,o.Lk)("div",Cl,[(0,o.Lk)("div",{class:(0,l.C4)(["w-2 h-2 rounded-full transition-colors duration-300",r.isConnected?"bg-green-500 animate-pulse":"bg-red-500"])},null,2),(0,o.Lk)("span",{class:(0,l.C4)(["text-sm transition-colors duration-300",r.isConnected?"text-green-400":"text-red-400"])},(0,l.v_)(r.isConnected?"Live":"Offline"),3)])]),(0,o.Lk)("div",El,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>r.refreshProgress()),disabled:r.loadingProgress,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",r.loadingProgress?"spinner":"sync-alt"],class:(0,l.C4)([r.loadingProgress?"animate-spin":"","text-sm"])},null,8,["icon","class"]),t[31]||(t[31]=(0,o.Lk)("span",{class:"text-sm"},"Refresh",-1))],8,Sl),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>r.debugStats()),class:"px-3 py-1 bg-blue-600 rounded-md hover:bg-blue-700 transition text-sm"}," Debug Stats ")])]),(0,o.Lk)("div",_l,[(0,o.Lk)("div",Nl,[(0,o.Lk)("div",Fl,[t[32]||(t[32]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Total Notes",-1)),(0,o.bF)(c,{icon:["fas","book"],class:"text-blue-500 text-xl"})]),(0,o.Lk)("p",Tl,(0,l.v_)(r.stats.totalNotes),1),(0,o.Lk)("p",zl,(0,l.v_)(r.stats.notesThisWeek)+" new this week",1)]),(0,o.Lk)("div",Al,[(0,o.Lk)("div",Rl,[t[33]||(t[33]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Study Time",-1)),(0,o.bF)(c,{icon:["fas","clock"],class:"text-green-500 text-xl"})]),(0,o.Lk)("p",Pl,(0,l.v_)(r.stats.studyHours)+"h",1),(0,o.Lk)("p",Il,(0,l.v_)(r.stats.studyHoursThisWeek)+"h this week",1)]),(0,o.Lk)("div",Dl,[(0,o.Lk)("div",Ol,[t[34]||(t[34]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Quiz Score",-1)),(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-yellow-500 text-xl"})]),(0,o.Lk)("p",Ul,(0,l.v_)(r.stats.quizAverage)+"%",1),(0,o.Lk)("p",Ql,(0,l.v_)(r.stats.quizzesCompleted)+" quizzes completed",1)])]),(0,o.Lk)("div",ql,[t[35]||(t[35]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Weekly Activity",-1)),(0,o.Lk)("div",Xl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.weeklyActivity,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex flex-col items-center w-full"},[(0,o.Lk)("div",jl,[(0,o.Lk)("div",{class:"bg-blue-600 rounded-t",style:(0,l.Tr)({height:200*e.activity+"px"})},null,4)]),(0,o.Lk)("p",Ml,(0,l.v_)(e.name),1)])))),128))])]),(0,o.Lk)("div",Kl,[(0,o.Lk)("div",Wl,[t[36]||(t[36]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Subject Distribution",-1)),(0,o.Lk)("div",Gl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.subjects,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[(0,o.Lk)("div",$l,[(0,o.Lk)("span",null,(0,l.v_)(e.name),1),(0,o.Lk)("span",null,(0,l.v_)(e.percentage)+"%",1)]),(0,o.Lk)("div",Vl,[(0,o.Lk)("div",{class:(0,l.C4)(["h-2.5 rounded-full",e.color]),style:(0,l.Tr)({width:`${e.percentage}%`})},null,6)])])))),128))])]),(0,o.Lk)("div",Hl,[t[37]||(t[37]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Recent Activity",-1)),(0,o.Lk)("div",Jl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.recentActivity,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex items-start"},[(0,o.Lk)("div",{class:(0,l.C4)(`${e.iconColor} p-2 rounded-full mr-3`)},[(0,o.bF)(c,{icon:e.icon},null,8,["icon"])],2),(0,o.Lk)("div",null,[(0,o.Lk)("p",Bl,(0,l.v_)(e.title),1),(0,o.Lk)("p",Yl,(0,l.v_)(e.time),1)])])))),128))])])]),(0,o.Lk)("div",Zl,[(0,o.Lk)("div",er,[t[39]||(t[39]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Study Goals",-1)),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>r.showAddGoalForm=!0),class:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-1"}),t[38]||(t[38]=(0,o.eW)(" New Goal "))])]),r.showAddGoalForm?((0,o.uX)(),(0,o.CE)("div",tr,[t[42]||(t[42]=(0,o.Lk)("h3",{class:"font-medium mb-3"},"Add New Goal",-1)),(0,o.Lk)("div",sr,[t[40]||(t[40]=(0,o.Lk)("label",{class:"block text-sm text-gray-400 mb-1"},"Goal Title",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>r.newGoal.title=e),class:"w-full p-2 bg-gray-600 rounded border border-gray-500 focus:outline-none focus:border-blue-500",placeholder:"E.g., Complete Biology Chapter 5-8"},null,512),[[a.Jo,r.newGoal.title]])]),(0,o.Lk)("div",ar,[t[41]||(t[41]=(0,o.Lk)("label",{class:"block text-sm text-gray-400 mb-1"},"Due Date",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.newGoal.dueDate=e),type:"date",class:"w-full p-2 bg-gray-600 rounded border border-gray-500 focus:outline-none focus:border-blue-500"},null,512),[[a.Jo,r.newGoal.dueDate]])]),(0,o.Lk)("div",or,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>r.showAddGoalForm=!1),class:"px-3 py-1 bg-gray-600 rounded text-sm hover:bg-gray-500 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>r.addGoal&&r.addGoal(...e)),class:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition"}," Add Goal ")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",lr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.goals,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("div",rr,[(0,o.Lk)("div",null,[(0,o.Lk)("h3",nr,(0,l.v_)(e.title),1),(0,o.Lk)("p",ir,(0,l.v_)(e.dueDate),1)]),(0,o.Lk)("div",cr,[(0,o.Lk)("button",dr,[(0,o.bF)(c,{icon:["fas","edit"]})]),(0,o.Lk)("button",ur,[(0,o.bF)(c,{icon:["fas","trash"]})])])]),(0,o.Lk)("div",gr,[(0,o.Lk)("div",mr,[t[43]||(t[43]=(0,o.Lk)("span",null,"Progress",-1)),(0,o.Lk)("span",null,(0,l.v_)(e.progress)+"%",1)]),(0,o.Lk)("div",pr,[(0,o.Lk)("div",{class:"h-2 rounded-full bg-green-500",style:(0,l.Tr)({width:`${e.progress}%`})},null,4)])])])))),128))])])])]),r.showProfileModal?((0,o.uX)(),(0,o.CE)("div",fr,[(0,o.Lk)("div",br,[(0,o.Lk)("div",xr,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[44]||(t[44]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",yr,[(0,o.Lk)("div",vr,[r.user&&r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[15]||(t[15]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[16]||(t[16]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,hr)):((0,o.uX)(),(0,o.CE)("div",kr,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-2xl"})]))]),t[45]||(t[45]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",wr,[(0,o.Lk)("div",null,[t[46]||(t[46]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",Lr,(0,l.v_)(r.user?.firstName&&r.user?.lastName?`${r.user.firstName} ${r.user.lastName}`:r.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[47]||(t[47]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",Cr,(0,l.v_)(r.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[48]||(t[48]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",Er,(0,l.v_)(r.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",Sr,[(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>r.closeProfileModal&&r.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0)])}var Nr={name:"ProgressView",setup(){const e=(0,g.rd)(),{showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:l,closeNotifications:r,markAsRead:n,markAllAsRead:i}=ws(),{user:c,loading:d,loadUserProfile:u}=Ls(),m=(0,oe.KR)(null),p=(0,oe.KR)(!1),f=(0,oe.KR)(!0),b=(0,oe.KR)("connected"),x=(0,oe.KR)(new Date),y=(0,o.EW)((()=>{if(!m.value?.data?.data)return console.log("ProgressView: No progress data available"),{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0};const e=m.value.data.data,t={totalNotes:e.totalNotes||0,notesThisWeek:e.notesThisWeek||0,studyHours:e.studyHours||0,studyHoursThisWeek:e.studyHoursThisWeek||0,quizAverage:e.quizAverage||0,quizzesCompleted:e.quizzesCompleted||0};return console.log("ProgressView stats:",t),t})),v=(0,o.EW)((()=>m.value?.data?.data?.weeklyActivity||[])),h=(0,o.EW)((()=>m.value?.data?.data?.subjects||[])),k=(0,o.EW)((()=>m.value?.data?.data?.recentActivity||[])),w=c,L=(0,oe.KR)([{title:"Complete Biology Chapter 5-8",dueDate:"Due in 5 days",progress:65},{title:"Prepare for History Midterm",dueDate:"Due in 2 weeks",progress:30},{title:"Review Math Formulas",dueDate:"Due tomorrow",progress:90}]),C=(0,oe.KR)(!1),E=(0,oe.KR)({title:"",dueDate:""}),S=(0,oe.KR)(!1),_=(0,oe.KR)(!1),N=async()=>{try{p.value=!0;const e=await ne.getDashboardStats();m.value=e.data,console.log("Progress data fetched successfully:",e.data)}catch(e){console.error("Error fetching progress data:",e)}finally{p.value=!1}},F=async()=>{await N()},T=async()=>{await u()};(0,o.sV)((async()=>{await Promise.all([N(),u()]),console.log("ProgressView mounted and data loaded")}));const z=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},A=e=>{const t=e.target.src;console.error("Profile picture failed to load:",t),console.error("Image naturalWidth:",e.target.naturalWidth),console.error("Image naturalHeight:",e.target.naturalHeight);const s=w.value||{};console.error("User profile picture path:",s.profilePicture||"null")},R=e=>{const t=e.target.src;console.log("Profile picture loaded successfully:",t),console.log("Image dimensions:",e.target.naturalWidth,"x",e.target.naturalHeight)},P=()=>{console.log("=== DEBUG STATS ==="),console.log("Raw progress response:",m.value),console.log("Computed stats:",y.value),console.log("Loading state:",p.value),console.log("Connection status:",f.value),console.log("===================")},I=async()=>{try{if(!E.value.title.trim()||!E.value.dueDate)return void alert("Please fill in all fields");const e=new Date(E.value.dueDate),t=new Date,s=e-t,a=Math.ceil(s/864e5);let o;o=0===a?"Due today":1===a?"Due tomorrow":a<7?`Due in ${a} days`:a<14?"Due in 1 week":`Due in ${Math.floor(a/7)} weeks`,L.value.push({title:E.value.title,dueDate:o,progress:0}),E.value={title:"",dueDate:""},C.value=!1}catch(e){console.error("Error adding goal:",e),alert("Failed to add goal. Please try again.")}},D=()=>{S.value=!S.value},O=()=>{S.value=!1},U=()=>{_.value=!0,S.value=!1},Q=()=>{_.value=!1},q=async()=>{try{e.push("/login")}catch(t){console.error("Error logging out:",t)}};return{stats:y,weeklyActivity:v,subjects:h,recentActivity:k,goals:L,user:w,showAddGoalForm:C,newGoal:E,showUserMenu:S,showProfileModal:_,loadingProgress:p,loadingUser:d,isConnected:f,connectionStatus:b,lastSync:x,addGoal:I,debugStats:P,refreshProgress:F,refreshUser:T,getProfilePictureUrl:z,handleImageError:A,handleImageLoad:R,toggleUserMenu:D,closeUserMenu:O,openProfileModal:U,closeProfileModal:Q,logout:q,showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:l,closeNotifications:r,markAsRead:n,markAllAsRead:i}}};const Fr=(0,c.A)(Nr,[["render",_r]]);var Tr=Fr;const zr={class:"flex items-center space-x-4"},Ar={class:"relative"},Rr={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Pr={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},Ir={key:0},Dr=["onClick"],Or={class:"flex items-start space-x-3"},Ur={class:"flex-shrink-0 mt-1"},Qr={class:"flex-grow"},qr={class:"flex items-start justify-between"},Xr={class:"flex-grow"},jr={class:"flex items-center space-x-2 ml-2"},Mr={key:0,class:"flex-shrink-0"},Kr=["onClick"],Wr={key:0,class:"mt-3 flex space-x-2"},Gr=["onClick"],$r={key:1,class:"mt-2 flex items-center"},Vr={key:2,class:"mt-2 flex items-center"},Hr={class:"flex items-center space-x-2"},Jr=["src"],Br={class:"flex flex-grow"},Yr={class:"space-y-2"},Zr={key:1,class:"space-y-6"},en={class:"flex flex-col items-center mb-6"},tn=["src"],sn={class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition cursor-pointer"},an={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},on={class:"mt-4"},ln=["disabled"],rn={key:0},nn={key:1},cn={class:"space-y-4"},dn={class:"mt-4"},un=["disabled"],gn={key:0},mn={key:1},pn={key:2,class:"space-y-6"},fn={class:"flex space-x-4"},bn={class:"flex items-center space-x-4"},xn=["value"],yn={key:3,class:"space-y-6"},vn={class:"space-y-4"},hn={class:"flex items-center justify-between"},kn={class:"flex items-center justify-between"},wn={class:"flex items-center justify-between"},Ln={class:"mt-6"},Cn={class:"space-y-4"},En={class:"flex items-center justify-between"},Sn={class:"flex items-center justify-between"},_n={key:4,class:"space-y-6"},Nn={class:"space-y-4"},Fn={class:"mt-4"},Tn={class:"space-y-4"},zn={key:0},An={class:"mt-4"};function Rn(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,l.C4)(["min-h-screen flex flex-col transition-colors duration-300",r.themeClasses.main])},[(0,o.Lk)("header",{class:(0,l.C4)(["p-4 flex justify-between items-center transition-colors duration-300",r.themeClasses.header])},[t[41]||(t[41]=(0,o.Lk)("div",{class:"text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",zr,[(0,o.Lk)("div",Ar,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggleNotifications&&r.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),r.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",Rr,(0,l.v_)(r.unreadNotifications),1)):(0,o.Q3)("",!0)]),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",Pr,[t[40]||(t[40]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Ir,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,l.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>r.markAsRead(s)},[(0,o.Lk)("div",Or,[(0,o.Lk)("div",Ur,[(0,o.Lk)("div",{class:(0,l.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor||"bg-blue-500"])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",Qr,[(0,o.Lk)("div",qr,[(0,o.Lk)("div",Xr,[(0,o.Lk)("p",{class:(0,l.C4)(["text-sm font-medium",r.themeClasses.text])},(0,l.v_)(s.title),3),(0,o.Lk)("p",{class:(0,l.C4)(["text-xs mt-1",r.themeClasses.secondaryText])},(0,l.v_)(s.message),3),(0,o.Lk)("p",{class:(0,l.C4)(["text-xs mt-2",r.themeClasses.secondaryText])},(0,l.v_)(s.time),3)]),(0,o.Lk)("div",jr,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Mr,t[36]||(t[36]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Kr)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Wr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,r)=>((0,o.uX)(),(0,o.CE)("button",{key:r,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,l.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,l.v_)(t.label),11,Gr)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",$r,t[37]||(t[37]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",Vr,t[38]||(t[38]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,Dr)))),128))])):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,l.C4)(["p-4 text-center",r.themeClasses.secondaryText])},[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[39]||(t[39]=(0,o.Lk)("p",null,"No notifications yet",-1))],2)),r.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",{key:2,class:(0,l.C4)(["p-3 border-t","dark"===r.store.getters["app/getCurrentTheme"]?"border-gray-700":"border-gray-200"])},[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.markAllAsRead&&r.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")],2)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),r.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>r.closeNotifications&&r.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Hr,[(0,o.Lk)("div",{class:(0,l.C4)(["w-8 h-8 rounded-full overflow-hidden","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,Jr)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,l.C4)(["w-full h-full flex items-center justify-center","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[(0,o.bF)(c,{icon:["fas","user"],class:(0,l.C4)(["text-sm","dark"===r.store.getters["app/getCurrentTheme"]?"text-white":"text-gray-700"])},null,8,["class"])],2))],2),(0,o.Lk)("span",{class:(0,l.C4)(["text-sm",r.themeClasses.secondaryText])},(0,l.v_)(r.user.name),3)])])],2),(0,o.Lk)("div",Br,[(0,o.Lk)("aside",{class:(0,l.C4)(["w-64 p-4 transition-colors duration-300",r.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",Yr,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===r.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[42]||(t[42]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[42]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===r.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[43]||(t[43]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[43]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===r.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[44]||(t[44]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[44]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===r.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[45]||(t[45]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[45]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:(0,l.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[46]||(t[46]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[46]},8,["class"])])])])],2),(0,o.Lk)("main",{class:(0,l.C4)(["flex-grow p-6 transition-colors duration-300",r.themeClasses.mainContent])},[(0,o.Lk)("h1",{class:(0,l.C4)(["font-bold mb-6 transition-all duration-300",[r.themeClasses.text,r.fontSizeClasses.heading]])},"Settings",2),r.message?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,l.C4)(["mb-6 p-4 rounded-lg","success"===r.messageType?"bg-green-800 text-green-200":"bg-red-800 text-red-200"])},[(0,o.bF)(c,{icon:"success"===r.messageType?["fas","check-circle"]:["fas","triangle-exclamation"],class:"mr-2"},null,8,["icon"]),(0,o.eW)(" "+(0,l.v_)(r.message),1)],2)):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,l.C4)(["flex mb-6 transition-colors duration-300","dark"===r.store.getters["app/getCurrentTheme"]?"border-gray-700":"border-gray-200"])},[(0,o.Lk)("button",{onClick:t[5]||(t[5]=e=>r.activeTab="account"),class:(0,l.C4)(["px-4 py-2 font-medium","account"===r.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Account ",2),(0,o.Lk)("button",{onClick:t[6]||(t[6]=e=>r.activeTab="appearance"),class:(0,l.C4)(["px-4 py-2 font-medium","appearance"===r.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Appearance ",2),(0,o.Lk)("button",{onClick:t[7]||(t[7]=e=>r.activeTab="notifications"),class:(0,l.C4)(["px-4 py-2 font-medium","notifications"===r.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Notifications ",2),(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>r.activeTab="api"),class:(0,l.C4)(["px-4 py-2 font-medium","api"===r.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," API Settings ",2)],2),"account"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",Zr,[(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"Profile Picture",2),(0,o.Lk)("div",en,[(0,o.Lk)("div",{class:(0,l.C4)(["relative w-24 h-24 rounded-full overflow-hidden mb-3","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[r.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:r.user.profilePicture,src:r.getProfilePictureUrl(r.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[9]||(t[9]=(...e)=>r.handleImageError&&r.handleImageError(...e)),onLoad:t[10]||(t[10]=(...e)=>r.handleImageLoad&&r.handleImageLoad(...e))},null,40,tn)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,l.C4)(["w-full h-full flex items-center justify-center","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[(0,o.bF)(c,{icon:["fas","user"],class:(0,l.C4)(["text-2xl","dark"===r.store.getters["app/getCurrentTheme"]?"text-white":"text-gray-700"])},null,8,["class"])],2)),(0,o.Lk)("label",sn,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-white"}),(0,o.Lk)("input",{type:"file",accept:"image/*,.pdf,application/pdf",onChange:t[11]||(t[11]=(...e)=>r.handleProfilePictureUpload&&r.handleProfilePictureUpload(...e)),class:"hidden"},null,32)])],2),(0,o.Lk)("p",{class:(0,l.C4)(["text-sm mb-2",r.themeClasses.secondaryText])},"Click to change profile picture",2),(0,o.Lk)("p",{class:(0,l.C4)(["text-xs",r.themeClasses.secondaryText])},"JPEG, PNG, GIF, WebP, PDF (max 5MB)",2)])],2),(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"Profile Information",2),(0,o.Lk)("div",an,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"Full Name",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.user.name=e),class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},null,2),[[a.Jo,r.user.name]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"Email Address",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>r.user.email=e),type:"email",class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},null,2),[[a.Jo,r.user.email]])])]),(0,o.Lk)("div",on,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>r.saveProfile&&r.saveProfile(...e)),disabled:r.isLoading,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",rn,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[47]||(t[47]=(0,o.eW)(" Saving... "))])):((0,o.uX)(),(0,o.CE)("span",nn,"Save Changes"))],8,ln)])],2),(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"Change Password",2),(0,o.Lk)("div",cn,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"Current Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>r.passwords.current=e),type:"password",class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},null,2),[[a.Jo,r.passwords.current]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"New Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>r.passwords.new=e),type:"password",class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},null,2),[[a.Jo,r.passwords.new]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"Confirm New Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>r.passwords.confirm=e),type:"password",class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},null,2),[[a.Jo,r.passwords.confirm]])])]),(0,o.Lk)("div",dn,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.updatePassword&&r.updatePassword(...e)),disabled:r.isLoading,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50"},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",gn,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[48]||(t[48]=(0,o.eW)(" Updating... "))])):((0,o.uX)(),(0,o.CE)("span",mn,"Update Password"))],8,un)])],2),(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"Danger Zone",2),(0,o.Lk)("p",{class:(0,l.C4)(["mb-4",r.themeClasses.secondaryText])},"Once you delete your account, there is no going back. Please be certain.",2),(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>r.deleteAccount&&r.deleteAccount(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","times"],class:"mr-2"}),t[49]||(t[49]=(0,o.eW)(" Delete Account "))])],2)])):(0,o.Q3)("",!0),"appearance"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",pn,[(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6 transition-colors duration-300",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4 transition-all duration-300",[r.themeClasses.text,r.fontSizeClasses.body]])},"Theme",2),(0,o.Lk)("div",fn,[(0,o.Lk)("div",{onClick:t[20]||(t[20]=e=>r.store.dispatch("app/setTheme","dark")),class:(0,l.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","dark"===r.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},[(0,o.Lk)("div",{class:(0,l.C4)(["h-full rounded-lg p-3","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-900":"bg-gray-700"])},[(0,o.Lk)("div",{class:(0,l.C4)(["h-4 w-full rounded mb-2","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-800":"bg-gray-700"])},null,2),(0,o.Lk)("div",{class:(0,l.C4)(["h-4 w-3/4 rounded","dark"===r.store.getters["app/getCurrentTheme"]?"bg-gray-800":"bg-gray-700"])},null,2),(0,o.Lk)("div",{class:(0,l.C4)(["mt-4 text-xs text-center","dark"===r.store.getters["app/getCurrentTheme"]?"text-gray-400":"text-gray-600"])},"Dark",2)],2)],2),(0,o.Lk)("div",{onClick:t[21]||(t[21]=e=>r.store.dispatch("app/setTheme","light")),class:(0,l.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","light"===r.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},t[50]||(t[50]=[(0,o.Lk)("div",{class:"h-full bg-gray-100 rounded-lg p-3"},[(0,o.Lk)("div",{class:"h-4 w-full bg-white rounded mb-2"}),(0,o.Lk)("div",{class:"h-4 w-3/4 bg-white rounded"}),(0,o.Lk)("div",{class:"mt-4 text-xs text-center text-gray-600"},"Light")],-1)]),2),(0,o.Lk)("div",{onClick:t[22]||(t[22]=e=>r.store.dispatch("app/setTheme","system")),class:(0,l.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","system"===r.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},t[51]||(t[51]=[(0,o.Lk)("div",{class:"h-full bg-gradient-to-r from-gray-900 to-gray-100 rounded-lg p-3 flex items-center justify-center"},[(0,o.Lk)("div",{class:"text-xs text-center"},"System")],-1)]),2)])],2),(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4 transition-all duration-300",[r.themeClasses.text,r.fontSizeClasses.body]])},"Font Size",2),(0,o.Lk)("div",bn,[(0,o.Lk)("span",{class:(0,l.C4)(["transition-all duration-300",[r.themeClasses.secondaryText,r.fontSizeClasses.small]])},"A",2),(0,o.Lk)("input",{value:r.store.getters["app/getFontSize"],onInput:t[23]||(t[23]=e=>r.store.dispatch("app/setFontSize",parseInt(e.target.value))),type:"range",min:"12",max:"20",class:(0,l.C4)(["w-full h-2 rounded-lg appearance-none cursor-pointer transition-colors duration-300",r.themeClasses.button])},null,42,xn),(0,o.Lk)("span",{class:(0,l.C4)(["transition-all duration-300",[r.themeClasses.text,r.fontSizeClasses.body]])},"A",2)]),(0,o.Lk)("p",{class:(0,l.C4)(["mt-2 transition-all duration-300",[r.themeClasses.secondaryText,r.fontSizeClasses.label]])},"Current font size: "+(0,l.v_)(r.store.getters["app/getFontSize"])+"px",3)],2)])):(0,o.Q3)("",!0),"notifications"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",yn,[(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"Email Notifications",2),(0,o.Lk)("div",vn,[(0,o.Lk)("div",hn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,l.C4)(["font-medium",r.themeClasses.text])},"Weekly Summary",2),(0,o.Lk)("p",{class:(0,l.C4)(["text-sm",r.themeClasses.secondaryText])},"Receive a weekly summary of your study progress",2)]),(0,o.Lk)("button",{onClick:t[24]||(t[24]=e=>r.settings.notifications.weeklySummary=!r.settings.notifications.weeklySummary),class:(0,l.C4)([r.settings.notifications.weeklySummary?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,l.v_)(r.settings.notifications.weeklySummary?"ON":"OFF"),3)]),(0,o.Lk)("div",kn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,l.C4)(["font-medium",r.themeClasses.text])},"Study Reminders",2),(0,o.Lk)("p",{class:(0,l.C4)(["text-sm",r.themeClasses.secondaryText])},"Receive reminders for your study goals",2)]),(0,o.Lk)("button",{onClick:t[25]||(t[25]=e=>r.settings.notifications.studyReminders=!r.settings.notifications.studyReminders),class:(0,l.C4)([r.settings.notifications.studyReminders?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,l.v_)(r.settings.notifications.studyReminders?"ON":"OFF"),3)]),(0,o.Lk)("div",wn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,l.C4)(["font-medium",r.themeClasses.text])},"New Features",2),(0,o.Lk)("p",{class:(0,l.C4)(["text-sm",r.themeClasses.secondaryText])},"Receive updates about new features and improvements",2)]),(0,o.Lk)("button",{onClick:t[26]||(t[26]=e=>r.settings.notifications.newFeatures=!r.settings.notifications.newFeatures),class:(0,l.C4)([r.settings.notifications.newFeatures?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,l.v_)(r.settings.notifications.newFeatures?"ON":"OFF"),3)])]),(0,o.Lk)("div",Ln,[(0,o.Lk)("button",{onClick:t[27]||(t[27]=(...e)=>r.saveNotificationSettings&&r.saveNotificationSettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),t[52]||(t[52]=(0,o.eW)(" Save Notification Settings "))])])],2),(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"In-App Notifications",2),(0,o.Lk)("div",Cn,[(0,o.Lk)("div",En,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,l.C4)(["font-medium",r.themeClasses.text])},"Quiz Results",2),(0,o.Lk)("p",{class:(0,l.C4)(["text-sm",r.themeClasses.secondaryText])},"Show notifications for quiz results",2)]),(0,o.Lk)("button",{onClick:t[28]||(t[28]=e=>r.settings.notifications.quizResults=!r.settings.notifications.quizResults),class:(0,l.C4)([r.settings.notifications.quizResults?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,l.v_)(r.settings.notifications.quizResults?"ON":"OFF"),3)]),(0,o.Lk)("div",Sn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,l.C4)(["font-medium",r.themeClasses.text])},"Goal Progress",2),(0,o.Lk)("p",{class:(0,l.C4)(["text-sm",r.themeClasses.secondaryText])},"Show notifications for goal progress updates",2)]),(0,o.Lk)("button",{onClick:t[29]||(t[29]=e=>r.settings.notifications.goalProgress=!r.settings.notifications.goalProgress),class:(0,l.C4)([r.settings.notifications.goalProgress?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,l.v_)(r.settings.notifications.goalProgress?"ON":"OFF"),3)])])],2)])):(0,o.Q3)("",!0),"api"===r.activeTab?((0,o.uX)(),(0,o.CE)("div",_n,[(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"OpenAI API Configuration",2),(0,o.Lk)("div",Nn,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"API Key",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[30]||(t[30]=e=>r.settings.api.openaiKey=e),type:"password",class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input]),placeholder:"sk-..."},null,2),[[a.Jo,r.settings.api.openaiKey]]),(0,o.Lk)("p",{class:(0,l.C4)(["mt-1 text-xs",r.themeClasses.secondaryText])},"Your OpenAI API key is stored securely and used for AI-powered features.",2)]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"Model",2),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[31]||(t[31]=e=>r.settings.api.openaiModel=e),class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},t[53]||(t[53]=[(0,o.Lk)("option",{value:"gpt-4"},"GPT-4 (Most Capable)",-1),(0,o.Lk)("option",{value:"gpt-3.5-turbo"},"GPT-3.5 Turbo (Faster)",-1)]),2),[[a.u1,r.settings.api.openaiModel]])])]),(0,o.Lk)("div",Fn,[(0,o.Lk)("button",{onClick:t[32]||(t[32]=(...e)=>r.saveAPISettings&&r.saveAPISettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),t[54]||(t[54]=(0,o.eW)(" Save API Settings "))])])],2),(0,o.Lk)("div",{class:(0,l.C4)(["rounded-lg p-6",r.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,l.C4)(["font-semibold mb-4",[r.themeClasses.text,r.fontSizeClasses.body]])},"OCR Configuration",2),(0,o.Lk)("div",Tn,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"OCR Engine",2),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[33]||(t[33]=e=>r.settings.api.ocrEngine=e),class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},t[55]||(t[55]=[(0,o.Lk)("option",{value:"tesseract"},"Tesseract (Local)",-1),(0,o.Lk)("option",{value:"google"},"Google Cloud Vision (Cloud)",-1),(0,o.Lk)("option",{value:"azure"},"Azure Computer Vision (Cloud)",-1)]),2),[[a.u1,r.settings.api.ocrEngine]])]),"tesseract"!==r.settings.api.ocrEngine?((0,o.uX)(),(0,o.CE)("div",zn,[(0,o.Lk)("label",{class:(0,l.C4)(["block text-sm mb-1",r.themeClasses.secondaryText])},"API Key",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[34]||(t[34]=e=>r.settings.api.ocrKey=e),type:"password",class:(0,l.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",r.themeClasses.input])},null,2),[[a.Jo,r.settings.api.ocrKey]])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",An,[(0,o.Lk)("button",{onClick:t[35]||(t[35]=(...e)=>r.saveOCRSettings&&r.saveOCRSettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),t[56]||(t[56]=(0,o.eW)(" Save OCR Settings "))])])],2)])):(0,o.Q3)("",!0)],2)])],2)}var Pn={name:"SettingsView",setup(){const e=(0,n.Pj)(),{showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:l,closeNotifications:r,markAsRead:i,markAllAsRead:c}=ws(),d=(0,oe.KR)("account"),u=(0,oe.KR)({id:null,name:"",email:"",profilePicture:null}),g=(0,oe.KR)({current:"",new:"",confirm:""}),m=(0,oe.KR)(!1),p=(0,oe.KR)(""),f=(0,oe.KR)(""),b=(0,oe.Kh)({get theme(){return e.getters["app/getTheme"]},set theme(t){e.dispatch("app/setTheme",t)},get fontSize(){return e.getters["app/getFontSize"]},set fontSize(t){e.dispatch("app/setFontSize",t)},notifications:{weeklySummary:!1,studyReminders:!1,newFeatures:!1,quizResults:!1,goalProgress:!1},api:{openaiKey:"",openaiModel:"gpt-3.5-turbo",ocrEngine:"tesseract",ocrKey:""}}),x=(0,o.EW)((()=>e.getters["app/getThemeClasses"])),y=(0,o.EW)((()=>e.getters["app/getFontSizeClasses"])),v=async()=>{try{const e=await ne.getSettings();e.data.success&&Object.assign(b,e.data.data)}catch(e){const t=localStorage.getItem("smartscribe_settings");if(t){const e=JSON.parse(t);Object.assign(b,e)}}},h=async()=>{try{const e=await ne.updateSettings(b);e.data.success}catch(e){}localStorage.setItem("smartscribe_settings",JSON.stringify(b))},k=(e,t="success")=>{p.value=e,f.value=t,setTimeout((()=>{p.value="",f.value=""}),3e3)},w=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},L=()=>{},C=()=>{},E=async()=>{try{m.value=!0;const e={name:u.value.name,email:u.value.email},t=await ne.updateProfile(e);t.data.success?(h(),k("Profile updated successfully!"),await z()):k("Failed to update profile: "+(t.data.error||"Unknown error"),"error")}catch(e){k("Failed to update profile","error")}finally{m.value=!1}},S=async()=>{if(g.value.new===g.value.confirm)if(g.value.new.length<6)k("Password must be at least 6 characters","error");else try{m.value=!0,await new Promise((e=>setTimeout(e,1e3))),g.value={current:"",new:"",confirm:""},k("Password updated successfully!")}catch(e){k("Failed to update password","error")}finally{m.value=!1}else k("New passwords do not match","error")},_=()=>{h(),k("Notification settings saved!")},N=()=>{h(),k("API settings saved!")},F=()=>{h(),k("OCR settings saved!")},T=()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&k("Account deletion is not implemented in demo mode","error")},z=async()=>{try{const e=await ne.getUser();e.data.success&&(u.value={id:e.data.user.id,name:e.data.user.name||"User",email:e.data.user.email||"user@example.com",profilePicture:e.data.user.profile_picture||null})}catch(e){}},A=async e=>{try{const t=new FormData;t.append("profile_picture",e);const s=await ne.uploadProfilePicture(t);return s.data.success?(u.value.profilePicture=s.data.profile_picture,await z(),{success:!0,message:s.data.message}):{success:!1,message:s.data.error}}catch(t){return{success:!1,message:"Network error"}}},R=async e=>{const t=e.target.files[0];if(!t)return;const s=["image/jpeg","image/png","image/gif","image/webp","application/pdf"];if(!s.includes(t.type))return void k("Please select a valid image file (JPEG, PNG, GIF, WebP) or PDF file","error");const a=5242880;if(t.size>a)k("File size must be less than 5MB","error");else{try{const e=await A(t);e.success?(k(e.message),await z()):k("Upload failed: "+e.message,"error")}catch(o){k("Upload failed: Network error","error")}e.target.value=""}};return(0,o.sV)((async()=>{await Promise.all([v(),z()])})),{activeTab:d,user:u,passwords:g,settings:b,themeClasses:x,fontSizeClasses:y,isLoading:m,message:p,messageType:f,saveProfile:E,updatePassword:S,saveNotificationSettings:_,saveAPISettings:N,saveOCRSettings:F,deleteAccount:T,fetchUserProfile:z,uploadProfilePicture:A,handleProfilePictureUpload:R,getProfilePictureUrl:w,handleImageError:L,handleImageLoad:C,showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:l,closeNotifications:r,markAsRead:i,markAllAsRead:c,store:e}}};const In=(0,c.A)(Pn,[["render",Rn]]);var Dn=In;const On={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},Un={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},Qn={class:"flex items-center space-x-2 sm:space-x-4"},qn={class:"text-gray-400 hover:text-white p-2"},Xn={class:"flex flex-grow"},jn={class:"mt-16 md:mt-0"},Mn={class:"space-y-2"},Kn={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},Wn={key:0,class:"flex justify-center items-center h-full"},Gn={key:1},$n={class:"flex flex-col justify-between items-start mb-6 space-y-4",style:{"flex-direction":"column !important"}},Vn={class:"text-xl sm:text-2xl font-bold"},Hn={class:"text-gray-400 text-xs sm:text-sm"},Jn={class:"flex space-x-2 sm:space-x-3 w-full sm:w-auto"},Bn={key:0,class:"absolute right-0 mt-2 w-48 sm:w-56 bg-gray-800 rounded-md shadow-lg py-1 z-10 max-w-full"},Yn={class:"grid grid-cols-1 gap-4 sm:gap-6 mb-6",style:{"grid-template-columns":"1fr"}},Zn={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},ei={class:"bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 h-64 sm:h-96 overflow-y-auto overflow-x-hidden text-sm sm:text-base break-words"},ti={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},si={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-2 sm:space-y-0"},ai=["disabled"],oi={class:"bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 h-64 sm:h-96 overflow-y-auto overflow-x-hidden text-sm sm:text-base break-words"},li={class:"bg-gray-800 rounded-lg p-4 sm:p-6 mb-6"},ri={class:"flex flex-wrap gap-2"},ni={key:2,class:"flex flex-col items-center justify-center h-full"},ii={class:"text-gray-400 mb-4"},ci={key:3,class:"flex flex-col items-center justify-center h-full"};function di(e,t,s,a,r,n){const i=(0,o.g2)("font-awesome-icon"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",On,[(0,o.Lk)("header",Un,[t[14]||(t[14]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Qn,[(0,o.Lk)("button",qn,[(0,o.bF)(i,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[13]||(t[13]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",Xn,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>a.sidebarOpen=!a.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[(0,o.bF)(i,{icon:["fas",a.sidebarOpen?"times":"bars"]},null,8,["icon"])]),a.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>a.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,l.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",a.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",jn,[(0,o.Lk)("ul",Mn,[(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/dashboard",onClick:t[2]||(t[2]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","home"]}),t[15]||(t[15]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[15]})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/notes",onClick:t[3]||(t[3]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","book"]}),t[16]||(t[16]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[16]})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:`/quizzes/${e.$route.params.id}`,onClick:t[4]||(t[4]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","book"]}),t[17]||(t[17]=(0,o.Lk)("span",null,"Quiz",-1))])),_:1,__:[17]},8,["to"])]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/progress",onClick:t[5]||(t[5]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","chart-line"]}),t[18]||(t[18]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[18]})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/settings",onClick:t[6]||(t[6]=e=>a.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","cog"]}),t[19]||(t[19]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[19]})])])])],2),(0,o.Lk)("main",Kn,[a.isLoading?((0,o.uX)(),(0,o.CE)("div",Wn,[(0,o.bF)(i,{icon:["fas","spinner"],spin:"",class:"text-3xl sm:text-4xl text-blue-500"})])):a.note&&!a.error?((0,o.uX)(),(0,o.CE)("div",Gn,[(0,o.Lk)("div",$n,[(0,o.Lk)("div",null,[(0,o.Lk)("h1",Vn,(0,l.v_)(a.note.title),1),(0,o.Lk)("p",Hn,"Last edited: "+(0,l.v_)(a.note.lastEdited),1)]),(0,o.Lk)("div",Jn,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>a.editNote&&a.editNote(...e)),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(i,{icon:["fas","edit"],class:"mr-2"}),t[20]||(t[20]=(0,o.eW)(" Edit "))]),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>a.showExportOptions=!a.showExportOptions),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gray-700 rounded-md hover:bg-gray-600 transition relative"},[(0,o.bF)(i,{icon:["fas","file-export"],class:"mr-2"}),t[24]||(t[24]=(0,o.eW)(" Export ")),a.showExportOptions?((0,o.uX)(),(0,o.CE)("div",Bn,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>a.exportNote("pdf")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(i,{icon:["fas","file-code"],class:"mr-2"}),t[21]||(t[21]=(0,o.eW)(" HTML for PDF conversion "))]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>a.exportNote("word")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(i,{icon:["fas","file-word"],class:"mr-2"}),t[22]||(t[22]=(0,o.eW)(" Word Document (.doc) "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>a.exportNote("text")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(i,{icon:["fas","file-alt"],class:"mr-2"}),t[23]||(t[23]=(0,o.eW)(" Plain Text (.txt) "))])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Yn,[(0,o.Lk)("div",Zn,[t[25]||(t[25]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Original Text",-1)),(0,o.Lk)("div",ei,(0,l.v_)(a.note.originalText),1)]),(0,o.Lk)("div",ti,[(0,o.Lk)("div",si,[t[26]||(t[26]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"AI Summary",-1)),(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>a.generateSummary&&a.generateSummary(...e)),class:"w-full sm:w-auto px-3 py-2 sm:px-3 sm:py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition",disabled:a.isGeneratingSummary},[(0,o.bF)(i,{icon:["fas","sync-alt"],class:"mr-1",spin:a.generatingSummary},null,8,["spin"]),(0,o.eW)(" "+(0,l.v_)(a.generatingSummary?"Generating...":"Generate Summary"),1)],8,ai)]),(0,o.Lk)("div",oi,(0,l.v_)(a.note.summary||'No summary available. Click "Generate Summary" to create one.'),1)])]),(0,o.Lk)("div",li,[t[27]||(t[27]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Keywords & Tags",-1)),(0,o.Lk)("div",ri,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.note.keywords,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:`keyword-${t}`,class:"px-2 py-1 sm:px-3 sm:py-1 bg-blue-600 rounded-full text-xs sm:text-sm"},(0,l.v_)(e),1)))),128))])])])):a.error?((0,o.uX)(),(0,o.CE)("div",ni,[(0,o.bF)(i,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[29]||(t[29]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Note",-1)),(0,o.Lk)("p",ii,(0,l.v_)(a.error),1),(0,o.bF)(c,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[28]||(t[28]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[28]})])):((0,o.uX)(),(0,o.CE)("div",ci,[(0,o.bF)(i,{icon:["fas","exclamation-circle"],class:"text-4xl text-gray-400 mb-4"}),t[31]||(t[31]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Note Not Found",-1)),t[32]||(t[32]=(0,o.Lk)("p",{class:"text-gray-400 mb-4"},"The note you're looking for doesn't exist or has been deleted.",-1)),(0,o.bF)(c,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[30]||(t[30]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[30]})]))])])])}var ui={name:"NoteDetailView",setup(){const e=(0,g.rd)(),t=(0,g.lq)(),s=(0,oe.KR)(null),a=(0,oe.KR)(!0),l=(0,oe.KR)(!1),r=(0,oe.KR)(null),n=(0,oe.KR)(!1),i=(0,oe.KR)(!1),c=(0,o.EW)((()=>n.value));(0,o.sV)((async()=>{try{const e=parseInt(t.params.id);if(!e||isNaN(e))return r.value="Invalid note ID",void(a.value=!1);const o=await ne.getNote(e);if(o.data.success&&o.data.data){const e=o.data.data;s.value={id:e.id,title:e.title||"Untitled Note",lastEdited:e.last_edited||"Unknown",originalText:e.original_text||"No content available",summary:e.summary||"No summary available",keywords:e.keywords?e.keywords.split(",").map((e=>e.trim())):[]}}else r.value=o.data?.error||"Note not found"}catch(r){console.error("Error loading note:",r),r.value="Failed to load note. Please try again."}finally{a.value=!1}}));const d=()=>{s.value&&e.push(`/notes/edit?id=${s.value.id}`)},u=async e=>{if(s.value&&s.value.id)try{console.log(`Exporting note ${s.value.id} as ${e}...`),l.value=!1;const t="word"===e?"docx":"text"===e?"txt":e,a="pdf"===e?"html":"word"===e?"doc":"text"===e?"txt":e;console.log(`Making API call to export with backendFormat: ${t}`);const o=await ne.exportNote(s.value.id,t);console.log("API response received:",o),console.log("Response data type:",typeof o.data),console.log("Response data length:",o.data?o.data.length:"N/A");const r="pdf"===t?"text/html":"docx"===t?"application/msword":"text/plain";console.log(`Creating blob with MIME type: ${r}`);const n=new Blob([o.data],{type:r});console.log("Blob created:",n),console.log("Blob size:",n.size);const i=window.URL.createObjectURL(n);console.log("Blob URL created:",i);const c=document.createElement("a");c.href=i;const d=s.value.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),u="pdf"===e?`${d}_for_pdf.${a}`:`${d}_export.${a}`;c.download=u,console.log("Download filename:",u),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(i),console.log(`Note exported as ${e} successfully`),alert(`File exported successfully! Check your downloads folder for "${u}"`)}catch(r){console.error("Export error:",r),console.error("Error details:",r.response||r.message),alert(`Failed to export note as ${e.toUpperCase()}. Please try again. Error: ${r.message}`)}else alert("No note to export")},m=async()=>{if(s.value&&!n.value){n.value=!0;try{console.log("Starting summary generation for note:",s.value.id);const e=await ne.createSummary(s.value.id,{length:"auto"});if(console.log("Summary API response:",e.data),e.data.success){console.log("Summary created successfully, refreshing note data...");const e=await ne.getNote(s.value.id);if(console.log("Note refresh response:",e.data),e.data.success&&e.data.data){const t=e.data.data.summary;console.log("New summary from server:",t),s.value.summary=t,console.log("Updated note summary in UI:",s.value.summary)}else console.error("Failed to refresh note data:",e.data);alert("Summary generated successfully!")}else console.error("Summary generation failed:",e.data.error),alert("Failed to generate summary: "+(e.data.error||"Unknown error"))}catch(r){console.error("Error generating summary:",r),alert("Failed to generate summary. Please try again.")}finally{n.value=!1}}};return{note:s,isLoading:a,error:r,showExportOptions:l,generatingSummary:n,isGeneratingSummary:c,sidebarOpen:i,editNote:d,exportNote:u,generateSummary:m}}};const gi=(0,c.A)(ui,[["render",di]]);var mi=gi;const pi={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},fi={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},bi={class:"flex items-center space-x-2 sm:space-x-4"},xi={class:"text-gray-400 hover:text-white p-2"},yi={class:"flex flex-grow"},vi={class:"mt-16 md:mt-0"},hi={class:"space-y-2"},ki={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},wi={key:0,class:"flex justify-center items-center h-full"},Li={key:1,class:"flex flex-col items-center justify-center h-full"},Ci={class:"text-gray-400 mb-4"},Ei={key:2},Si={class:"flex flex-col justify-between items-start mb-6 space-y-4",style:{"flex-direction":"column !important"}},_i={class:"w-full sm:w-auto flex-1"},Ni={class:"text-xl sm:text-2xl font-bold"},Fi={class:"text-gray-400 text-xs sm:text-sm"},Ti={class:"flex space-x-2 sm:space-x-3 w-full sm:w-auto"},zi=["disabled"],Ai={key:0,class:"absolute right-0 mt-2 w-48 sm:w-56 bg-gray-800 rounded-md shadow-lg py-1 z-10 max-w-full"},Ri={class:"grid grid-cols-1 gap-4 sm:gap-6",style:{"grid-template-columns":"1fr"}},Pi={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},Ii={class:"relative"},Di={class:"absolute top-2 right-2 flex space-x-2"},Oi={title:"Edit Original Text",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},Ui={title:"Rescan",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},Qi={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},qi={class:"flex flex-col justify-between items-start mb-4 space-y-2",style:{"flex-direction":"column !important"}},Xi={class:"flex items-center space-x-2 w-full sm:w-auto"},ji={class:"relative"},Mi={class:"absolute top-2 right-2 flex space-x-2"},Ki=["disabled"],Wi={title:"Copy to Clipboard",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},Gi={class:"mt-6 bg-gray-800 rounded-lg p-4 sm:p-6"},$i={class:"flex flex-wrap gap-2 mb-4"},Vi=["onClick"],Hi={class:"mt-6 bg-gray-800 rounded-lg p-4 sm:p-6"},Ji={class:"flex flex-col space-y-3 mb-6",style:{"flex-direction":"column !important"}},Bi={class:"flex space-x-3 w-full sm:w-auto"},Yi={key:0,class:"space-y-4"},Zi={class:"font-medium mb-2"},ec={class:"space-y-2 ml-4"},tc=["id","name","value","onUpdate:modelValue"],sc=["for"],ac={class:"flex justify-between"};function oc(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",pi,[(0,o.Lk)("header",fi,[t[25]||(t[25]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",bi,[(0,o.Lk)("button",xi,[(0,o.bF)(c,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[24]||(t[24]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",yi,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>r.sidebarOpen=!r.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[(0,o.bF)(c,{icon:["fas",r.sidebarOpen?"times":"bars"]},null,8,["icon"])]),r.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>r.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,l.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",r.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",vi,[(0,o.Lk)("ul",hi,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[2]||(t[2]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[26]||(t[26]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[26]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[3]||(t[3]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[27]||(t[27]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[27]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[4]||(t[4]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[28]||(t[28]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[28]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[5]||(t[5]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[29]||(t[29]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[29]})])])])],2),(0,o.Lk)("main",ki,[r.isLoading?((0,o.uX)(),(0,o.CE)("div",wi,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-4xl text-blue-500"})])):r.error?((0,o.uX)(),(0,o.CE)("div",Li,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[31]||(t[31]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Note",-1)),(0,o.Lk)("p",Ci,(0,l.v_)(r.error),1),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[30]||(t[30]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[30]})])):((0,o.uX)(),(0,o.CE)("div",Ei,[(0,o.Lk)("div",Si,[(0,o.Lk)("div",_i,[(0,o.Lk)("h1",Ni,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.note.title=e),class:"bg-transparent border-b border-gray-700 focus:border-blue-500 focus:outline-none pb-1 w-full text-lg sm:text-xl",placeholder:"Note Title"},null,512),[[a.Jo,r.note.title]])]),(0,o.Lk)("p",Fi,"Last edited: "+(0,l.v_)(r.note.lastEdited),1)]),(0,o.Lk)("div",Ti,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.saveNote&&r.saveNote(...e)),disabled:r.isSaving,class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:r.isSaving?["fas","spinner"]:["fas","save"],spin:r.isSaving,class:"mr-2"},null,8,["icon","spin"]),(0,o.eW)(" "+(0,l.v_)(r.isSaving?"Saving...":"Save"),1)],8,zi),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>r.showExportOptions=!r.showExportOptions),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gray-700 rounded-md hover:bg-gray-600 transition relative"},[(0,o.bF)(c,{icon:["fas","file-export"],class:"mr-2"}),t[35]||(t[35]=(0,o.eW)(" Export ")),r.showExportOptions?((0,o.uX)(),(0,o.CE)("div",Ai,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>r.exportNote("pdf")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-code"],class:"mr-2"}),t[32]||(t[32]=(0,o.eW)(" HTML for PDF conversion "))]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>r.exportNote("word")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-word"],class:"mr-2"}),t[33]||(t[33]=(0,o.eW)(" Word Document (.doc) "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>r.exportNote("text")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-alt"],class:"mr-2"}),t[34]||(t[34]=(0,o.eW)(" Plain Text (.txt) "))])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Ri,[(0,o.Lk)("div",Pi,[t[36]||(t[36]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Original Text",-1)),(0,o.Lk)("div",Ii,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>r.note.originalText=e),class:"w-full h-64 sm:h-96 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base overflow-x-hidden resize-none",placeholder:"OCR extracted text will appear here"},null,512),[[a.Jo,r.note.originalText]]),(0,o.Lk)("div",Di,[(0,o.Lk)("button",Oi,[(0,o.bF)(c,{icon:["fas","edit"],class:"text-xs sm:text-sm"})]),(0,o.Lk)("button",Ui,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-xs sm:text-sm"})])])])]),(0,o.Lk)("div",Qi,[(0,o.Lk)("div",qi,[t[39]||(t[39]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"AI Summary",-1)),(0,o.Lk)("div",Xi,[t[38]||(t[38]=(0,o.Lk)("span",{class:"text-xs sm:text-sm text-gray-400"},"Length:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>r.summaryLength=e),class:"bg-gray-700 rounded px-2 py-1 sm:p-1 text-xs sm:text-sm flex-1 sm:flex-none"},t[37]||(t[37]=[(0,o.Lk)("option",{value:"auto"},"Auto",-1),(0,o.Lk)("option",{value:"short"},"Short",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1),(0,o.Lk)("option",{value:"long"},"Long",-1)]),512),[[a.u1,r.summaryLength]])])]),(0,o.Lk)("div",ji,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>r.note.summary=e),class:"w-full h-64 sm:h-96 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base overflow-x-hidden resize-none",placeholder:"AI-generated summary will appear here"},null,512),[[a.Jo,r.note.summary]]),(0,o.Lk)("div",Mi,[(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>r.generateSummary&&r.generateSummary(...e)),disabled:r.generatingSummary,title:"Regenerate Summary",class:"p-1 bg-gray-600 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"text-xs sm:text-sm",spin:r.generatingSummary},null,8,["spin"])],8,Ki),(0,o.Lk)("button",Wi,[(0,o.bF)(c,{icon:["fas","copy"],class:"text-xs sm:text-sm"})])])])])]),(0,o.Lk)("div",Gi,[t[41]||(t[41]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Keywords & Tags",-1)),(0,o.Lk)("div",$i,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.note.keywords,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:`keyword-${t}`,class:"px-2 py-1 sm:px-3 sm:py-1 bg-blue-600 rounded-full text-xs sm:text-sm flex items-center"},[(0,o.eW)((0,l.v_)(e)+" ",1),(0,o.Lk)("button",{onClick:e=>r.removeKeyword(t),class:"ml-1 sm:ml-2 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Vi)])))),128)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>r.newKeyword=e),onKeyup:t[17]||(t[17]=(0,a.jR)(((...e)=>r.addKeyword&&r.addKeyword(...e)),["enter"])),class:"px-2 py-1 sm:px-3 sm:py-1 bg-gray-700 rounded-full text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 flex-1 min-w-0",placeholder:"Add keyword..."},null,544),[[a.Jo,r.newKeyword]])]),(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.extractKeywords&&r.extractKeywords(...e)),class:"px-3 py-2 sm:px-3 sm:py-1 bg-gray-700 rounded text-sm hover:bg-gray-600 transition w-full sm:w-auto"},[(0,o.bF)(c,{icon:["fas","magic"],class:"mr-1"}),t[40]||(t[40]=(0,o.eW)(" Auto-extract Keywords "))])]),(0,o.Lk)("div",Hi,[t[45]||(t[45]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Study Quiz",-1)),t[46]||(t[46]=(0,o.Lk)("p",{class:"text-gray-400 text-sm mb-4"},"Generate quiz questions based on your notes to test your knowledge.",-1)),(0,o.Lk)("div",Ji,[(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>r.generateQuiz&&r.generateQuiz(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition w-full sm:w-auto"},[(0,o.bF)(c,{icon:["fas","question-circle"],class:"mr-2"}),t[42]||(t[42]=(0,o.eW)(" Generate Quiz "))]),(0,o.Lk)("div",Bi,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[20]||(t[20]=e=>r.quizDifficulty=e),class:"bg-gray-700 rounded px-3 py-2 flex-1 sm:flex-none text-sm"},t[43]||(t[43]=[(0,o.Lk)("option",{value:"easy"},"Easy",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1),(0,o.Lk)("option",{value:"hard"},"Hard",-1)]),512),[[a.u1,r.quizDifficulty]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[21]||(t[21]=e=>r.quizQuestionCount=e),class:"bg-gray-700 rounded px-3 py-2 flex-1 sm:flex-none text-sm"},t[44]||(t[44]=[(0,o.Lk)("option",{value:"5"},"5 Questions",-1),(0,o.Lk)("option",{value:"10"},"10 Questions",-1),(0,o.Lk)("option",{value:"15"},"15 Questions",-1)]),512),[[a.u1,r.quizQuestionCount]])])]),r.quizQuestions.length>0?((0,o.uX)(),(0,o.CE)("div",Yi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:`question-${t}`,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("p",Zi,(0,l.v_)(t+1)+". "+(0,l.v_)(e.text),1),(0,o.Lk)("div",ec,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((s,r)=>((0,o.uX)(),(0,o.CE)("div",{key:`option-${t}-${r}`,class:"flex items-center space-x-2"},[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:`q${t}-o${r}`,name:`question-${t}`,value:r,"onUpdate:modelValue":t=>e.selectedAnswer=t,class:"text-blue-600"},null,8,tc),[[a.XL,e.selectedAnswer]]),(0,o.Lk)("label",{for:`q${t}-o${r}`},(0,l.v_)(s),9,sc)])))),128))])])))),128)),(0,o.Lk)("div",ac,[(0,o.Lk)("button",{onClick:t[22]||(t[22]=(...e)=>r.checkQuizAnswers&&r.checkQuizAnswers(...e)),class:"px-4 py-2 bg-green-600 rounded-md hover:bg-green-700 transition"}," Check Answers "),(0,o.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>r.resetQuiz&&r.resetQuiz(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Reset ")])])):(0,o.Q3)("",!0)])]))])])])}var lc={name:"NoteEditorView",setup(){const e=(0,n.Pj)(),t=(0,g.rd)(),s=(0,g.lq)(),a=(0,oe.KR)({title:"",lastEdited:(new Date).toLocaleString(),originalText:"",summary:"",keywords:[]}),l=(0,oe.KR)("auto"),r=(0,oe.KR)(""),i=(0,oe.KR)("medium"),c=(0,oe.KR)("5"),d=(0,oe.KR)([]),u=(0,oe.KR)(!1),m=(0,oe.KR)(null),p=(0,oe.KR)(!1),f=(0,oe.KR)(!1),b=(0,oe.KR)(!1),x=(0,oe.KR)(!1);(0,o.sV)((async()=>{try{const t=s.query.id;if(t){u.value=!0;const e=await ne.getNote(t);if(e.data.success&&e.data.data){const t=e.data.data;a.value={id:t.id,title:t.title||"",lastEdited:t.last_edited||(new Date).toLocaleString(),originalText:t.original_text||"",summary:t.summary||"",keywords:t.keywords?t.keywords.split(",").map((e=>e.trim())):[]}}else m.value=e.data?.error||"Note not found"}else{const t=e.getters["notes/getTempImageData"];t&&(a.value.originalText=t.originalText,v())}}catch(m){console.error("Error loading note:",m),m.value="Failed to load note. Please try again."}finally{u.value=!1}}));const y=async()=>{try{const s=localStorage.getItem("user");if(!s)return alert("You must be logged in to save notes. Please log in and try again."),void t.push("/login");let o;try{o=JSON.parse(s)}catch(e){return console.error("Invalid user data in localStorage:",e),alert("Authentication data is corrupted. Please log in again."),localStorage.removeItem("user"),localStorage.removeItem("token"),void t.push("/login")}if(!o||!o.id)return alert("Invalid user session. Please log in again."),void t.push("/login");if(!a.value.title.trim())return void alert("Please enter a title for your note.");if(!a.value.originalText.trim())return void alert("Please add some content to your note.");p.value=!0,a.value.lastEdited=(new Date).toLocaleString();const l={title:a.value.title,text:a.value.originalText,summary:a.value.summary,keywords:a.value.keywords.join(",")};if(console.log("Saving note:",{hasId:!!a.value.id,noteId:a.value.id,noteData:l,userId:o.id}),console.log("Current localStorage state:",{token:!!localStorage.getItem("token"),user:localStorage.getItem("user")}),a.value.id){console.log("Updating existing note with ID:",a.value.id);const e=await ne.updateNote(a.value.id,l);if(console.log("Update response:",e.data),!e.data.success)throw new Error(e.data.error||"Failed to update note");alert("Note updated successfully!"),t.push("/notes?refresh=true")}else{console.log("Creating new note");const e=await ne.createNote(l);if(console.log("Create response:",e.data),!e.data.success)throw new Error(e.data.error||"Failed to save note");a.value.id=e.data.note_id,alert("Note saved successfully!"),t.push("/notes?refresh=true")}}catch(m){console.error("Error saving note:",m);let t="Failed to save note. Please try again.";m.response?401===m.response.status?t="Authentication failed. Please log in again.":403===m.response.status?t="You do not have permission to perform this action.":m.response.data?.error&&(t=m.response.data.error):m.message&&(t=m.message),alert(t)}finally{p.value=!1}},v=async()=>{if(a.value.originalText.trim()){f.value=!0;try{if(a.value.id){const e=await ne.createSummary(a.value.id,{length:l.value});if(e.data.success){const e=await ne.getNote(a.value.id);e.data.success&&(a.value.summary=e.data.data.summary),alert("Summary generated successfully!")}else alert("Failed to generate summary: "+(e.data.error||"Unknown error"))}else{const e=await ne.gpt.generateSummary(a.value.originalText,{length:l.value});e.data?(a.value.summary=e.data,alert("Summary generated successfully!")):alert("Failed to generate summary. Please try again.")}}catch(m){console.error("Error generating summary:",m),alert("Failed to generate summary. Please try again.")}finally{f.value=!1}}else alert("Please add some text to summarize first.")},h=()=>{r.value.trim()&&(a.value.keywords.push(r.value.trim()),r.value="")},k=e=>{a.value.keywords.splice(e,1)},w=()=>{console.log("Extracting keywords from text"),setTimeout((()=>{const e=["Membrane","Cytoplasm","Organelles","Nucleus"];e.forEach((e=>{a.value.keywords.includes(e)||a.value.keywords.push(e)}))}),1e3)},L=()=>{console.log("Generating quiz with difficulty:",i.value,"and",c.value,"questions"),setTimeout((()=>{d.value=[{text:"Who discovered cells in 1665?",options:["Robert Hooke","Anton van Leeuwenhoek","Matthias Schleiden","Theodor Schwann"],correctAnswer:0,selectedAnswer:null},{text:"What is the study of cells called?",options:["Microbiology","Histology","Cytology","Physiology"],correctAnswer:2,selectedAnswer:null},{text:"What is the typical size range of most plant and animal cells?",options:["0.1-1 micrometers","1-100 micrometers","100-1000 micrometers","1-10 millimeters"],correctAnswer:1,selectedAnswer:null},{text:"What encloses the cytoplasm in a cell?",options:["Cell wall","Nucleus","Membrane","Ribosome"],correctAnswer:2,selectedAnswer:null},{text:"Cells are often referred to as the:",options:["Essence of life","Building blocks of life","Foundation of organisms","Microscopic life"],correctAnswer:1,selectedAnswer:null}]}),1500)},C=()=>{let e=0;d.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),alert(`You got ${e} out of ${d.value.length} questions correct!`)},E=()=>{d.value.forEach((e=>{e.selectedAnswer=null}))},S=async e=>{if(a.value&&a.value.id)try{console.log(`Exporting note ${a.value.id} as ${e}...`);const t="word"===e?"docx":"text"===e?"txt":e,s="pdf"===e?"html":"word"===e?"doc":"text"===e?"txt":e;console.log(`Making API call to export with backendFormat: ${t}`);const o=await ne.exportNote(a.value.id,t);console.log("API response received:",o),console.log("Response data type:",typeof o.data),console.log("Response data length:",o.data?o.data.length:"N/A");const l="pdf"===t?"text/html":"docx"===t?"application/msword":"text/plain";console.log(`Creating blob with MIME type: ${l}`);const r=new Blob([o.data],{type:l});console.log("Blob created:",r),console.log("Blob size:",r.size);const n=window.URL.createObjectURL(r);console.log("Blob URL created:",n);const i=document.createElement("a");i.href=n;const c=a.value.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),d="pdf"===e?`${c}_for_pdf.${s}`:`${c}_export.${s}`;i.download=d,console.log("Download filename:",d),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n),console.log(`Note exported as ${e} successfully`),alert(`File exported successfully! Check your downloads folder for "${d}"`)}catch(m){console.error("Export error:",m),console.error("Error details:",m.response||m.message),alert(`Failed to export note as ${e.toUpperCase()}. Please try again. Error: ${m.message}`)}else alert("Please save the note first before exporting")};return{note:a,summaryLength:l,newKeyword:r,quizDifficulty:i,quizQuestionCount:c,quizQuestions:d,isLoading:u,error:m,isSaving:p,generatingSummary:f,showExportOptions:b,sidebarOpen:x,saveNote:y,generateSummary:v,addKeyword:h,removeKeyword:k,extractKeywords:w,generateQuiz:L,checkQuizAnswers:C,resetQuiz:E,exportNote:S}}};const rc=(0,c.A)(lc,[["render",oc]]);var nc=rc;const ic={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},cc={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},dc={class:"flex items-center space-x-2 sm:space-x-4"},uc={class:"text-gray-400 hover:text-white p-2"},gc={class:"flex flex-grow"},mc={key:0,class:"text-lg font-bold"},pc={class:"mt-16 md:mt-0"},fc={class:"space-y-2"},bc={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},xc={key:0,class:"flex justify-center items-center h-full"},yc={key:1,class:"flex flex-col items-center justify-center h-full"},vc={class:"text-gray-400 mb-4"},hc={key:2},kc={class:"mb-6"},wc={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4"},Lc={class:"flex space-x-3 mt-4 sm:mt-0"},Cc=["disabled"],Ec={class:"bg-gray-800 rounded-lg p-6"},Sc={class:"flex justify-between items-center mb-6"},_c={key:0,class:"flex justify-center py-8"},Nc={key:1,class:"text-center py-12 text-gray-400"},Fc=["disabled"],Tc={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},zc=["onClick"],Ac={class:"flex items-start justify-between mb-4"},Rc={class:"flex-1"},Pc={class:"font-semibold text-white text-lg mb-2"},Ic={class:"text-sm text-gray-400 mb-2"},Dc={class:"flex items-center text-sm text-gray-300"},Oc={class:"text-right"},Uc={class:"bg-gray-600 rounded-lg p-3 mb-4"},Qc={class:"grid grid-cols-3 gap-2 text-center"},qc={class:"text-lg font-bold text-blue-400"},Xc={class:"text-lg font-bold text-red-400"},jc={class:"text-lg font-bold text-yellow-400"},Mc={class:"flex items-center justify-between"},Kc={class:"text-sm text-gray-400"},Wc={class:"flex space-x-2"},Gc=["onClick"],$c=["onClick"],Vc={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Hc={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4"},Jc={class:"flex justify-end space-x-3"},Bc={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Yc={class:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto"},Zc={class:"flex justify-between items-center mb-6"},ed={key:0,class:"flex justify-center py-8"},td={key:1,class:"space-y-4"},sd={class:"flex justify-between items-center mb-4"},ad={class:"text-sm text-gray-400"},od={class:"flex space-x-2"},ld={class:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto"},rd=["onClick"],nd={class:"flex items-start space-x-3"},id=["checked"],cd={class:"flex-1"},dd={class:"font-medium text-white mb-2"},ud={class:"text-sm text-gray-300 mb-2 line-clamp-2"},gd={class:"text-xs text-gray-400"},md={key:2,class:"text-center py-8 text-gray-400"},pd={class:"flex justify-end space-x-4 mt-6"},fd=["disabled"];function bd(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ic,[(0,o.Lk)("header",cc,[t[18]||(t[18]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",dc,[(0,o.Lk)("button",uc,[(0,o.bF)(c,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[17]||(t[17]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",gc,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>r.sidebarOpen=!r.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[r.sidebarOpen?((0,o.uX)(),(0,o.Wv)(c,{key:1,icon:["fas","times"]})):((0,o.uX)(),(0,o.CE)("span",mc,"â˜°"))]),r.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>r.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,l.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",r.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",pc,[(0,o.Lk)("ul",fc,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[2]||(t[2]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[19]||(t[19]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[19]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[3]||(t[3]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[20]||(t[20]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[20]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",onClick:t[4]||(t[4]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[21]||(t[21]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[21]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[5]||(t[5]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[22]||(t[22]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[22]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[6]||(t[6]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[23]||(t[23]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[23]})])])])],2),(0,o.Lk)("main",bc,[r.isLoading?((0,o.uX)(),(0,o.CE)("div",xc,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-3xl sm:text-4xl text-blue-500"})])):r.error?((0,o.uX)(),(0,o.CE)("div",yc,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[25]||(t[25]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Quiz",-1)),(0,o.Lk)("p",vc,(0,l.v_)(r.error),1),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[24]||(t[24]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[24]})])):((0,o.uX)(),(0,o.CE)("div",hc,[(0,o.Lk)("div",kc,[(0,o.Lk)("div",wc,[t[27]||(t[27]=(0,o.Lk)("div",null,[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold mb-2"},"Quiz Management"),(0,o.Lk)("p",{class:"text-gray-400"},"Create and manage your study quizzes")],-1)),(0,o.Lk)("div",Lc,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.openNoteSelector&&r.openNoteSelector(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition",disabled:r.isGeneratingQuiz},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),(0,o.eW)(" "+(0,l.v_)(r.isGeneratingQuiz?"Generating...":"Create New Quiz"),1)],8,Cc),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","arrow-left"],class:"mr-2"}),t[26]||(t[26]=(0,o.eW)(" Back to Notes "))])),_:1,__:[26]})])])]),(0,o.Lk)("div",Ec,[(0,o.Lk)("div",Sc,[t[29]||(t[29]=(0,o.Lk)("h3",{class:"text-xl font-semibold"},"Your Quizzes",-1)),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.loadSavedQuizzes&&r.loadSavedQuizzes(...e)),class:"text-blue-400 hover:text-blue-300 text-sm"},[(0,o.bF)(c,{icon:["fas","sync"],class:"mr-1"}),t[28]||(t[28]=(0,o.eW)(" Refresh "))])]),r.isLoadingSavedQuizzes?((0,o.uX)(),(0,o.CE)("div",_c,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-2xl text-blue-500"}),t[30]||(t[30]=(0,o.Lk)("span",{class:"ml-2 text-gray-400"},"Loading your quizzes...",-1))])):0===r.savedQuizzes.length?((0,o.uX)(),(0,o.CE)("div",Nc,[(0,o.bF)(c,{icon:["fas","book-open"],class:"text-6xl mb-6"}),t[31]||(t[31]=(0,o.Lk)("h3",{class:"text-xl font-semibold mb-4"},"No Quizzes Yet",-1)),t[32]||(t[32]=(0,o.Lk)("p",{class:"text-gray-400 mb-6"},"Create your first quiz to start studying!",-1)),(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>r.openNoteSelector&&r.openNoteSelector(...e)),class:"px-6 py-3 bg-blue-600 rounded-md hover:bg-blue-700 transition",disabled:r.isGeneratingQuiz},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),(0,o.eW)(" "+(0,l.v_)(r.isGeneratingQuiz?"Generating...":"Create Your First Quiz"),1)],8,Fc)])):((0,o.uX)(),(0,o.CE)("div",Tc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.savedQuizzes,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"bg-gray-700 rounded-lg p-5 hover:bg-gray-600 transition-all duration-200 cursor-pointer transform hover:scale-105",onClick:t=>r.startQuiz(e.id)},[(0,o.Lk)("div",Ac,[(0,o.Lk)("div",Rc,[(0,o.Lk)("h4",Pc,(0,l.v_)(e.title||`Quiz #${e.id}`),1),(0,o.Lk)("p",Ic," Created: "+(0,l.v_)(new Date(e.created_at).toLocaleDateString()),1),(0,o.Lk)("div",Dc,[(0,o.bF)(c,{icon:["fas","question-circle"],class:"mr-1"}),(0,o.eW)(" "+(0,l.v_)(e.questionCount)+" questions ",1)])]),(0,o.Lk)("div",Oc,[(0,o.Lk)("div",{class:(0,l.C4)(["text-xl font-bold mb-1",e.accuracy>=80?"text-green-400":e.accuracy>=60?"text-yellow-400":"text-red-400"])},(0,l.v_)(e.accuracy)+"% ",3),t[33]||(t[33]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Best Score",-1))])]),(0,o.Lk)("div",Uc,[t[37]||(t[37]=(0,o.Lk)("h5",{class:"text-sm font-semibold mb-2 text-gray-200"},"Performance Analysis",-1)),(0,o.Lk)("div",Qc,[(0,o.Lk)("div",null,[(0,o.Lk)("div",qc,(0,l.v_)(e.score||0),1),t[34]||(t[34]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Correct",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Xc,(0,l.v_)((e.questionCount||0)-(e.score||0)),1),t[35]||(t[35]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Incorrect",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",jc,(0,l.v_)(e.accuracy||0)+"%",1),t[36]||(t[36]=(0,o.Lk)("div",{class:"text-xs text-gray-400"},"Accuracy",-1))])])]),(0,o.Lk)("div",Mc,[(0,o.Lk)("span",Kc," Difficulty: "+(0,l.v_)(e.difficulty||"Medium"),1),(0,o.Lk)("div",Wc,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>r.startQuiz(e.id)),["stop"]),class:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","play"],class:"mr-1"}),t[38]||(t[38]=(0,o.eW)(" Take Quiz "))],8,Gc),(0,o.Lk)("button",{onClick:(0,a.D$)((t=>r.confirmDeleteQuiz(e.id)),["stop"]),class:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition",title:"Delete Quiz"},[(0,o.bF)(c,{icon:["fas","trash"]})],8,$c)])])],8,zc)))),128))]))])]))])]),r.showDeleteConfirmation?((0,o.uX)(),(0,o.CE)("div",Vc,[(0,o.Lk)("div",Hc,[t[39]||(t[39]=(0,o.Lk)("div",{class:"flex items-center mb-4"},[(0,o.Lk)("div",{class:"ml-4"},[(0,o.Lk)("h3",{class:"text-lg font-semibold text-white"},"Delete Quiz"),(0,o.Lk)("p",{class:"text-sm text-gray-300 mt-1"},"Are you sure you want to delete this quiz? This action cannot be undone.")])],-1)),(0,o.Lk)("div",Jc,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>r.cancelDelete&&r.cancelDelete(...e)),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.proceedDelete&&r.proceedDelete(...e)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition"}," Delete Quiz ")])])])):(0,o.Q3)("",!0),r.showNoteSelector?((0,o.uX)(),(0,o.CE)("div",Bc,[(0,o.Lk)("div",Yc,[(0,o.Lk)("div",Zc,[t[40]||(t[40]=(0,o.Lk)("h2",{class:"text-xl font-semibold"},"Select Notes for Quiz Generation",-1)),(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>r.closeNoteSelector&&r.closeNoteSelector(...e)),class:"text-gray-400 hover:text-white"},[(0,o.bF)(c,{icon:["fas","times"],class:"text-xl"})])]),r.isLoadingNotes?((0,o.uX)(),(0,o.CE)("div",ed,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-2xl text-blue-500"}),t[41]||(t[41]=(0,o.Lk)("span",{class:"ml-2 text-gray-400"},"Loading your notes...",-1))])):r.availableNotes.length>0?((0,o.uX)(),(0,o.CE)("div",td,[(0,o.Lk)("div",sd,[(0,o.Lk)("div",ad,(0,l.v_)(r.selectedNotes.length)+" of "+(0,l.v_)(r.availableNotes.length)+" notes selected ",1),(0,o.Lk)("div",od,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>r.selectAllNotes&&r.selectAllNotes(...e)),class:"px-3 py-1 text-sm bg-blue-600 rounded-md hover:bg-blue-700 transition"}," Select All "),(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>r.deselectAllNotes&&r.deselectAllNotes(...e)),class:"px-3 py-1 text-sm bg-gray-600 rounded-md hover:bg-gray-700 transition"}," Deselect All ")])]),(0,o.Lk)("div",ld,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.availableNotes,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,l.C4)(["bg-gray-700 rounded-lg p-4 cursor-pointer transition-all",e.selected?"ring-2 ring-blue-500 bg-gray-600":"hover:bg-gray-600"]),onClick:t=>r.toggleNoteSelection(e.id)},[(0,o.Lk)("div",nd,[(0,o.Lk)("input",{type:"checkbox",checked:e.selected,class:"mt-1 text-blue-600 focus:ring-blue-500",readonly:""},null,8,id),(0,o.Lk)("div",cd,[(0,o.Lk)("h3",dd,(0,l.v_)(e.title||"Untitled Note"),1),(0,o.Lk)("p",ud,(0,l.v_)(e.original_text?e.original_text.substring(0,100)+"...":"No content available"),1),(0,o.Lk)("div",gd," Created: "+(0,l.v_)(new Date(e.created_at).toLocaleDateString()),1)])])],10,rd)))),128))])])):((0,o.uX)(),(0,o.CE)("div",md,[(0,o.bF)(c,{icon:["fas","book"],class:"text-4xl mb-4"}),t[42]||(t[42]=(0,o.Lk)("p",{class:"text-lg mb-2"},"No notes available",-1)),t[43]||(t[43]=(0,o.Lk)("p",{class:"text-sm"},"Create some notes first to generate quizzes",-1))])),(0,o.Lk)("div",pd,[(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>r.closeNoteSelector&&r.closeNoteSelector(...e)),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>r.generateQuizFromSelectedNotes&&r.generateQuizFromSelectedNotes(...e)),disabled:0===r.selectedNotes.length||r.isGeneratingQuiz,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"mr-2",spin:r.isGeneratingQuiz},null,8,["spin"]),(0,o.eW)(" "+(0,l.v_)(r.isGeneratingQuiz?"Generating...":`Generate Quiz (${r.selectedNotes.length})`),1)],8,fd)])])])):(0,o.Q3)("",!0)])}s(1148);var xd={name:"QuizView",setup(){console.log("=== QUIZVIEW SETUP START ===");const e=(0,g.lq)(),t=(0,g.rd)();console.log("Route params:",e.params),console.log("Route path:",e.path);let s=null;try{const t=e.params.id;console.log("Raw route param id:",t,"Type:",typeof t),t&&"undefined"!==t&&"null"!==t&&(s=parseInt(t),console.log("Parsed noteId:",s,"Is NaN:",isNaN(s)),isNaN(s)&&(s=null))}catch(B){console.error("Error parsing route params:",B),s=null}const a=(0,oe.KR)(s),l=(0,oe.KR)("Loading..."),r=(0,oe.KR)(!0),n=(0,oe.KR)(null),i=(0,oe.KR)(!1),c=(0,oe.KR)(!1);console.log("Initial state set - noteId:",a.value);const d=(0,oe.KR)(!1),u=(0,oe.KR)([]),m=(0,oe.KR)([]),p=(0,oe.KR)(!1),f=(0,oe.KR)([]),b=(0,oe.KR)(!1),x=(0,oe.KR)(0),y=(0,oe.KR)(!1),v=(0,oe.KR)(!1),h=(0,oe.KR)(null),k=(0,oe.KR)([]),w=(0,oe.KR)(!1),L=(0,oe.KR)(null),C=(0,oe.KR)(!1),E=(0,oe.KR)(null),S=(0,o.EW)((()=>f.value.length>0&&f.value.every((e=>null!==e.selectedAnswer)))),_=(0,o.EW)((()=>f.value.filter((e=>null!==e.selectedAnswer)).length)),N=(0,o.EW)((()=>{const e=x.value,t=f.value.length,s=e/t*100,a=[];s>=90?a.push({id:1,icon:["fas","trophy"],title:"Excellent Performance!",description:"You have a strong grasp of this material. Consider moving to more advanced topics."}):s>=80?a.push({id:1,icon:["fas","thumbs-up"],title:"Great Job!",description:"You're doing well. Focus on the few areas where you made mistakes for even better results."}):s>=70?a.push({id:1,icon:["fas","book-open"],title:"Good Progress",description:"You're on the right track. Review the incorrect answers and try again."}):s>=60?a.push({id:1,icon:["fas","lightbulb"],title:"Keep Studying",description:"Focus on understanding the core concepts. Consider breaking down complex topics into smaller parts."}):a.push({id:1,icon:["fas","graduation-cap"],title:"Time for Review",description:"Take time to thoroughly review the material. Consider creating flashcards or mind maps for key concepts."});const o=t-e;return o>0&&a.push({id:2,icon:["fas","search"],title:"Review Incorrect Answers",description:`Focus on understanding why ${o} answer${o>1?"s were":" was"} incorrect.`}),a.push({id:3,icon:["fas","clock"],title:"Study Tip",description:"Spaced repetition helps retain information better. Review this material again in a few days."}),a})),F=async()=>{if(console.log("=== LOAD NOTE DATA START ==="),console.log("noteId.value:",a.value,"Type:",typeof a.value),!a.value)return console.log("No note ID provided, will show note selector"),r.value=!1,void console.log("=== LOAD NOTE DATA END (no noteId) ===");try{console.log("Making API call to getNote with ID:",a.value);const e=await ne.getNote(a.value);if(console.log("API response received:",e),console.log("Response data:",e.data),e.data.success&&e.data.data){const t=e.data.data;console.log("Note data loaded successfully:",t),l.value=t.title||"Untitled Note",console.log("Note title set to:",l.value)}else console.warn("API response indicates failure:",e.data),n.value=e.data?.error||"Note not found",console.log("Error set to:",n.value)}catch(e){console.error("Error loading note:",e),console.error("Error details:",{message:e.message,stack:e.stack,response:e.response}),n.value="Failed to load note data"}finally{r.value=!1,console.log("=== LOAD NOTE DATA END ===")}},T=async()=>{p.value=!0;try{const e=await ne.getNotes();e.data.success&&e.data.data?u.value=e.data.data.map((e=>({id:e.id,title:e.title||"Untitled Note",original_text:e.original_text||"",summary:e.summary||"",created_at:e.created_at,selected:!1}))):console.error("Failed to load notes:",e.data?.error)}catch(n){console.error("Error loading notes:",n)}finally{p.value=!1}},z=e=>{const t=u.value.find((t=>t.id===e));t&&(t.selected=!t.selected,A())},A=()=>{m.value=u.value.filter((e=>e.selected))},R=()=>{u.value.forEach((e=>{e.selected=!0})),A()},P=()=>{u.value.forEach((e=>{e.selected=!1})),A()},I=async()=>{console.log("Opening note selector modal"),d.value=!0,console.log("showNoteSelector set to:",d.value),0===u.value.length?(console.log("Loading available notes..."),await T(),console.log("Available notes loaded:",u.value.length)):console.log("Notes already loaded:",u.value.length)},D=()=>{d.value=!1},O=async()=>{0!==m.value.length?(D(),await Q(m.value)):alert("Please select at least one note to generate a quiz from.")},U=async()=>{if(console.log("=== GENERATE NEW QUIZ BUTTON CLICKED ==="),console.log("isGeneratingQuiz:",c.value),console.log("noteId:",a.value),console.log("Current route params:",e.params),console.log("showNoteSelector:",d.value),console.log("availableNotes length:",u.value.length),c.value)return void console.log("Quiz generation already in progress, returning");0===u.value.length&&(console.log("Loading available notes..."),await T(),console.log("Available notes loaded:",u.value.length));let t=[];if(a.value){console.log("Using specific note ID:",a.value);const e=u.value.find((e=>e.id===a.value));e?(t=[e],console.log("Found specific note:",e.title)):(console.error("Specific note not found, using all available notes"),t=u.value)}else console.log("No specific note ID, using all available notes"),t=u.value;0!==t.length?(console.log("Generating quiz from",t.length,"note(s)"),await Q(t)):alert("No notes available for quiz generation. Please create some notes first.")},Q=async e=>{if(!c.value){c.value=!0;try{console.log("=== FRONTEND QUIZ GENERATION START ==="),console.log("Generating quiz from",e.length,"note(s)");let t="";const s=[];for(const a of e)try{let e;if(a.original_text)e=a;else{const t=await ne.getNote(a.id);if(!t.data.success||!t.data.data){console.warn("Failed to load note:",a.id);continue}e=t.data.data}const o=e.summary&&'No summary available. Click "Generate Summary" to create one.'!==e.summary,l=o?e.summary:e.original_text;l&&l.length>10&&(t+=`\n\n--- ${e.title||"Untitled Note"} ---\n${l}`,s.push(e.title||"Untitled Note"))}catch(n){console.warn("Error loading note content:",a.id,n)}if(!t||t.length<50)return void alert("Not enough content available for quiz generation. Please ensure your selected notes have sufficient text content.");console.log("Combined content length:",t.length),console.log("Note titles:",s.join(", "));const o=await ne.gpt.extractKeywords(t,3);let l="General Knowledge Quiz";if(o.data&&o.data.success&&o.data.data){const e=o.data.data;if(Array.isArray(e)&&e.length>0){const t=e[0].toLowerCase(),s=e.length>1?e[1].toLowerCase():"";l=`${t.charAt(0).toUpperCase()+t.slice(1)}${s?" & "+s.charAt(0).toUpperCase()+s.slice(1):""} Quiz`}}const r=await ne.gpt.generateQuiz(t,{difficulty:"medium",questionCount:Math.min(10,Math.max(5,2*e.length)),noteTitle:1===s.length?s[0]:`${s.length} Selected Notes`,quizTitle:l});if(r.data&&r.data.success&&r.data.data){const t=r.data.data.questions||r.data.data||[];if(!Array.isArray(t)||0===t.length)return void alert("No quiz questions were generated. The content may be too short or unclear.");const s=1===e.length?e[0].id:a.value||e[0].id,o=await ne.createQuiz(s,{questions:t,difficulty:"medium",source:1===e.length?"single_note":"multiple_notes",note_count:e.length,title:l});o.data.success?(f.value=t.map((e=>{let t=e.correct_answer||e.correctAnswer||0;if("string"===typeof t){const e={A:0,B:1,C:2,D:3};t=e[t.toUpperCase()]??0}const s=[...e.options],a=t;for(let r=s.length-1;r>0;r--){const e=Math.floor(Math.random()*(r+1));[s[r],s[e]]=[s[e],s[r]]}const o=e.options[a],l=s.findIndex((e=>e===o));return{text:e.question,options:s,correctAnswer:l,selectedAnswer:null,originalOptions:e.options,originalCorrectIndex:a}})),b.value=!1,x.value=0,y.value=!1,console.log("Quiz generated successfully from",e.length,"note(s)"),alert(`Quiz generated successfully! Created ${t.length} questions from ${e.length} selected note${e.length>1?"s":""}.`)):alert("Failed to save quiz: "+(o.data.error||"Unknown error"))}else{const e=r.data?.error||"Failed to generate quiz questions";e.includes("API key")||e.includes("authentication")?alert("AI service is not configured. Using basic quiz generation instead."):alert("Failed to generate quiz questions: "+e)}}catch(n){console.error("Error generating quiz:",n),alert("Failed to generate quiz. Please try again.")}finally{c.value=!1,console.log("=== FRONTEND QUIZ GENERATION END ===")}}},q=()=>{if(!S.value)return void alert("Please answer all questions before checking your results.");let e=0;f.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),x.value=e,b.value=!0},X=()=>{f.value.forEach((e=>{e.selectedAnswer=null})),b.value=!1,x.value=0,y.value=!1},j=()=>{X()},M=async()=>{if(f.value.length)try{v.value=!0;let e=a.value;if(!e)try{const t=await ne.getNotes();t.data.success&&t.data.data&&t.data.data.length>0&&(e=t.data.data[0].id,console.log("Using first available note ID:",e))}catch(n){console.error("Error fetching notes for quiz save:",n)}if(!e)return void alert("Unable to save quiz: No notes available. Please create a note first.");const t={note_id:e,questions:f.value,difficulty:"medium",score:x.value};console.log("Saving quiz with data:",t);const s=await ne.saveQuiz(t);s.data.success?(h.value=s.data.quiz_id,alert("Quiz saved successfully!"),K()):alert("Failed to save quiz: "+(s.data.error||"Unknown error"))}catch(n){console.error("Error saving quiz:",n),alert("Failed to save quiz. Please try again.")}finally{v.value=!1}else alert("No quiz to save. Please generate a quiz first.")},K=async()=>{console.log("=== LOAD SAVED QUIZZES START ===");try{w.value=!0,console.log("Making API call to getQuizzes");const e=await ne.getQuizzes();console.log("API response received:",e),console.log("Response data:",e.data),e.data.success&&e.data.data?(console.log("Processing",e.data.data.length,"quizzes"),k.value=e.data.data.map((e=>{console.log("Processing quiz:",e.id,"Questions type:",typeof e.questions,"Questions value:",e.questions);let t=[],s=0,a=0;try{t=e.questions||[],s=t.length,a=e.score&&s>0?Math.round(e.score/s*100):0,console.log("Quiz",e.id,"- questionCount:",s,"accuracy:",a)}catch(l){console.warn("Error parsing questions for quiz",e.id,l),console.warn("Quiz data:",e),s=0,a=0}const o={id:e.id,note_id:e.note_id,questions:t,difficulty:e.difficulty,score:e.score,created_at:e.created_at,updated_at:e.updated_at,questionCount:s,accuracy:a};return console.log("Processed quiz:",o),o})),console.log("Successfully processed",k.value.length,"quizzes")):(console.error("Failed to load saved quizzes:",e.data?.error),console.error("Response data:",e.data))}catch(n){console.error("Error loading saved quizzes:",n),console.error("Error details:",{message:n.message,stack:n.stack,response:n.response})}finally{w.value=!1,console.log("=== LOAD SAVED QUIZZES END ===")}},W=e=>{t.push(`/quizzes/${e}`)},G=e=>{E.value=e,C.value=!0},$=()=>{C.value=!1,E.value=null},V=async()=>{E.value&&(await H(E.value),C.value=!1,E.value=null)},H=async e=>{try{const t=await ne.deleteQuiz(e);t.data.success?(k.value=k.value.filter((t=>t.id!==e)),alert("Quiz deleted successfully!")):alert("Failed to delete quiz: "+(t.data.error||"Unknown error"))}catch(n){console.error("Error deleting quiz:",n),alert("Failed to delete quiz. Please try again.")}},J=async e=>{try{const t=await ne.getQuiz(e);if(t.data.success&&t.data.data){const e=t.data.data,s=e.questions||[];f.value=s.map((e=>({text:e.question||e.text,options:e.options||[],correctAnswer:e.correct_answer||e.correctAnswer||0,selectedAnswer:null,originalOptions:e.options||[],originalCorrectIndex:e.correct_answer||e.correctAnswer||0}))),b.value=!1,x.value=0,y.value=!1,L.value=e,alert(`Loaded saved quiz with ${s.length} questions!`)}else alert("Failed to load quiz: "+(t.data?.error||"Unknown error"))}catch(n){console.error("Error loading saved quiz:",n),alert("Failed to load quiz. Please try again.")}};return(0,o.sV)((async()=>{console.log("=== ONMOUNTED START ===");try{console.log("Calling loadNoteData..."),await F(),console.log("loadNoteData completed successfully"),console.log("Calling loadSavedQuizzes..."),await K(),console.log("loadSavedQuizzes completed successfully"),console.log("=== ONMOUNTED END ===")}catch(n){console.error("=== ONMOUNTED ERROR ==="),console.error("Error during component initialization:",n),console.error("Error details:",{message:n.message,stack:n.stack,name:n.name}),n.value="Failed to initialize component: "+n.message,r.value=!1,console.log("=== ONMOUNTED ERROR HANDLED ===")}})),{noteId:a,noteTitle:l,isLoading:r,error:n,sidebarOpen:i,isGeneratingQuiz:c,quizQuestions:f,quizCompleted:b,quizScore:x,showResults:y,allQuestionsAnswered:S,answeredQuestionsCount:_,improvementAdvice:N,showNoteSelector:d,availableNotes:u,selectedNotes:m,isLoadingNotes:p,isSavingQuiz:v,savedQuizId:h,savedQuizzes:k,isLoadingSavedQuizzes:w,selectedSavedQuiz:L,generateNewQuiz:U,checkAnswers:q,resetQuiz:X,retakeQuiz:j,saveQuiz:M,loadAvailableNotes:T,toggleNoteSelection:z,selectAllNotes:R,deselectAllNotes:P,openNoteSelector:I,closeNoteSelector:D,generateQuizFromSelectedNotes:O,generateQuizFromNotes:Q,loadSavedQuizzes:K,loadSavedQuiz:J,startQuiz:W,confirmDeleteQuiz:G,deleteQuiz:H,cancelDelete:$,proceedDelete:V,showDeleteConfirmation:C,quizToDelete:E}}};const yd=(0,c.A)(xd,[["render",bd]]);var vd=yd;const hd={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},kd={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},wd={class:"flex items-center space-x-2 sm:space-x-4"},Ld={class:"text-gray-400 hover:text-white p-2"},Cd={class:"flex flex-grow"},Ed={key:0,class:"text-lg font-bold"},Sd={class:"mt-16 md:mt-0"},_d={class:"space-y-2"},Nd={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},Fd={key:0,class:"flex justify-center items-center h-full"},Td={key:1,class:"flex flex-col items-center justify-center h-full"},zd={class:"text-gray-400 mb-4"},Ad={key:2},Rd={class:"mb-6"},Pd={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4"},Id={class:"text-2xl sm:text-3xl font-bold mb-2"},Dd={class:"text-gray-400"},Od={class:"flex space-x-3 mt-4 sm:mt-0"},Ud={key:0,class:"mb-8 bg-gray-800 rounded-lg p-6"},Qd={class:"text-center"},qd={class:"mb-6"},Xd={class:"text-gray-300 text-lg"},jd={class:"text-sm text-gray-400 mt-2"},Md={class:"bg-gray-700 rounded-lg p-4 mb-6"},Kd={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Wd={class:"text-2xl font-bold text-blue-400"},Gd={class:"text-2xl font-bold text-red-400"},$d={class:"text-2xl font-bold text-yellow-400"},Vd={class:"bg-gray-700 rounded-lg p-4 mb-6"},Hd={class:"text-left space-y-2"},Jd={class:"font-medium"},Bd={class:"text-sm text-gray-300"},Yd={class:"flex justify-center space-x-4"},Zd=["disabled"],eu={key:1,class:"space-y-6"},tu={class:"mb-4"},su={class:"text-lg font-semibold mb-3"},au={class:"space-y-3"},ou=["id","name","value","onUpdate:modelValue","disabled"],lu=["for"],ru={class:"font-medium mr-2"},nu={key:0,class:"mt-4 p-4 bg-gray-700 rounded-lg"},iu={class:"flex items-start space-x-3"},cu={class:"flex-1"},du={class:"font-medium mb-2"},uu={key:0},gu={class:"text-red-400 mb-2"},mu={key:1},pu={class:"text-green-400"},fu={class:"flex justify-between items-center bg-gray-800 rounded-lg p-6"},bu={class:"text-sm text-gray-400"},xu={class:"flex space-x-4"},yu=["disabled"];function vu(e,t,s,r,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",hd,[(0,o.Lk)("header",kd,[t[13]||(t[13]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe - Quiz",-1)),(0,o.Lk)("div",wd,[(0,o.Lk)("button",Ld,[(0,o.bF)(c,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[12]||(t[12]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",Cd,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>r.sidebarOpen=!r.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[r.sidebarOpen?((0,o.uX)(),(0,o.Wv)(c,{key:1,icon:["fas","times"]})):((0,o.uX)(),(0,o.CE)("span",Ed,"â˜°"))]),r.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>r.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,l.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",r.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",Sd,[(0,o.Lk)("ul",_d,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[2]||(t[2]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[14]||(t[14]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[14]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[3]||(t[3]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[15]||(t[15]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[15]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/quizzes",onClick:t[4]||(t[4]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[16]||(t[16]=(0,o.Lk)("span",null,"Quizzes",-1))])),_:1,__:[16]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[5]||(t[5]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[17]||(t[17]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[17]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[6]||(t[6]=e=>r.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[18]||(t[18]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[18]})])])])],2),(0,o.Lk)("main",Nd,[r.isLoading?((0,o.uX)(),(0,o.CE)("div",Fd,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-3xl sm:text-4xl text-blue-500"})])):r.error?((0,o.uX)(),(0,o.CE)("div",Td,[(0,o.bF)(c,{icon:["fas","times"],class:"text-4xl text-red-400 mb-4"}),t[20]||(t[20]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Quiz",-1)),(0,o.Lk)("p",zd,(0,l.v_)(r.error),1),(0,o.bF)(d,{to:"/quizzes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[19]||(t[19]=[(0,o.eW)(" Back to Quizzes ")]))),_:1,__:[19]})])):((0,o.uX)(),(0,o.CE)("div",Ad,[(0,o.Lk)("div",Rd,[(0,o.Lk)("div",Pd,[(0,o.Lk)("div",null,[(0,o.Lk)("h1",Id,(0,l.v_)(r.quizTitle),1),(0,o.Lk)("p",Dd,(0,l.v_)(r.noteTitle),1)]),(0,o.Lk)("div",Od,[(0,o.bF)(d,{to:"/quizzes",class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","arrow-left"],class:"mr-2"}),t[21]||(t[21]=(0,o.eW)(" Back to Quizzes "))])),_:1,__:[21]})])])]),r.showResults?((0,o.uX)(),(0,o.CE)("div",Ud,[(0,o.Lk)("div",Qd,[t[29]||(t[29]=(0,o.Lk)("h3",{class:"text-xl font-semibold mb-4"},"Quiz Results",-1)),(0,o.Lk)("div",qd,[(0,o.Lk)("div",{class:(0,l.C4)(["text-5xl font-bold mb-2",r.quizScore===r.quizQuestions.length?"text-green-400":r.quizScore>=.7*r.quizQuestions.length?"text-yellow-400":"text-red-400"])},(0,l.v_)(r.quizScore)+"/"+(0,l.v_)(r.quizQuestions.length),3),(0,o.Lk)("p",Xd,(0,l.v_)(Math.round(r.quizScore/r.quizQuestions.length*100))+"% Correct ",1),(0,o.Lk)("p",jd," You got "+(0,l.v_)(r.quizScore)+" out of "+(0,l.v_)(r.quizQuestions.length)+" questions correct ",1)]),(0,o.Lk)("div",Md,[t[25]||(t[25]=(0,o.Lk)("h4",{class:"text-lg font-semibold mb-3"},"Performance Analysis",-1)),(0,o.Lk)("div",Kd,[(0,o.Lk)("div",null,[(0,o.Lk)("div",Wd,(0,l.v_)(r.quizScore),1),t[22]||(t[22]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Correct Answers",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",Gd,(0,l.v_)(r.quizQuestions.length-r.quizScore),1),t[23]||(t[23]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Incorrect Answers",-1))]),(0,o.Lk)("div",null,[(0,o.Lk)("div",$d,(0,l.v_)(Math.round(r.quizScore/r.quizQuestions.length*100))+"%",1),t[24]||(t[24]=(0,o.Lk)("div",{class:"text-sm text-gray-400"},"Accuracy Rate",-1))])])]),(0,o.Lk)("div",Vd,[t[26]||(t[26]=(0,o.Lk)("h4",{class:"text-lg font-semibold mb-3"},"ðŸ“š Study Recommendations",-1)),(0,o.Lk)("div",Hd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.improvementAdvice,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"flex items-start space-x-3"},[(0,o.bF)(c,{icon:e.icon,class:"text-blue-400 mt-1 flex-shrink-0"},null,8,["icon"]),(0,o.Lk)("div",null,[(0,o.Lk)("p",Jd,(0,l.v_)(e.title),1),(0,o.Lk)("p",Bd,(0,l.v_)(e.description),1)])])))),128))])]),(0,o.Lk)("div",Yd,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.saveQuiz&&r.saveQuiz(...e)),class:"px-6 py-3 bg-purple-600 rounded-md hover:bg-purple-700 transition",disabled:r.isSavingQuiz},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),(0,o.eW)(" "+(0,l.v_)(r.isSavingQuiz?"Saving...":"Save Quiz"),1)],8,Zd),(0,o.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>r.retakeQuiz&&r.retakeQuiz(...e)),class:"px-6 py-3 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","redo-alt"],class:"mr-2"}),t[27]||(t[27]=(0,o.eW)(" Retake Quiz "))]),(0,o.bF)(d,{to:"/quizzes",class:"px-6 py-3 bg-gray-600 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","arrow-left"],class:"mr-2"}),t[28]||(t[28]=(0,o.eW)(" Back to Quizzes "))])),_:1,__:[28]})])])])):(0,o.Q3)("",!0),r.quizQuestions.length>0&&!r.showResults?((0,o.uX)(),(0,o.CE)("div",eu,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.quizQuestions,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:`question-${s}`,class:"bg-gray-800 rounded-lg p-6"},[(0,o.Lk)("div",tu,[(0,o.Lk)("h3",su,(0,l.v_)(s+1)+". "+(0,l.v_)(e.text),1),(0,o.Lk)("div",au,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,n)=>((0,o.uX)(),(0,o.CE)("div",{key:`option-${s}-${n}`,class:(0,l.C4)(["flex items-center space-x-3 p-3 rounded-lg transition-colors",{"bg-green-900 border border-green-500":r.quizCompleted&&n===e.correctAnswer,"bg-red-900 border border-red-500":r.quizCompleted&&e.selectedAnswer===n&&n!==e.correctAnswer,"bg-gray-700 hover:bg-gray-600 border border-gray-600":!r.quizCompleted&&e.selectedAnswer===n,"bg-gray-700 hover:bg-gray-600 border border-transparent":!r.quizCompleted&&e.selectedAnswer!==n}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:`q${s}-o${n}`,name:`question-${s}`,value:n,"onUpdate:modelValue":t=>e.selectedAnswer=t,class:"text-blue-600 focus:ring-blue-500",disabled:r.quizCompleted},null,8,ou),[[a.XL,e.selectedAnswer]]),(0,o.Lk)("label",{for:`q${s}-o${n}`,class:"cursor-pointer flex-1 text-gray-200"},[(0,o.Lk)("span",ru,(0,l.v_)(String.fromCharCode(65+n))+".",1),(0,o.eW)(" "+(0,l.v_)(t),1)],8,lu)],2)))),128))])]),r.quizCompleted?((0,o.uX)(),(0,o.CE)("div",nu,[(0,o.Lk)("div",iu,[(0,o.bF)(c,{icon:e.selectedAnswer===e.correctAnswer?["fas","check-circle"]:["fas","times-circle"],class:(0,l.C4)([e.selectedAnswer===e.correctAnswer?"text-green-400":"text-red-400","mt-1"])},null,8,["icon","class"]),(0,o.Lk)("div",cu,[(0,o.Lk)("p",du,[t[30]||(t[30]=(0,o.Lk)("span",{class:"text-green-400"},"Correct Answer:",-1)),(0,o.eW)(" "+(0,l.v_)(e.originalOptions?e.originalOptions[e.originalCorrectIndex]:e.options[e.correctAnswer]),1)]),null!==e.selectedAnswer&&e.selectedAnswer!==e.correctAnswer?((0,o.uX)(),(0,o.CE)("div",uu,[(0,o.Lk)("p",gu,[t[31]||(t[31]=(0,o.Lk)("span",{class:"font-medium"},"Your Answer:",-1)),(0,o.eW)(" "+(0,l.v_)(e.options[e.selectedAnswer]),1)]),t[32]||(t[32]=(0,o.Lk)("p",{class:"text-sm text-gray-300"},[(0,o.eW)(" ðŸ’¡ "),(0,o.Lk)("strong",null,"Tip:"),(0,o.eW)(" Review the material related to this topic for better understanding. ")],-1))])):(0,o.Q3)("",!0),null!==e.selectedAnswer&&e.selectedAnswer===e.correctAnswer?((0,o.uX)(),(0,o.CE)("div",mu,[(0,o.Lk)("p",pu,[t[33]||(t[33]=(0,o.Lk)("span",{class:"font-medium"},"Your Answer:",-1)),(0,o.eW)(" "+(0,l.v_)(e.options[e.selectedAnswer])+" âœ“ ",1)])])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)])))),128)),(0,o.Lk)("div",fu,[(0,o.Lk)("div",bu,(0,l.v_)(r.answeredQuestionsCount)+"/"+(0,l.v_)(r.quizQuestions.length)+" questions answered ",1),(0,o.Lk)("div",xu,[r.quizCompleted?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[9]||(t[9]=(...e)=>r.checkAnswers&&r.checkAnswers(...e)),class:"px-6 py-3 bg-green-600 rounded-md hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:!r.allQuestionsAnswered},[(0,o.bF)(c,{icon:["fas","check"],class:"mr-2"}),t[34]||(t[34]=(0,o.eW)(" Check Answers "))],8,yu)),r.quizCompleted?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[10]||(t[10]=e=>r.showResults=!0),class:"px-6 py-3 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","chart-bar"],class:"mr-2"}),t[35]||(t[35]=(0,o.eW)(" View Results "))])):(0,o.Q3)("",!0),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.resetQuiz&&r.resetQuiz(...e)),class:"px-6 py-3 bg-gray-600 rounded-md hover:bg-gray-700 transition"},[(0,o.bF)(c,{icon:["fas","redo"],class:"mr-2"}),t[36]||(t[36]=(0,o.eW)(" Reset "))])])])])):(0,o.Q3)("",!0)]))])])])}var hu={name:"QuizTakingView",setup(){const e=(0,g.lq)(),t=(0,oe.KR)(parseInt(e.params.id)||null),s=(0,oe.KR)("Loading Quiz..."),a=(0,oe.KR)(""),l=(0,oe.KR)(!0),r=(0,oe.KR)(null),n=(0,oe.KR)(!1),i=(0,oe.KR)([]),c=(0,oe.KR)(!1),d=(0,oe.KR)(0),u=(0,oe.KR)(!1),m=(0,oe.KR)(!1),p=(0,o.EW)((()=>i.value.length>0&&i.value.every((e=>null!==e.selectedAnswer)))),f=(0,o.EW)((()=>i.value.filter((e=>null!==e.selectedAnswer)).length)),b=(0,o.EW)((()=>{const e=d.value,t=i.value.length,s=e/t*100,a=[];s>=90?a.push({id:1,icon:["fas","trophy"],title:"Excellent Performance!",description:"You have a strong grasp of this material. Consider moving to more advanced topics."}):s>=80?a.push({id:1,icon:["fas","thumbs-up"],title:"Great Job!",description:"You're doing well. Focus on the few areas where you made mistakes for even better results."}):s>=70?a.push({id:1,icon:["fas","book-open"],title:"Good Progress",description:"You're on the right track. Review the incorrect answers and try again."}):s>=60?a.push({id:1,icon:["fas","lightbulb"],title:"Keep Studying",description:"Focus on understanding the core concepts. Consider breaking down complex topics into smaller parts."}):a.push({id:1,icon:["fas","graduation-cap"],title:"Time for Review",description:"Take time to thoroughly review the material. Consider creating flashcards or mind maps for key concepts."});const o=t-e;return o>0&&a.push({id:2,icon:["fas","search"],title:"Review Incorrect Answers",description:`Focus on understanding why ${o} answer${o>1?"s were":" was"} incorrect.`}),a.push({id:3,icon:["fas","clock"],title:"Study Tip",description:"Spaced repetition helps retain information better. Review this material again in a few days."}),a})),x=async()=>{if(!t.value)return r.value="No quiz ID provided",void(l.value=!1);try{const o=await ne.getQuiz(t.value);if(o.data.success&&o.data.data){const l=o.data.data;s.value=l.title||`Quiz #${t.value}`;const r=l.questions||[];if(i.value=r.map((e=>({text:e.question||e.text,options:e.options||[],correctAnswer:e.correct_answer||e.correctAnswer||0,selectedAnswer:null,originalOptions:e.options||[],originalCorrectIndex:e.correct_answer||e.correctAnswer||0}))),l.note_id)try{const e=await ne.getNote(l.note_id);e.data.success&&e.data.data&&(a.value=e.data.data.title||"Unknown Note")}catch(e){console.warn("Could not load note title:",e),a.value="Quiz from Notes"}else a.value="Generated Quiz"}else r.value=o.data?.error||"Quiz not found"}catch(o){console.error("Error loading quiz:",o),r.value="Failed to load quiz"}finally{l.value=!1}},y=()=>{if(!p.value)return void alert("Please answer all questions before checking your results.");let e=0;i.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),d.value=e,c.value=!0},v=()=>{i.value.forEach((e=>{e.selectedAnswer=null})),c.value=!1,d.value=0,u.value=!1},h=()=>{v()},k=async()=>{if(i.value.length)try{m.value=!0;const e={note_id:null,questions:i.value,difficulty:"medium",score:d.value,title:s.value};console.log("Saving quiz with data:",e);const t=await ne.saveQuiz(e);t.data.success?alert("Quiz progress saved successfully!"):alert("Failed to save quiz: "+(t.data.error||"Unknown error"))}catch(r){console.error("Error saving quiz:",r),alert("Failed to save quiz. Please try again.")}finally{m.value=!1}else alert("No quiz to save. Please generate a quiz first.")};return(0,o.sV)((async()=>{await x()})),{quizId:t,quizTitle:s,noteTitle:a,isLoading:l,error:r,sidebarOpen:n,quizQuestions:i,quizCompleted:c,quizScore:d,showResults:u,allQuestionsAnswered:p,answeredQuestionsCount:f,improvementAdvice:b,isSavingQuiz:m,checkAnswers:y,resetQuiz:v,retakeQuiz:h,saveQuiz:k}}};const ku=(0,c.A)(hu,[["render",vu]]);var wu=ku;const Lu={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Cu={class:"p-4 flex justify-between items-center"},Eu={class:"space-x-2"},Su={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},_u={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700 text-center"},Nu={class:"flex justify-center mb-8"},Fu={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-xl"};function Tu(e,t,s,a,l,r){const n=(0,o.g2)("router-link"),i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Lu,[(0,o.Lk)("header",Cu,[(0,o.bF)(n,{to:"/",class:"text-xl font-bold"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("SmartScribe")]))),_:1,__:[0]}),(0,o.Lk)("div",Eu,[(0,o.bF)(n,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Sign In")]))),_:1,__:[1]}),(0,o.bF)(n,{to:"/signup",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Sign Up")]))),_:1,__:[2]})])]),(0,o.Lk)("main",Su,[(0,o.Lk)("div",_u,[(0,o.Lk)("div",Nu,[(0,o.Lk)("div",Fu,[(0,o.bF)(i,{icon:["fas","exclamation-triangle"],class:"text-white text-3xl sm:text-4xl"})])]),t[4]||(t[4]=(0,o.Lk)("div",{class:"mb-8"},[(0,o.Lk)("h1",{class:"text-6xl sm:text-7xl font-bold text-gray-600 mb-4"},"404"),(0,o.Lk)("h2",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Page Not Found"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"The page you are looking for doesn't exist or has been moved.")],-1)),(0,o.bF)(n,{to:"/",class:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-105 active:scale-95"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","home"]}),t[3]||(t[3]=(0,o.Lk)("span",null,"Back to Home",-1))])),_:1,__:[3]})])]),t[5]||(t[5]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var zu={name:"NotFoundView"};const Au=(0,c.A)(zu,[["render",Tu]]);var Ru=Au;const Pu=[{path:"/",name:"home",component:z},{path:"/login",name:"login",component:de},{path:"/signup",name:"signup",component:da},{path:"/dashboard",name:"dashboard",component:Ss},{path:"/notes",name:"notes",component:qo},{path:"/notes/:id",name:"note-detail",component:mi},{path:"/notes/edit",name:"note-editor",component:nc},{path:"/quizzes",name:"quizzes",component:vd},{path:"/quizzes/:id",name:"quiz-taking",component:wu},{path:"/progress",name:"progress",component:Tr},{path:"/settings",name:"settings",component:Dn},{path:"/:pathMatch(.*)*",name:"not-found",component:Ru}],Iu=(0,g.aE)({history:(0,g.LA)("/"),routes:Pu});Iu.beforeEach(((e,t,s)=>{const a=null!==localStorage.getItem("user");e.matched.some((e=>e.meta.requiresAuth))&&!a?s("/login"):s()}));var Du=Iu;const Ou={user:JSON.parse(localStorage.getItem("user"))||null,token:localStorage.getItem("token")||null,isAuthenticated:!!localStorage.getItem("token")},Uu={getUser:e=>e.user,isAuthenticated:e=>e.isAuthenticated},Qu={async login({commit:e},t){try{const s=await ne.auth.login(t),{user:a,token:o}=s.data;return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a)),e("SET_AUTH",{user:a,token:o}),a}catch(s){throw console.error("Login error:",s),new Error(s.response?.data?.message||"Login failed. Please check your credentials.")}},async register({commit:e},t){try{const s=await ne.auth.register(t),{user:a,token:o}=s.data;return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a)),e("SET_AUTH",{user:a,token:o}),a}catch(s){throw console.error("Registration error:",s),new Error(s.response?.data?.message||"Registration failed. Please try again.")}},async logout({commit:e}){try{await ne.auth.logout()}catch(t){console.error("Logout error:",t)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),e("CLEAR_AUTH")}},async fetchUser({commit:e}){try{const t=await ne.auth.getUser(),s=t.data;return localStorage.setItem("user",JSON.stringify(s)),e("SET_USER",s),s}catch(t){throw console.error("Fetch user error:",t),new Error("Failed to fetch user data.")}}},qu={SET_AUTH(e,{user:t,token:s}){e.user=t,e.token=s,e.isAuthenticated=!0},SET_USER(e,t){e.user=t},CLEAR_AUTH(e){e.user=null,e.token=null,e.isAuthenticated=!1}};var Xu={namespaced:!0,state:Ou,getters:Uu,actions:Qu,mutations:qu};class ju{async processImage(e){try{const t=new FormData;t.append("image",e);const s=await ne.ocr.processImage(t);return s.data}catch(t){throw console.error("OCR processing error:",t),new Error("Failed to process image. Please try again.")}}isImage(e){return e&&e.type.startsWith("image/")}async processCameraImage(e){try{const t=new File([e],"camera-image.jpg",{type:"image/jpeg"});return await this.processImage(t)}catch(t){throw console.error("Camera OCR processing error:",t),new Error("Failed to process camera image. Please try again.")}}async hasCamera(){try{const e=await navigator.mediaDevices.enumerateDevices();return e.some((e=>"videoinput"===e.kind))}catch(e){return console.error("Camera detection error:",e),!1}}async takePhoto(){return new Promise(((e,t)=>{(async()=>{try{if(!await this.hasCamera())throw new Error("No camera detected on this device.");const t=document.createElement("video");t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.setAttribute("muted","");const s=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});t.srcObject=s,t.onloadedmetadata=()=>{t.play();const a=document.createElement("canvas");a.width=t.videoWidth,a.height=t.videoHeight;const o=a.getContext("2d");o.drawImage(t,0,0,a.width,a.height),s.getTracks().forEach((e=>e.stop())),a.toBlob((t=>{e(t)}),"image/jpeg",.95)}}catch(s){console.error("Camera access error:",s),t(new Error("Failed to access camera. Please check permissions."))}})()}))}}var Mu=new ju;class Ku{async generateSummary(e,t={length:"medium"}){try{const s=await ne.gpt.generateSummary(e,t);return s.data}catch(s){throw console.error("Summary generation error:",s),new Error("Failed to generate summary. Please try again.")}}async generateQuiz(e,t={difficulty:"medium",questionCount:5}){try{const s=await ne.gpt.generateQuiz(e,t);return s.data}catch(s){throw console.error("Quiz generation error:",s),new Error("Failed to generate quiz. Please try again.")}}async extractKeywords(e){try{const t=await ne.gpt.extractKeywords(e);return t.data}catch(t){throw console.error("Keyword extraction error:",t),new Error("Failed to extract keywords. Please try again.")}}async isAppropriateContent(e){const t=["inappropriate","offensive","harmful","illegal","explicit"],s=e.toLowerCase();return!t.some((e=>s.includes(e)))}}var Wu=new Ku;const Gu={notes:[],currentNote:null,isLoading:!1,error:null,tempImageData:null},$u={getNotes:e=>e.notes,getCurrentNote:e=>e.currentNote,getRecentNotes:e=>e.notes.slice(0,5),isLoading:e=>e.isLoading,getError:e=>e.error,getTempImageData:e=>e.tempImageData},Vu={async fetchNotes({commit:e}){try{e("SET_LOADING",!0);const t=await ne.getNotes();return e("SET_NOTES",t.data),t.data}catch(t){throw console.error("Fetch notes error:",t),e("SET_ERROR","Failed to fetch notes."),t}finally{e("SET_LOADING",!1)}},async fetchNote({commit:e},t){try{e("SET_LOADING",!0);const s=await ne.getNote(t);return e("SET_CURRENT_NOTE",s.data),s.data}catch(s){throw console.error("Fetch note error:",s),e("SET_ERROR","Failed to fetch note details."),s}finally{e("SET_LOADING",!1)}},async createNote({commit:e},t){try{e("SET_LOADING",!0);const s=await ne.createNote(t);return e("ADD_NOTE",s.data),s.data}catch(s){throw console.error("Create note error:",s),e("SET_ERROR","Failed to create note."),s}finally{e("SET_LOADING",!1)}},async updateNote({commit:e},{id:t,noteData:s}){try{e("SET_LOADING",!0);const a=await ne.updateNote(t,s);return e("UPDATE_NOTE",a.data),a.data}catch(a){throw console.error("Update note error:",a),e("SET_ERROR","Failed to update note."),a}finally{e("SET_LOADING",!1)}},async deleteNote({commit:e},t){try{e("SET_LOADING",!0),await ne.deleteNote(t),e("REMOVE_NOTE",t)}catch(s){throw console.error("Delete note error:",s),e("SET_ERROR","Failed to delete note."),s}finally{e("SET_LOADING",!1)}},async processImage({commit:e},t){try{e("SET_LOADING",!0);const s=await Mu.processImage(t);return e("SET_TEMP_IMAGE_DATA",{originalText:s.text,imagePath:s.image_path}),s}catch(s){throw console.error("Process image error:",s),e("SET_ERROR","Failed to process image."),s}finally{e("SET_LOADING",!1)}},async generateSummary({state:e,commit:t},s={length:"medium"}){try{if(!e.currentNote&&!e.tempImageData)throw new Error("No note data available for summarization.");t("SET_LOADING",!0);const a=e.currentNote?e.currentNote.originalText:e.tempImageData.originalText,o=await Wu.generateSummary(a,s);if(e.currentNote){const s={...e.currentNote,summary:o.summary};t("SET_CURRENT_NOTE",s)}return o}catch(a){throw console.error("Generate summary error:",a),t("SET_ERROR","Failed to generate summary."),a}finally{t("SET_LOADING",!1)}},async extractKeywords({state:e,commit:t}){try{if(!e.currentNote&&!e.tempImageData)throw new Error("No note data available for keyword extraction.");t("SET_LOADING",!0);const s=e.currentNote?e.currentNote.originalText:e.tempImageData.originalText,a=await Wu.extractKeywords(s);if(e.currentNote){const s={...e.currentNote,keywords:a.keywords};t("SET_CURRENT_NOTE",s)}return a}catch(s){throw console.error("Extract keywords error:",s),t("SET_ERROR","Failed to extract keywords."),s}finally{t("SET_LOADING",!1)}}},Hu={SET_NOTES(e,t){e.notes=t},SET_CURRENT_NOTE(e,t){e.currentNote=t},ADD_NOTE(e,t){e.notes.unshift(t)},UPDATE_NOTE(e,t){const s=e.notes.findIndex((e=>e.id===t.id));-1!==s&&e.notes.splice(s,1,t),e.currentNote&&e.currentNote.id===t.id&&(e.currentNote=t)},REMOVE_NOTE(e,t){e.notes=e.notes.filter((e=>e.id!==t)),e.currentNote&&e.currentNote.id===t&&(e.currentNote=null)},SET_LOADING(e,t){e.isLoading=t},SET_ERROR(e,t){e.error=t},SET_TEMP_IMAGE_DATA(e,t){e.tempImageData=t},CLEAR_TEMP_IMAGE_DATA(e){e.tempImageData=null}};var Ju={namespaced:!0,state:Gu,getters:$u,actions:Vu,mutations:Hu};const Bu={stats:{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0},weeklyActivity:[],subjects:[],recentActivity:[],goals:[],isLoading:!1,error:null},Yu={getStats:e=>e.stats,getWeeklyActivity:e=>e.weeklyActivity,getSubjects:e=>e.subjects,getRecentActivity:e=>e.recentActivity,getGoals:e=>e.goals,isLoading:e=>e.isLoading,getError:e=>e.error},Zu={async fetchStats({commit:e}){try{e("SET_LOADING",!0);const t=await ne.progress.getStats();return e("SET_STATS",t.data),t.data}catch(t){throw console.error("Fetch stats error:",t),e("SET_ERROR","Failed to fetch progress statistics."),t}finally{e("SET_LOADING",!1)}},async fetchActivity({commit:e}){try{e("SET_LOADING",!0);const t=await ne.progress.getActivity();return e("SET_WEEKLY_ACTIVITY",t.data.weeklyActivity),e("SET_SUBJECTS",t.data.subjects),e("SET_RECENT_ACTIVITY",t.data.recentActivity),e("SET_GOALS",t.data.goals),t.data}catch(t){throw console.error("Fetch activity error:",t),e("SET_ERROR","Failed to fetch activity data."),t}finally{e("SET_LOADING",!1)}},async updateProgress({commit:e},t){try{e("SET_LOADING",!0);const s=await ne.progress.updateProgress(t);return"quiz"===t.type?e("UPDATE_QUIZ_STATS",t):"study"===t.type&&e("UPDATE_STUDY_HOURS",t),s.data}catch(s){throw console.error("Update progress error:",s),e("SET_ERROR","Failed to update progress."),s}finally{e("SET_LOADING",!1)}},async addGoal({commit:e},t){try{e("SET_LOADING",!0);const s={id:Date.now(),...t,progress:0};return e("ADD_GOAL",s),s}catch(s){throw console.error("Add goal error:",s),e("SET_ERROR","Failed to add goal."),s}finally{e("SET_LOADING",!1)}},async updateGoal({commit:e},{id:t,progress:s}){try{e("SET_LOADING",!0),e("UPDATE_GOAL_PROGRESS",{id:t,progress:s})}catch(a){throw console.error("Update goal error:",a),e("SET_ERROR","Failed to update goal."),a}finally{e("SET_LOADING",!1)}},async deleteGoal({commit:e},t){try{e("SET_LOADING",!0),e("REMOVE_GOAL",t)}catch(s){throw console.error("Delete goal error:",s),e("SET_ERROR","Failed to delete goal."),s}finally{e("SET_LOADING",!1)}}},eg={SET_STATS(e,t){e.stats=t},SET_WEEKLY_ACTIVITY(e,t){e.weeklyActivity=t},SET_SUBJECTS(e,t){e.subjects=t},SET_RECENT_ACTIVITY(e,t){e.recentActivity=t},SET_GOALS(e,t){e.goals=t},UPDATE_QUIZ_STATS(e,{score:t}){e.stats.quizzesCompleted++;const s=e.stats.quizAverage*(e.stats.quizzesCompleted-1);e.stats.quizAverage=Math.round((s+t)/e.stats.quizzesCompleted)},UPDATE_STUDY_HOURS(e,{hours:t}){e.stats.studyHours+=t,e.stats.studyHoursThisWeek+=t},ADD_GOAL(e,t){e.goals.push(t)},UPDATE_GOAL_PROGRESS(e,{id:t,progress:s}){const a=e.goals.find((e=>e.id===t));a&&(a.progress=s)},REMOVE_GOAL(e,t){e.goals=e.goals.filter((e=>e.id!==t))},SET_LOADING(e,t){e.isLoading=t},SET_ERROR(e,t){e.error=t}};var tg={namespaced:!0,state:Bu,getters:Yu,actions:Zu,mutations:eg};s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698);const sg={isOnline:navigator.onLine,lastSync:null,connectionStatus:"connecting",loadingStates:new Map,errors:new Map,subscriptions:new Set,optimisticUpdates:[],theme:"dark",fontSize:16},ag={isLoading:e=>t=>e.loadingStates.get(t)||!1,getError:e=>t=>e.errors.get(t),hasError:e=>t=>e.errors.has(t),getConnectionStatus:e=>e.connectionStatus,isConnected:e=>e.isOnline&&"connected"===e.connectionStatus,getLastSync:e=>e.lastSync,getTheme:e=>e.theme,getFontSize:e=>e.fontSize,getCurrentTheme:e=>"system"===e.theme&&"undefined"!==typeof window?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.theme,getThemeState:e=>({theme:e.theme,fontSize:e.fontSize,currentTheme:"system"===e.theme&&"undefined"!==typeof window?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.theme}),getThemeClasses:e=>{const t=!("undefined"===typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===e.theme||"system"===e.theme&&t;return{main:s?"bg-gray-900 text-white":"bg-gray-100 text-gray-900",header:s?"bg-gray-800":"bg-white border-b border-gray-200",sidebar:s?"bg-gray-800":"bg-gray-50 border-r border-gray-200",mainContent:s?"":"bg-gray-100",card:s?"bg-gray-800":"bg-white border border-gray-200",text:s?"text-white":"text-gray-900",secondaryText:s?"text-gray-400":"text-gray-600",input:s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900",button:s?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}},getFontSizeClasses:e=>{const t=e.fontSize;return{heading:t>=18?"text-xl":t>=16?"text-lg":"text-base",body:t>=16?"text-base":"text-sm",label:t>=16?"text-sm":"text-xs",small:"text-xs"}}},og={SET_ONLINE_STATUS(e,t){e.isOnline=t,e.connectionStatus=t?"connected":"offline"},SET_CONNECTION_STATUS(e,t){e.connectionStatus=t},SET_LOADING(e,{key:t,loading:s}){s?e.loadingStates.set(t,!0):e.loadingStates.delete(t)},SET_ERROR(e,{key:t,error:s}){s?e.errors.set(t,{message:s.message||s,timestamp:new Date,details:s}):e.errors.delete(t)},CLEAR_ERROR(e,t){e.errors.delete(t)},CLEAR_ALL_ERRORS(e){e.errors.clear()},SET_LAST_SYNC(e,t){e.lastSync=t},ADD_SUBSCRIPTION(e,t){e.subscriptions.add(t)},REMOVE_SUBSCRIPTION(e,t){e.subscriptions.delete(t)},ADD_OPTIMISTIC_UPDATE(e,t){e.optimisticUpdates.push({...t,timestamp:new Date,id:Date.now()})},REMOVE_OPTIMISTIC_UPDATE(e,t){e.optimisticUpdates=e.optimisticUpdates.filter((e=>e.id!==t))},CLEAR_OPTIMISTIC_UPDATES(e){e.optimisticUpdates=[]},SET_THEME(e,t){e.theme=t},SET_FONT_SIZE(e,t){e.fontSize=t}},lg={setOnlineStatus({commit:e},t){e("SET_ONLINE_STATUS",t)},setConnectionStatus({commit:e},t){e("SET_CONNECTION_STATUS",t)},setLoading({commit:e},t){e("SET_LOADING",t)},setError({commit:e},t){e("SET_ERROR",t)},clearError({commit:e},t){e("CLEAR_ERROR",t)},clearAllErrors({commit:e}){e("CLEAR_ALL_ERRORS")},updateLastSync({commit:e}){e("SET_LAST_SYNC",new Date)},addSubscription({commit:e},t){e("ADD_SUBSCRIPTION",t)},removeSubscription({commit:e},t){e("REMOVE_SUBSCRIPTION",t)},addOptimisticUpdate({commit:e},t){e("ADD_OPTIMISTIC_UPDATE",t)},removeOptimisticUpdate({commit:e},t){e("REMOVE_OPTIMISTIC_UPDATE",t)},clearOptimisticUpdates({commit:e}){e("CLEAR_OPTIMISTIC_UPDATES")},setTheme({commit:e,dispatch:t},s){e("SET_THEME",s),t("applyTheme",s),t("saveThemeSettings")},setFontSize({commit:e,dispatch:t},s){e("SET_FONT_SIZE",s),t("saveThemeSettings")},applyTheme(e){if("undefined"===typeof window||"undefined"===typeof document)return;const t=document.documentElement,s=document.body;if("dark"===e)t.classList.add("dark"),s.classList.add("dark");else if("light"===e)t.classList.remove("dark"),s.classList.remove("dark");else if("system"===e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.toggle("dark",e),s.classList.toggle("dark",e)}},saveThemeSettings({state:e}){const t={theme:e.theme,fontSize:e.fontSize};localStorage.setItem("smartscribe_theme_settings",JSON.stringify(t))},loadThemeSettings({commit:e,dispatch:t}){const s=localStorage.getItem("smartscribe_theme_settings");if(s)try{const a=JSON.parse(s);a.theme&&e("SET_THEME",a.theme),a.fontSize&&e("SET_FONT_SIZE",a.fontSize),t("applyTheme",a.theme||"dark")}catch(a){console.error("Error loading theme settings:",a)}else t("applyTheme","dark")},initialize({dispatch:e}){"undefined"!==typeof window&&(window.addEventListener("online",(()=>{e("setOnlineStatus",!0),e("setConnectionStatus","connected")})),window.addEventListener("offline",(()=>{e("setOnlineStatus",!1),e("setConnectionStatus","offline")})),e("setOnlineStatus",navigator.onLine),e("loadThemeSettings"))},cleanup({state:e,dispatch:t}){e.subscriptions.forEach((e=>{"function"===typeof e.cleanup&&e.cleanup()})),t("clearAllErrors"),t("clearOptimisticUpdates")}};var rg={namespaced:!0,state:sg,getters:ag,mutations:og,actions:lg},ng=(0,n.y$)({modules:{auth:Xu,notes:Ju,progress:tg,app:rg}}),ig=s(6060),cg=s(5308),dg=s(8979),ug=s(8122);ig.Yv.add(dg.v02,dg.LBj,dg.gK3,dg.dB,dg.z$e,dg.rwq,dg.MT7,dg.o1d,dg.hSh,dg.OtC,dg.jPR,dg.GRI,dg.nET,dg.wRm,dg.QLR,dg.MjD,dg.vaG,dg.yy,dg.uAg,dg.e74,dg.UBk,dg.DX_,dg.SGM,dg.a$,dg.h8M,dg.pvD,dg.z1G,dg.tUE,dg.nWR,ug.HQ1,ug.aUl,ug.QV6,ug.Vz1,ug.Kjv,ug.FjH,ug.qKs,dg.lRx,dg.pS3,dg.k6j,dg.X46,dg.Jt$,dg.JmV,dg.dmS,dg.ReK,dg.ecg,dg.yLS,dg.y_8,dg.DW4,dg.rhE);const gg=document.getElementById("app");gg&&gg.__vue_app__&&gg.__vue_app__.unmount();const mg=(0,a.Ef)(u);mg.use(ng),mg.use(Du),mg.component("font-awesome-icon",cg.gc);try{ng.dispatch("app/initialize").catch((()=>{}))}catch(pg){}mg.mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,l){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],l=e[d][2];for(var n=!0,i=0;i<a.length;i++)(!1&l||r>=l)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(n=!1,l<r&&(r=l));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[a,o,l]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,r=a[0],n=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var d=i(s)}for(t&&t(a);c<r.length;c++)l=r[c],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},a=self["webpackChunksmartscribe_newnew"]=self["webpackChunksmartscribe_newnew"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(1751)}));a=s.O(a)})();
//# sourceMappingURL=app.5edb0d58.js.map