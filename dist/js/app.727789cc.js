(function(){"use strict";var e={3449:function(e,t,s){var a=s(9746),o=s(5976),r=s(160);function l(e,t,s,a,l,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)(a.globalThemeClasses)},[(0,o.bF)(i)],2)}var n=s(1449),i={name:"App",setup(){const e=(0,n.Pj)(),t=(0,o.EW)((()=>{try{if(!e||!e.getters)return"bg-gray-900 text-white";const t=e.getters["app/getThemeClasses"];return t?.main||"bg-gray-900 text-white"}catch(t){return"bg-gray-900 text-white"}}));return(0,o.sV)((()=>{const t=e.getters["app/getTheme"];e.dispatch("app/applyTheme",t)})),{globalThemeClasses:t}}},c=s(1169);const d=(0,c.A)(i,[["render",l]]);var u=d,g=(s(8111),s(3579),s(9053));const m={class:"flex flex-col min-h-screen bg-gray-900 text-white"},p={class:"p-4 flex justify-between items-center"},f={class:"space-x-2"},b={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},x={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-6xl border border-gray-700"},y={class:"grid md:grid-cols-2 gap-6 sm:gap-8 mb-12"},h={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},v={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},k={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},w={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},L={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},C={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},E={class:"bg-gray-700/50 rounded-2xl p-6 sm:p-8 border border-gray-600 hover:border-gray-500 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20"},S={class:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center mb-6 shadow-lg"},N={class:"text-center"};function _(e,t,s,a,r,l){const n=(0,o.g2)("router-link"),i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("header",p,[t[2]||(t[2]=(0,o.Lk)("div",{class:"text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",f,[(0,o.bF)(n,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Sign In")]))),_:1,__:[0]}),(0,o.bF)(n,{to:"/signup",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Sign Up")]))),_:1,__:[1]})])]),(0,o.Lk)("main",b,[(0,o.Lk)("div",x,[t[12]||(t[12]=(0,o.Lk)("div",{class:"text-center mb-12"},[(0,o.Lk)("h1",{class:"text-3xl sm:text-4xl font-bold mb-4 text-white"},"SmartScribe: AI Study Helper"),(0,o.Lk)("p",{class:"text-lg sm:text-xl text-gray-400"},"Transform your study notes into digital content with OCR and AI")],-1)),(0,o.Lk)("div",y,[(0,o.Lk)("div",h,[(0,o.Lk)("div",v,[(0,o.bF)(i,{icon:["fas","camera"],class:"text-white text-xl sm:text-2xl"})]),t[3]||(t[3]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"OCR-based Note Scanning",-1)),t[4]||(t[4]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Take pictures of your handwritten or printed study notes and convert them to digital text instantly.",-1))]),(0,o.Lk)("div",k,[(0,o.Lk)("div",w,[(0,o.bF)(i,{icon:["fas","robot"],class:"text-white text-xl sm:text-2xl"})]),t[5]||(t[5]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"AI Summarization",-1)),t[6]||(t[6]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Generate concise summaries of your notes using advanced AI technology.",-1))]),(0,o.Lk)("div",L,[(0,o.Lk)("div",C,[(0,o.bF)(i,{icon:["fas","chart-line"],class:"text-white text-xl sm:text-2xl"})]),t[7]||(t[7]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"Study Progress Tracker",-1)),t[8]||(t[8]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Track how many notes you've scanned and reviewed to stay on top of your studies.",-1))]),(0,o.Lk)("div",E,[(0,o.Lk)("div",S,[(0,o.bF)(i,{icon:["fas","highlighter"],class:"text-white text-xl sm:text-2xl"})]),t[9]||(t[9]=(0,o.Lk)("h2",{class:"text-xl sm:text-2xl font-semibold mb-3 text-white"},"Keyword Highlighting",-1)),t[10]||(t[10]=(0,o.Lk)("p",{class:"text-gray-300 leading-relaxed"},"Automatically highlight important terms and concepts in your notes.",-1))])]),(0,o.Lk)("div",N,[(0,o.bF)(n,{to:"/signup",class:"inline-flex items-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","rocket"]}),t[11]||(t[11]=(0,o.Lk)("span",null,"Get Started",-1))])),_:1,__:[11]})])])]),t[13]||(t[13]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var T={name:"HomeView"};const F=(0,c.A)(T,[["render",_]]);var A=F;const P={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},R={class:"p-6 flex justify-between items-center"},I={class:"flex space-x-3"},D={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},z={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},O={class:"flex justify-center mb-8"},U={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},X=["src"],j={class:"space-y-2"},M={class:"relative"},K={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},W={class:"space-y-2"},Q={class:"relative"},q={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},G=["type"],$=["disabled"],V={key:0,class:"flex items-center justify-center"},H={key:1,class:"flex items-center justify-center"},J={class:"grid grid-cols-3 gap-3 mb-8"},B={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},Y={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},Z={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ee={class:"text-center"},te={class:"text-gray-400 text-sm"};function se(e,t,s,r,l,n){const i=(0,o.g2)("router-link"),c=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("header",R,[(0,o.bF)(i,{to:"/",class:"text-xl sm:text-2xl font-bold text-white hover:text-blue-400 transition-colors"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" SmartScribe ")]))),_:1,__:[4]}),(0,o.Lk)("div",I,[(0,o.bF)(i,{to:"/contact",class:"px-4 py-2 text-sm sm:text-base text-gray-400 hover:text-white transition-colors"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" Contact ")]))),_:1,__:[5]}),(0,o.bF)(i,{to:"/signup",class:"px-4 py-2 text-sm sm:text-base bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)(" Sign Up ")]))),_:1,__:[6]})])]),(0,o.Lk)("main",D,[(0,o.Lk)("div",z,[(0,o.Lk)("div",O,[(0,o.Lk)("div",U,[(0,o.Lk)("img",{src:r.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,X)])]),t[13]||(t[13]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Welcome Back"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Sign in to your SmartScribe account")],-1)),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>r.handleLogin&&r.handleLogin(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",j,[t[7]||(t[7]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",M,[(0,o.Lk)("div",K,[(0,o.bF)(c,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,r.email]])])]),(0,o.Lk)("div",W,[t[8]||(t[8]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," Password ",-1)),(0,o.Lk)("div",Q,[(0,o.Lk)("div",q,[(0,o.bF)(c,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",type:r.passwordVisible?"text":"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Enter your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,G),[[a.hp,r.password]]),(0,o.Lk)("button",{type:"button",onClick:t[2]||(t[2]=e=>r.passwordVisible=!r.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(c,{icon:["fas",r.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:r.isLoading},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",V,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[9]||(t[9]=(0,o.eW)(" Signing in... "))])):((0,o.uX)(),(0,o.CE)("span",H,[(0,o.bF)(c,{icon:["fas","sign-in-alt"],class:"mr-2"}),t[10]||(t[10]=(0,o.eW)(" Sign In "))]))],8,$)],32),t[14]||(t[14]=(0,o.Fv)('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-gray-800 text-gray-400">Or continue with</span></div></div>',1)),(0,o.Lk)("div",J,[(0,o.Lk)("button",B,[(0,o.bF)(c,{icon:["fab","google"],class:"text-red-400 text-lg"})]),(0,o.Lk)("button",Y,[(0,o.bF)(c,{icon:["fab","facebook-f"],class:"text-blue-400 text-lg"})]),(0,o.Lk)("button",Z,[(0,o.bF)(c,{icon:["fab","apple"],class:"text-gray-300 text-lg"})])]),(0,o.Lk)("div",ee,[(0,o.Lk)("p",te,[t[12]||(t[12]=(0,o.eW)(" Don't have an account? ")),(0,o.bF)(i,{to:"/signup",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)(" Sign up for free ")]))),_:1,__:[11]})])])])]),t[15]||(t[15]=(0,o.Fv)('<footer class="p-6 text-center text-gray-400 text-sm"><div class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6"><a href="#" class="hover:text-gray-300 transition-colors">Privacy Policy</a><a href="#" class="hover:text-gray-300 transition-colors">Terms of Service</a><a href="#" class="hover:text-gray-300 transition-colors">Help Center</a></div><div class="mt-4 text-gray-500"> Â© 2025 SmartScribe. All rights reserved. </div></footer>',1))])}s(4114);var ae=s.p+"img/logo.9fa07118.jpg",oe=s(2040),re=s(8194);const le=re.A.create({baseURL:"http://localhost/SmartScribe-main/public/index.php/",timeout:1e4,headers:{"Content-Type":"application/json"}});le.interceptors.request.use((e=>{const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`);const s=localStorage.getItem("user");if(s)try{const t=JSON.parse(s);t&&t.id&&(e.headers["X-User-ID"]=t.id)}catch(a){}return e.data instanceof FormData?delete e.headers["Content-Type"]:e.data&&"object"===typeof e.data&&(e.headers["Content-Type"]="application/json"),console.log("API Request URL:",e.baseURL+e.url),console.log("API Request Method:",e.method),console.log("API Request Headers:",e.headers),e})),le.interceptors.response.use((e=>(console.log("âœ… API Response:",e.config.method?.toUpperCase(),e.config.url,"- Status:",e.status),e)),(e=>(console.error("âŒ API Error:",e.config?.method?.toUpperCase(),e.config?.url),e.response?(console.error("âŒ Response status:",e.response.status),console.error("âŒ Response data:",e.response.data)):e.request?console.error("âŒ No response received:",e.request):console.error("âŒ Request setup error:",e.message),Promise.reject(e))));var ne={login(e){return le.post("?resource=auth&action=login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},register(e){return le.post("?resource=auth&action=register",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},logout(){return le.post("?resource=auth&action=logout")},getUser(){return le.get("?resource=auth&action=profile")},updateProfile(e){return le.put("?resource=auth&action=profile",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},uploadProfilePicture(e){return le.post("?resource=auth&action=upload-profile-picture",e)},getNotes(){return le.get("?resource=notes")},getNote(e){return le.get(`?resource=notes&id=${e}`)},createNote(e){if(e.image&&e.image instanceof File){const t=new FormData;return t.append("title",e.title),t.append("text",e.text),t.append("image",e.image),le.post("?resource=notes",t)}return le.post("?resource=notes",{title:e.title,text:e.text})},updateNote(e,t){const s=new FormData;return s.append("title",t.title),s.append("text",t.text),t.summary&&s.append("summary",t.summary),t.keywords&&s.append("keywords",t.keywords),le.post(`?resource=notes&id=${e}`,s)},deleteNote(e){return le.delete(`?resource=notes&id=${e}`)},ocr:{processImage(e){return le.post("?resource=ocr&action=processImage",e)}},generateSummary(e,t){return le.post(`?resource=summaries&action=generate&note_id=${e}`,t)},getSummaries(){return le.get("?resource=summaries")},getSummary(e){return le.get(`?resource=summaries&id=${e}`)},createSummary(e,t){return le.post("?resource=summaries",{note_id:e,...t})},getProgressStats(){return le.get("?resource=progress&action=stats")},getDashboardStats(){return le.get("?resource=dashboard&action=stats")},getSettings(){return le.get("?resource=settings")},updateSettings(e){return le.put("?resource=settings",JSON.stringify(e),{headers:{"Content-Type":"application/json"}})},gpt:{generateSummary(e,t={length:"medium"}){return le.post("?resource=gpt&action=generateSummary",{text:e,...t})},generateQuiz(e,t={difficulty:"medium",questionCount:5}){return le.post("?resource=gpt&action=generateQuiz",{text:e,...t})},extractKeywords(e,t=5){return le.post("?resource=gpt&action=extractKeywords",{text:e,count:t})}},getQuizzes(){return le.get("?resource=quizzes")},getQuiz(e){return le.get(`?resource=quizzes&id=${e}`)},createQuiz(e,t){return le.post("?resource=quizzes",{note_id:e,...t})},updateQuiz(e,t){return le.put(`?resource=quizzes&id=${e}`,t)},generateQuiz(e,t){return le.post(`?resource=quizzes&action=generate&note_id=${e}`,t)},exportNote(e,t){return le.get(`?resource=export&id=${e}&format=${t}`,{responseType:"blob"})}},ie={name:"LoginView",setup(){const e=(0,g.rd)(),t=(0,oe.KR)(""),s=(0,oe.KR)(""),a=(0,oe.KR)(!1),o=(0,oe.KR)(""),r=(0,oe.KR)(!1),l=async()=>{try{a.value=!0,o.value="";const r=await ne.login({email:t.value,password:s.value});if(!r.data||!r.data.user)throw new Error("Invalid response from server");localStorage.setItem("user",JSON.stringify(r.data.user)),localStorage.setItem("token",r.data.token||""),e.push("/dashboard")}catch(r){o.value=r.response?.data?.error||r.message||"Failed to login. Please try again."}finally{a.value=!1}};return{email:t,password:s,isLoading:a,errorMessage:o,handleLogin:l,passwordVisible:r,logo:ae}}};const ce=(0,c.A)(ie,[["render",se]]);var de=ce;const ue={class:"flex items-center space-x-2 md:space-x-4"},ge={class:"relative"},me={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},pe={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},fe={key:0},be=["onClick"],xe={class:"flex items-start space-x-3"},ye={class:"flex-shrink-0 mt-1"},he={class:"flex-grow"},ve={class:"flex items-start justify-between"},ke={class:"flex-grow"},we={class:"text-sm font-medium text-white"},Le={class:"text-xs text-gray-300 mt-1"},Ce={class:"text-xs text-gray-500 mt-2"},Ee={class:"flex items-center space-x-2 ml-2"},Se={key:0,class:"flex-shrink-0"},Ne=["onClick"],_e={key:0,class:"mt-3 flex space-x-2"},Te=["onClick"],Fe={key:1,class:"mt-2 flex items-center"},Ae={key:2,class:"mt-2 flex items-center"},Pe={key:1,class:"p-4 text-center text-gray-400"},Re={key:2,class:"p-3 border-t border-gray-700"},Ie={class:"relative"},De={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},ze=["src"],Oe={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},Ue={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},Xe={class:"flex flex-grow"},je={class:"space-y-2"},Me={key:0,class:"fixed top-5 right-5 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-opacity duration-300"},Ke={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},We={class:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4"},Qe={class:"mb-4"},qe={class:"mb-4"},Ge={class:"bg-gray-700 p-3 rounded-md max-h-32 overflow-y-auto text-sm text-gray-300"},$e={key:0,class:"flex items-center space-x-2"},Ve={key:1},He={class:"flex justify-end space-x-3"},Je=["disabled"],Be=["disabled"],Ye={key:0,class:"flex items-center space-x-2"},Ze={key:1},et={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},tt={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},st={class:"flex items-center mb-4"},at={class:"text-gray-300 mb-6"},ot={class:"flex justify-end space-x-3"},rt={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},lt={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},nt={class:"flex items-center mb-4"},it={class:"flex flex-col items-center mb-6"},ct=["src"],dt={class:"space-y-4"},ut={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},gt={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},mt={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},pt={class:"flex justify-end space-x-3 mt-6"},ft={class:"flex justify-between items-center mb-6"},bt={class:"flex items-center space-x-4"},xt={class:"flex items-center space-x-2"},yt={key:0,class:"text-xs text-gray-500"},ht=["disabled"],vt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6"},kt={class:"flex justify-between items-center mb-2"},wt={key:0,class:"animate-pulse"},Lt={key:1},Ct={class:"text-3xl font-bold"},Et={class:"text-sm text-gray-400"},St={class:"flex justify-between items-center mb-2"},Nt={key:0,class:"animate-pulse"},_t={key:1},Tt={class:"text-3xl font-bold"},Ft={class:"flex justify-between items-center mb-2"},At={key:0,class:"animate-pulse"},Pt={key:1},Rt={class:"text-3xl font-bold"},It={class:"flex justify-between items-center mb-2"},Dt={key:0,class:"animate-pulse"},zt={key:1},Ot={class:"text-3xl font-bold"},Ut={class:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4"},Xt={class:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center"},jt={class:"mb-4"},Mt={class:"flex justify-center space-x-4"},Kt=["disabled"],Wt={key:0,class:"mt-6"},Qt={ref:"video",autoplay:"",class:"w-full rounded-md border border-gray-600"},qt={class:"flex justify-center space-x-4 mt-4"},Gt={class:"flex justify-between items-center mb-6"},$t={class:"flex items-center space-x-3"},Vt={class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"},Ht={key:0,class:"text-center py-12"},Jt={class:"inline-flex items-center space-x-3"},Bt={key:1,class:"space-y-4"},Yt={class:"flex items-start justify-between mb-3"},Zt=["onClick"],es={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200"},ts={class:"flex-grow min-w-0"},ss={class:"font-semibold text-white group-hover:text-blue-400 transition-colors duration-200 truncate"},as={class:"flex items-center space-x-3 mt-1"},os={class:"flex items-center space-x-1 text-gray-400 text-xs"},rs={class:"flex items-center space-x-1 text-gray-400 text-xs"},ls={class:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},ns=["onClick"],is=["onClick"],cs={class:"ml-14"},ds={class:"text-sm text-gray-300 line-clamp-2 leading-relaxed"},us={class:"flex items-center justify-between mt-4"},gs={class:"flex flex-wrap gap-2"},ms={key:0,class:"px-3 py-1 bg-gray-700/50 text-gray-500 rounded-full text-xs"},ps={class:"flex items-center space-x-1 text-gray-500 text-xs"},fs={key:2,class:"text-center py-12"},bs={class:"max-w-md mx-auto"},xs={class:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-600 rounded-full flex items-center justify-center mx-auto mb-6"},ys={class:"flex flex-col sm:flex-row gap-3 justify-center"};function hs(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)([l.themeClasses.main,"min-h-screen flex flex-col"])},[(0,o.Lk)("header",{class:(0,r.C4)([l.themeClasses.header,"p-4 flex justify-between items-center"])},[t[33]||(t[33]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",ue,[(0,o.Lk)("div",ge,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",me,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",pe,[t[31]||(t[31]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",fe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",xe,[(0,o.Lk)("div",ye,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",he,[(0,o.Lk)("div",ve,[(0,o.Lk)("div",ke,[(0,o.Lk)("p",we,(0,r.v_)(s.title),1),(0,o.Lk)("p",Le,(0,r.v_)(s.message),1),(0,o.Lk)("p",Ce,(0,r.v_)(s.time),1)]),(0,o.Lk)("div",Ee,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Se,t[27]||(t[27]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Ne)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",_e,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,Te)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",Fe,t[28]||(t[28]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",Ae,t[29]||(t[29]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,be)))),128))])):((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[30]||(t[30]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Re,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ie,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",De,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,ze)):((0,o.uX)(),(0,o.CE)("div",Oe,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",null,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",Ue,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[32]||(t[32]=[(0,o.eW)("Settings")]))),_:1,__:[32]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])],2),(0,o.Lk)("div",Xe,[(0,o.Lk)("aside",{class:(0,r.C4)([l.themeClasses.sidebar,"w-64 md:w-64 p-4"])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",je,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:(0,r.C4)([l.themeClasses.button,"flex items-center space-x-2 p-2 rounded-md"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[34]||(t[34]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[34]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md",l.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[35]||(t[35]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[35]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md",l.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[36]||(t[36]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[36]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md",l.themeClasses.button])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[37]||(t[37]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[37]},8,["class"])])])])],2),l.showSaveConfirmation?((0,o.uX)(),(0,o.CE)("div",Me," âœ… Summary saved successfully! ")):(0,o.Q3)("",!0),l.showTitleModal?((0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.Lk)("div",We,[t[42]||(t[42]=(0,o.Lk)("h3",{class:"text-xl font-semibold mb-4"},"Add Note Title",-1)),(0,o.Lk)("div",Qe,[t[38]||(t[38]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Title",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.noteTitle=e),type:"text",placeholder:"Enter a title for your note...",class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:t[9]||(t[9]=(0,a.jR)(((...e)=>l.saveNoteWithTitle&&l.saveNoteWithTitle(...e)),["enter"]))},null,544),[[a.Jo,l.noteTitle]])]),(0,o.Lk)("div",qe,[t[40]||(t[40]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Preview",-1)),(0,o.Lk)("div",Ge,[l.isProcessingFile?((0,o.uX)(),(0,o.CE)("div",$e,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin"}),t[39]||(t[39]=(0,o.Lk)("span",null,"Processing file...",-1))])):((0,o.uX)(),(0,o.CE)("div",Ve,(0,r.v_)(l.ocrText?l.ocrText.substring(0,200):"No text extracted")+(0,r.v_)(l.ocrText&&l.ocrText.length>200?"...":""),1))])]),(0,o.Lk)("div",He,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>l.cancelTitleInput&&l.cancelTitleInput(...e)),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:l.isProcessingFile}," Cancel ",8,Je),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>l.saveNoteWithTitle&&l.saveNoteWithTitle(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",disabled:!l.noteTitle.trim()||l.isProcessingFile},[l.isProcessingFile?((0,o.uX)(),(0,o.CE)("span",Ye,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin"}),t[41]||(t[41]=(0,o.Lk)("span",null,"Saving...",-1))])):((0,o.uX)(),(0,o.CE)("span",Ze,"Save Note"))],8,Be)])])])):(0,o.Q3)("",!0),l.showDeleteModal?((0,o.uX)(),(0,o.CE)("div",et,[(0,o.Lk)("div",tt,[(0,o.Lk)("div",st,[(0,o.bF)(c,{icon:["fas","triangle-exclamation"],class:"text-red-400 text-xl mr-3"}),t[43]||(t[43]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"Delete Note",-1))]),(0,o.Lk)("p",at,[t[44]||(t[44]=(0,o.eW)(' Are you sure you want to delete "')),(0,o.Lk)("strong",null,(0,r.v_)(l.noteToDelete.title),1),t[45]||(t[45]=(0,o.eW)('"? This action cannot be undone. '))]),(0,o.Lk)("div",ot,[(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>l.deleteNote&&l.deleteNote(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"}," Delete ")])])])):(0,o.Q3)("",!0),l.showProfileModal?((0,o.uX)(),(0,o.CE)("div",rt,[(0,o.Lk)("div",lt,[(0,o.Lk)("div",nt,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[46]||(t[46]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",it,[(0,o.Lk)("div",{class:(0,r.C4)(["w-24 h-24 rounded-full overflow-hidden mb-3",l.themeClasses.input])},[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[14]||(t[14]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[15]||(t[15]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,ct)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["w-full h-full flex items-center justify-center",l.themeClasses.input])},[(0,o.bF)(c,{icon:["fas","user"],class:(0,r.C4)([l.themeClasses.text,"text-2xl"])},null,8,["class"])],2))],2),t[47]||(t[47]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",dt,[(0,o.Lk)("div",null,[t[48]||(t[48]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",ut,(0,r.v_)(l.user?.firstName&&l.user?.lastName?`${l.user.firstName} ${l.user.lastName}`:l.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[49]||(t[49]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",gt,(0,r.v_)(l.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[50]||(t[50]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",mt,(0,r.v_)(l.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",pt,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>l.closeProfileModal&&l.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0),(0,o.Lk)("main",{class:(0,r.C4)([l.themeClasses.mainContent,"flex-grow p-4 md:p-6"])},[(0,o.Lk)("div",ft,[t[52]||(t[52]=(0,o.Lk)("h1",{class:"text-2xl font-bold"},"Dashboard",-1)),(0,o.Lk)("div",bt,[(0,o.Lk)("div",xt,[(0,o.Lk)("div",{class:(0,r.C4)(["w-2 h-2 rounded-full transition-colors duration-300",l.isConnected?"bg-green-500 animate-pulse":"bg-red-500"])},null,2),(0,o.Lk)("span",{class:(0,r.C4)(["text-sm transition-colors duration-300",l.isConnected?"text-green-400":"text-red-400"])},(0,r.v_)(l.isConnected?"Live Updates":"Offline"),3),l.lastSync?((0,o.uX)(),(0,o.CE)("span",yt," ("+(0,r.v_)(new Date(l.lastSync).toLocaleTimeString())+") ",1)):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{onClick:t[17]||(t[17]=e=>{l.refreshNotes(),l.refreshStats(),l.refreshUser()}),disabled:l.loadingNotes||l.loadingStats||l.loadingUser,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",l.loadingNotes||l.loadingStats||l.loadingUser?"spinner":"sync-alt"],class:(0,r.C4)([l.loadingNotes||l.loadingStats||l.loadingUser?"animate-spin":"","text-sm"])},null,8,["icon","class"]),t[51]||(t[51]=(0,o.Lk)("span",{class:"text-sm"},"Refresh",-1))],8,ht)])]),(0,o.Lk)("div",vt,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",kt,[t[53]||(t[53]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Total Notes",-1)),(0,o.bF)(c,{icon:["fas","book"],class:"text-blue-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",wt,t[54]||(t[54]=[(0,o.Lk)("div",{class:"h-8 bg-gray-700 rounded mb-2"},null,-1),(0,o.Lk)("div",{class:"h-4 bg-gray-700 rounded w-3/4"},null,-1)]))):((0,o.uX)(),(0,o.CE)("div",Lt,[(0,o.Lk)("p",Ct,(0,r.v_)(l.stats.totalNotes),1),(0,o.Lk)("p",Et,(0,r.v_)(l.stats.notesThisWeek)+" new this week",1)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",St,[t[55]||(t[55]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Study Time",-1)),(0,o.bF)(c,{icon:["fas","clock"],class:"text-green-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",Nt,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",_t,[(0,o.Lk)("p",Tt,(0,r.v_)(l.stats.studyHours)+"h",1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},(0,r.v_)(l.stats.studyHoursThisWeek)+"h this week",3)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Ft,[t[56]||(t[56]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Quiz Score",-1)),(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-yellow-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",At,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",Pt,[(0,o.Lk)("p",Rt,(0,r.v_)(l.stats.quizAverage)+"%",1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},(0,r.v_)(l.stats.quizzesCompleted)+" quizzes completed",3)]))],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",It,[t[57]||(t[57]=(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Goals",-1)),(0,o.bF)(c,{icon:["fas","bullseye"],class:"text-purple-500 text-xl"})]),l.loadingDashboard?((0,o.uX)(),(0,o.CE)("div",Dt,[(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-8 rounded mb-2"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"h-4 rounded w-3/4"])},null,2)])):((0,o.uX)(),(0,o.CE)("div",zt,[(0,o.Lk)("p",Ot,(0,r.v_)(l.stats.activeGoals),1),(0,o.Lk)("p",{class:(0,r.C4)([l.themeClasses.secondaryText,"text-sm"])},(0,r.v_)(l.stats.completedGoals)+" completed this month",3)]))],2)]),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6 mb-6"])},[t[62]||(t[62]=(0,o.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Quick Actions",-1)),(0,o.Lk)("div",Ut,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.openCamera&&l.openCamera(...e)),class:(0,r.C4)([l.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},[(0,o.bF)(c,{icon:["fas","camera"],class:"text-2xl text-blue-500 mb-2"}),t[58]||(t[58]=(0,o.Lk)("span",{class:"text-sm font-medium"},"Scan Note",-1))],2),(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.createNewNote&&l.createNewNote(...e)),class:(0,r.C4)([l.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},[(0,o.bF)(c,{icon:["fas","plus"],class:"text-2xl text-green-500 mb-2"}),t[59]||(t[59]=(0,o.Lk)("span",{class:"text-sm font-medium"},"New Note",-1))],2),(0,o.bF)(d,{to:"/progress",class:(0,r.C4)([l.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"],class:"text-2xl text-purple-500 mb-2"}),t[60]||(t[60]=(0,o.Lk)("span",{class:"text-sm font-medium"},"View Progress",-1))])),_:1,__:[60]},8,["class"]),(0,o.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>l.openSettings&&l.openSettings(...e)),class:(0,r.C4)([l.themeClasses.button,"flex flex-col items-center p-4 rounded-lg transition"])},[(0,o.bF)(c,{icon:["fas","cog"],class:"text-2xl text-yellow-500 mb-2"}),t[61]||(t[61]=(0,o.Lk)("span",{class:"text-sm font-medium"},"Settings",-1))],2)])],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6 mb-6"])},[t[67]||(t[67]=(0,o.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Scan New Notes",-1)),(0,o.Lk)("div",Xt,[(0,o.Lk)("div",jt,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-4xl text-gray-400"})]),t[66]||(t[66]=(0,o.Lk)("p",{class:"mb-4 text-gray-400"},"Take a picture or upload your notes (images with OCR text extraction)",-1)),(0,o.Lk)("div",Mt,[(0,o.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[63]||(t[63]=(0,o.eW)(" Take Photo "))]),(0,o.Lk)("label",{class:(0,r.C4)(["px-4 py-2 rounded-md transition cursor-pointer flex items-center space-x-2",l.isProcessingFile?"bg-gray-600 cursor-not-allowed opacity-50":"bg-gray-700 hover:bg-gray-600"])},[l.isProcessingFile?((0,o.uX)(),(0,o.Wv)(c,{key:0,icon:["fas","spinner"],class:"animate-spin"})):((0,o.uX)(),(0,o.Wv)(c,{key:1,icon:["fas","upload"]})),(0,o.Lk)("span",null,(0,r.v_)(l.isProcessingFile?"Processing...":"Upload Image"),1),(0,o.Lk)("input",{type:"file",class:"hidden",onChange:t[22]||(t[22]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e)),accept:"image/*",disabled:l.isProcessingFile},null,40,Kt)],2)]),l.showCamera?((0,o.uX)(),(0,o.CE)("div",Wt,[(0,o.Lk)("video",Qt,null,512),(0,o.Lk)("div",qt,[(0,o.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>l.capturePhoto&&l.capturePhoto(...e)),class:"px-4 py-2 bg-green-600 rounded-md hover:bg-green-700 transition"},[(0,o.bF)(c,{icon:["fas","camera-retro"],class:"mr-2"}),t[64]||(t[64]=(0,o.eW)(" Capture "))]),(0,o.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>l.closeCamera&&l.closeCamera(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","times"],class:"mr-2"}),t[65]||(t[65]=(0,o.eW)(" Cancel "))])])])):(0,o.Q3)("",!0)])],2),(0,o.Lk)("div",{class:(0,r.C4)([l.themeClasses.card,"rounded-lg p-6"])},[(0,o.Lk)("div",Gt,[(0,o.Lk)("div",$t,[(0,o.Lk)("div",Vt,[(0,o.bF)(c,{icon:["fas","clock"],class:"text-white text-sm"})]),t[68]||(t[68]=(0,o.Lk)("h2",{class:"text-xl font-semibold"},"Recent Notes",-1))]),(0,o.bF)(d,{to:"/notes",class:"flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors duration-200"},{default:(0,o.k6)((()=>[t[69]||(t[69]=(0,o.Lk)("span",{class:"text-sm font-medium"},"View All",-1)),(0,o.bF)(c,{icon:["fas","arrow-right"],class:"text-xs"})])),_:1,__:[69]})]),l.loadingNotes?((0,o.uX)(),(0,o.CE)("div",Ht,[(0,o.Lk)("div",Jt,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin text-2xl text-blue-400"}),t[70]||(t[70]=(0,o.Lk)("p",{class:"text-gray-400"},"Loading your recent notes...",-1))])])):l.recentNotes.length>0?((0,o.uX)(),(0,o.CE)("div",Bt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.recentNotes,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id||s,class:"group relative bg-gradient-to-r from-gray-800 to-gray-750 rounded-xl p-5 border border-gray-700 hover:border-gray-600 transition-all duration-300 hover:shadow-lg hover:shadow-gray-900/20 transform hover:-translate-y-0.5"},[(0,o.Lk)("div",Yt,[(0,o.Lk)("div",{class:"flex items-start space-x-4 flex-grow cursor-pointer",onClick:t=>l.viewNote(e.id)},[(0,o.Lk)("div",es,[(0,o.bF)(c,{icon:["fas","file-alt"],class:"text-white text-sm"})]),(0,o.Lk)("div",ts,[(0,o.Lk)("h3",ss,(0,r.v_)(e.title),1),(0,o.Lk)("div",as,[(0,o.Lk)("div",os,[(0,o.bF)(c,{icon:["fas","clock"]}),(0,o.Lk)("span",null,(0,r.v_)(l.getTimeAgo(e.createdAt)),1)]),(0,o.Lk)("div",rs,[(0,o.bF)(c,{icon:["fas","align-left"]}),(0,o.Lk)("span",null,(0,r.v_)(e.wordCount)+" words",1)])])])],8,Zt),(0,o.Lk)("div",ls,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.editNote(e.id)),["stop"]),class:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-all duration-200",title:"Edit note"},[(0,o.bF)(c,{icon:["fas","edit"],class:"text-sm"})],8,ns),(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.confirmDelete(e.id,e.title)),["stop"]),class:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200",title:"Delete note"},[(0,o.bF)(c,{icon:["fas","trash"],class:"text-sm"})],8,is)])]),(0,o.Lk)("div",cs,[(0,o.Lk)("p",ds,(0,r.v_)(e.summary),1),(0,o.Lk)("div",us,[(0,o.Lk)("div",gs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tags,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-3 py-1 bg-gradient-to-r from-gray-700 to-gray-600 text-gray-300 rounded-full text-xs font-medium border border-gray-600"},(0,r.v_)(e),1)))),128)),0===e.tags.length?((0,o.uX)(),(0,o.CE)("span",ms," No tags ")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ps,[(0,o.bF)(c,{icon:["fas","eye"]}),(0,o.Lk)("span",null,(0,r.v_)(e.readingTime)+" min read",1)])])]),t[71]||(t[71]=(0,o.Lk)("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"},null,-1))])))),128))])):((0,o.uX)(),(0,o.CE)("div",fs,[(0,o.Lk)("div",bs,[(0,o.Lk)("div",xs,[(0,o.bF)(c,{icon:["fas","book-open"],class:"text-3xl text-gray-400"})]),t[74]||(t[74]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-white mb-2"},"No notes yet",-1)),t[75]||(t[75]=(0,o.Lk)("p",{class:"text-gray-400 mb-6 leading-relaxed"}," Start building your knowledge base by scanning your first note, uploading images with OCR text extraction, or creating one from scratch. ",-1)),(0,o.Lk)("div",ys,[(0,o.Lk)("button",{onClick:t[25]||(t[25]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all duration-200 transform hover:scale-105"},[(0,o.bF)(c,{icon:["fas","camera"]}),t[72]||(t[72]=(0,o.Lk)("span",null,"Scan Note",-1))]),(0,o.Lk)("button",{onClick:t[26]||(t[26]=(...e)=>l.createNewNote&&l.createNewNote(...e)),class:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500 text-white rounded-lg transition-all duration-200"},[(0,o.bF)(c,{icon:["fas","plus"]}),t[73]||(t[73]=(0,o.Lk)("span",null,"Create Note",-1))])])])]))],2)],2)])],2)}s(2489),s(7588),s(1701);var vs=s(4391),ks=s.n(vs);function ws(){const e=(0,oe.KR)(!1),t=(0,oe.KR)([]),s=(0,oe.KR)(!1),a=(0,oe.KR)(null),r=(0,oe.KR)(!0),l={SUCCESS:{icon:["fas","check-circle"],color:"text-green-400",bgColor:"bg-green-500",sound:"success.mp3"},ERROR:{icon:["fas","triangle-exclamation"],color:"text-red-400",bgColor:"bg-red-500",sound:"error.mp3"},WARNING:{icon:["fas","exclamation-circle"],color:"text-yellow-400",bgColor:"bg-yellow-500",sound:"warning.mp3"},INFO:{icon:["fas","info-circle"],color:"text-blue-400",bgColor:"bg-blue-500",sound:"info.mp3"},NOTE_CREATED:{icon:["fas","file-alt"],color:"text-purple-400",bgColor:"bg-purple-500",sound:"note.mp3"},NOTE_UPDATED:{icon:["fas","edit"],color:"text-indigo-400",bgColor:"bg-indigo-500",sound:"update.mp3"},GOAL_ACHIEVED:{icon:["fas","trophy"],color:"text-yellow-500",bgColor:"bg-yellow-600",sound:"achievement.mp3"},SYSTEM:{icon:["fas","cog"],color:"text-gray-400",bgColor:"bg-gray-500",sound:"system.mp3"}},n=(0,o.EW)((()=>t.value.filter((e=>!e.read)).length)),i=()=>{try{const e=localStorage.getItem("smartscribe_notifications");if(e){const s=JSON.parse(e);t.value=s.map((e=>({...e,timestamp:new Date(e.timestamp)})))}else g({type:"INFO",title:"Welcome to SmartScribe!",message:"Start by scanning your first note or creating a new one.",actions:[{label:"Get Started",action:"navigate",data:"/dashboard"}]})}catch(e){console.error("Error loading notifications:",e)}},c=()=>{try{localStorage.setItem("smartscribe_notifications",JSON.stringify(t.value))}catch(e){console.error("Error saving notifications:",e)}},d=e=>{if(r.value)try{const t=new Audio(`/sounds/${e}`);t.volume=.3,t.play().catch((()=>{}))}catch(t){}},u=e=>{const t=new Date,s=t-e,a=Math.floor(s/6e4),o=Math.floor(s/36e5),r=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a}m ago`:o<24?`${o}h ago`:r<7?`${r}d ago`:e.toLocaleDateString()},g=e=>{const s=l[e.type]||l.INFO,a={id:Date.now()+Math.random(),timestamp:new Date,read:!1,priority:e.priority||"normal",category:e.category||"general",actions:e.actions||[],persistent:e.persistent||!1,...s,...e};return a.time=u(a.timestamp),e.silent||d(s.sound),t.value.unshift(a),t.value.length>50&&(t.value=t.value.slice(0,50)),c(),"low"===a.priority&&setTimeout((()=>{E(a)}),3e4),a},m=(e,t,s={})=>g({type:"SUCCESS",title:e,message:t,...s}),p=(e,t,s={})=>g({type:"ERROR",title:e,message:t,priority:"high",...s}),f=(e,t,s={})=>g({type:"WARNING",title:e,message:t,...s}),b=(e,t,s={})=>g({type:"INFO",title:e,message:t,...s}),x=e=>g({type:"NOTE_CREATED",title:"Note Created",message:`"${e}" has been created successfully.`,actions:[{label:"View Note",action:"navigate",data:`/notes/${e}`}]}),y=e=>g({type:"NOTE_UPDATED",title:"Note Updated",message:`"${e}" has been updated.`,priority:"low"}),h=e=>g({type:"GOAL_ACHIEVED",title:"Goal Achieved! ðŸŽ‰",message:`Congratulations! You've completed "${e}".`,persistent:!0,actions:[{label:"Set New Goal",action:"navigate",data:"/progress"}]}),v=e=>g({type:"SYSTEM",title:"System Update",message:e,priority:"low"}),k=()=>{s.value||(s.value=!0,a.value=setInterval((async()=>{try{const e=Math.random()<.1;if(e&&t.value.length<10){const e=[{type:"INFO",title:"System Status",message:"All systems are running smoothly.",priority:"low"},{type:"SUCCESS",title:"Backup Complete",message:"Your data has been backed up successfully.",priority:"low"},{type:"WARNING",title:"Storage Update",message:`You have used ${Math.floor(20*Math.random()+60)}% of your storage.`,priority:"normal",actions:[{label:"Manage Storage",action:"navigate",data:"/settings"}]}],t=e[Math.floor(Math.random()*e.length)];g({...t,silent:!0})}}catch(e){console.debug("Notification polling failed:",e.message)}}),3e4))},w=()=>{a.value&&(clearInterval(a.value),a.value=!1),s.value=!1},L=()=>{e.value=!e.value},C=()=>{e.value=!1},E=e=>{e.read=!0,c()},S=()=>{t.value.forEach((e=>{e.read=!0})),c()},N=e=>{const s=t.value.findIndex((t=>t.id===e));s>-1&&(t.value.splice(s,1),c())},_=()=>{t.value=[],c()},T=(e,t)=>{switch(t.action){case"navigate":t.data.startsWith("/")?window.location.href=t.data:window.open(t.data,"_blank");break;case"dismiss":N(e.id);break;case"callback":"function"===typeof t.callback&&t.callback(e);break;case"markAsRead":E(e);break}},F=()=>{t.value.forEach((e=>{e.time=u(e.timestamp)}))};return(0,o.sV)((()=>{i(),k(),F();const e=setInterval(F,6e4);(0,o.hi)((()=>{w(),clearInterval(e)}))})),{showNotifications:e,notifications:t,unreadNotifications:n,soundEnabled:r,toggleNotifications:L,closeNotifications:C,markAsRead:E,markAllAsRead:S,removeNotification:N,clearAllNotifications:_,addNotification:g,showSuccess:m,showError:p,showWarning:f,showInfo:b,notifyNoteCreated:x,notifyNoteUpdated:y,notifyGoalAchieved:h,notifySystemUpdate:v,executeAction:T,startPolling:k,stopPolling:w}}function Ls(){const e=(0,oe.KR)(null),t=(0,oe.KR)(!1),s=(0,oe.KR)(null),a=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},r=async()=>{try{t.value=!0,s.value=null;const r=localStorage.getItem("user");if(r)try{const t=JSON.parse(r);e.value={id:t.id,name:t.name||"User",email:t.email||"user@example.com",firstName:t.first_name||t.firstName||"",lastName:t.last_name||t.lastName||"",profilePicture:t.profile_picture||t.profilePicture||null,memberSince:t.created_at?new Date(t.created_at).toLocaleDateString():(new Date).toLocaleDateString()}}catch(a){console.error("Error parsing user data from localStorage:",a),localStorage.removeItem("user")}try{const t=await ne.getUser();if(t.data&&t.data.success&&t.data.user){const s=t.data.user;e.value={id:s.id,name:s.name||"User",email:s.email||"user@example.com",firstName:s.first_name||"",lastName:s.last_name||"",profilePicture:s.profile_picture||null,memberSince:s.created_at?new Date(s.created_at).toLocaleDateString():(new Date).toLocaleDateString()},localStorage.setItem("user",JSON.stringify(s))}}catch(o){console.warn("Could not fetch user profile from API, using localStorage data:",o.message)}}catch(r){s.value=r.message,console.error("Error loading user profile:",r)}finally{t.value=!1}},l=async e=>{try{t.value=!0,s.value=null;const a=await ne.updateProfile(e);if(a.data&&a.data.success)return await r(),{success:!0};{const e=a.data?.error||"Failed to update profile";throw new Error(e)}}catch(a){const e=a.message||"Network error occurred";return s.value=e,console.error("Error updating user profile:",a),{success:!1,error:e}}finally{t.value=!1}},n=(0,o.EW)((()=>a(e.value?.profilePicture))),i=(0,o.EW)((()=>e.value?.name||"User")),c=(0,o.EW)((()=>!!e.value?.id)),d=()=>{e.value=null,s.value=null,localStorage.removeItem("user"),localStorage.removeItem("token")},u=(0,o.EW)((()=>!!e.value?.profilePicture)),g=(0,o.EW)((()=>{if(!e.value?.name)return"U";const t=e.value.name.split(" ");return t.length>=2?`${t[0][0]}${t[1][0]}`.toUpperCase():e.value.name[0].toUpperCase()}));return(0,o.wB)(e,(e=>{e&&e.id&&localStorage.setItem("user",JSON.stringify({id:e.id,name:e.name,email:e.email,first_name:e.firstName,last_name:e.lastName,profile_picture:e.profilePicture,created_at:e.created_at}))}),{deep:!0}),{user:e,loading:t,error:s,profilePictureUrl:n,displayName:i,isAuthenticated:c,hasProfilePicture:u,getUserInitials:g,loadUserProfile:r,updateUserProfile:l,logout:d,getProfilePictureUrl:a}}var Cs={name:"DashboardView",setup(){const e=(0,g.rd)(),t=(0,n.Pj)(),s=(0,oe.KR)(null),a=(0,oe.KR)(null),r=(0,oe.KR)(!1),l=(0,oe.KR)(!1),i=(0,oe.KR)(!1),c=(0,oe.KR)(!0),d=(0,oe.KR)("connected"),u=(0,oe.KR)(new Date),{showNotifications:m,notifications:p,unreadNotifications:f,toggleNotifications:b,closeNotifications:x,markAsRead:y,markAllAsRead:h,showSuccess:v,showInfo:k,showWarning:w}=ws(),{user:L,loading:C,loadUserProfile:E}=Ls(),S=(0,o.EW)((()=>s.value?.data?s.value.data.slice(0,5).map((e=>{const t=new Date(e.created_at),s=e.original_text?e.original_text.substring(0,100)+(e.original_text.length>100?"...":""):"No content";return{id:e.id,title:e.title||"Untitled Note",summary:s,date:t.toLocaleDateString(),createdAt:t,timestamp:t.getTime(),tags:[],wordCount:te(s),readingTime:se(s)}})):[])),N=(0,o.EW)((()=>{if(!a.value?.data)return{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0,activeGoals:0,completedGoals:0};const e=a.value.data,t={totalNotes:e.totalNotes||0,notesThisWeek:e.notesThisWeek||0,studyHours:e.studyHours||0,studyHoursThisWeek:e.studyHoursThisWeek||0,quizAverage:e.quizAverage||0,quizzesCompleted:e.quizzesCompleted||0,activeGoals:0,completedGoals:0};return t})),_=L,T=(0,o.EW)((()=>{try{if(!t||!t.getters)return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"};const e=t.getters["app/getThemeClasses"];return e&&"object"===typeof e?e:{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}catch(e){return{main:"bg-gray-900 text-white",header:"bg-gray-800",sidebar:"bg-gray-800",mainContent:"",card:"bg-gray-800",text:"text-white",secondaryText:"text-gray-400",input:"bg-gray-700 border-gray-600 text-white",button:"bg-gray-700 hover:bg-gray-600"}}})),F=(0,oe.KR)(!1),A=(0,oe.KR)(!1),P=(0,oe.KR)(!1),R=(0,oe.KR)(null),I=(0,oe.KR)(""),D=(0,oe.KR)(!1),z=(0,oe.KR)(!1),O=(0,oe.KR)(!1),U=(0,oe.KR)(""),X=(0,oe.KR)(null),j=(0,oe.KR)(!1),M=(0,oe.KR)(null),K=async e=>{try{const t=new FormData;t.append("profile_picture",e);const s=await ne.uploadProfilePicture(t);return s.data.success?(await J(),{success:!0,message:s.data.message}):{success:!1,message:s.data.error}}catch(t){return{success:!1,message:"Network error"}}},W=async e=>{const t=e.target.files[0];if(!t)return;const s=["image/jpeg","image/png","image/gif","image/webp"];if(!s.includes(t.type))return void w("Invalid file type","Please select a valid image file (JPEG, PNG, GIF, or WebP)");const a=5242880;if(t.size>a)w("File too large","File size must be less than 5MB");else{try{const e=await K(t);e.success?v("Profile picture updated",e.message):w("Upload failed",e.message)}catch(o){w("Upload error","Network error occurred")}e.target.value=""}},Q=()=>{e.push("/notes/edit")},q=()=>{e.push("/settings")},G=async()=>{try{r.value=!0;const e=await ne.getNotes();s.value=e.data}catch(e){}finally{r.value=!1}},$=async()=>{try{i.value=!0;const e=await ne.getDashboardStats();a.value=e.data}catch(e){}finally{i.value=!1}},V=async()=>{await G()},H=async()=>{await $()},J=async()=>{await E()},B=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},Y=()=>{},Z=()=>{},ee=e=>{try{const t=e instanceof Date?e:new Date(e);if(isNaN(t.getTime()))return"Invalid date";const s=new Date,a=Math.floor((s-t)/1e3);return a<60?"Just now":a<3600?`${Math.floor(a/60)} minutes ago`:a<86400?`${Math.floor(a/3600)} hours ago`:a<604800?`${Math.floor(a/86400)} days ago`:t.toLocaleDateString()}catch(t){return"Date error"}},te=e=>e&&"string"===typeof e?e.trim().split(/\s+/).filter((e=>e.length>0)).length:0,se=e=>{const t=200,s=te(e),a=Math.ceil(s/t);return Math.max(1,a)};(0,o.sV)((async()=>{await Promise.all([G(),$(),E()]),setTimeout((()=>{v("Welcome to SmartScribe!","Your dashboard is ready.")}),1e3)}));const ae=()=>{F.value=!F.value},re=()=>{F.value=!1},le=()=>{A.value=!0,F.value=!1},ie=()=>{A.value=!1},ce=async()=>{try{e.push("/login")}catch(t){}},de=async()=>{P.value=!0,await(0,o.dY)();try{const e=await navigator.mediaDevices.getUserMedia({video:!0});R.value&&(R.value.srcObject=e)}catch(e){}},ue=()=>{P.value=!1;const e=R.value.srcObject;e&&e.getTracks().forEach((e=>e.stop())),R.value.srcObject=null},ge=()=>{const e=document.createElement("canvas");e.width=R.value.videoWidth,e.height=R.value.videoHeight,e.getContext("2d").drawImage(R.value,0,0),e.toBlob((async e=>{try{const{data:{text:t}}=await ks().recognize(e,"eng",{logger:()=>{}});I.value=t,X.value={type:"capture",data:t},ue(),O.value=!0,U.value=""}catch(t){}}),"image/jpeg")},me=async e=>{const t=e.target.files[0];if(!t)return;const s=5242880;if(t.size>s)return void alert("File is too large!");const a=["image/jpeg","image/png","image/gif","image/webp"];if(a.includes(t.type)){D.value=!0;try{const{data:{text:e}}=await ks().recognize(t,"eng",{logger:()=>{}});I.value=e,X.value={type:"upload",file:t,text:e},O.value=!0,U.value=""}catch(o){alert("Error processing file. Please try again.")}finally{D.value=!1}e.target.value=""}else alert("Only JPG, PNG, GIF, and WebP images are allowed!")},pe=async()=>{if(U.value.trim())try{const t={title:U.value.trim(),text:"upload"===X.value.type?X.value.text:X.value.data,..."upload"===X.value.type&&X.value.file&&{image:X.value.file}};if(t.image&&!(t.image instanceof File))return void alert("File upload error: Invalid file object");try{await ne.createNote(t),v("Note saved","Your note has been created successfully."),await Promise.all([V(),H()])}catch(e){w("Save failed","Failed to save the note. Please try again.")}O.value=!1,U.value="",X.value=null,I.value=""}catch(e){}},fe=()=>{O.value=!1,U.value="",X.value=null,I.value=""},be=()=>{z.value=!0,setTimeout((()=>{z.value=!1}),3e3)},xe=t=>{e.push(`/notes/${t}`)},ye=t=>{e.push(`/notes/edit?id=${t}`)},he=(e,t)=>{M.value={id:e,title:t},j.value=!0},ve=()=>{j.value=!1,M.value=null},ke=async()=>{if(M.value){try{await ne.deleteNote(M.value.id),S.value=S.value.filter((e=>e.id!==M.value.id)),await V()}catch(e){}ve()}};return{showUserMenu:F,showProfileModal:A,showCamera:P,video:R,showSaveConfirmation:z,showTitleModal:O,noteTitle:U,pendingImageData:X,showDeleteModal:j,noteToDelete:M,isProcessingFile:D,user:_,recentNotes:S,stats:N,loadingNotes:r,loadingStats:l,loadingDashboard:i,loadingUser:C,isConnected:c,connectionStatus:d,lastSync:u,toggleUserMenu:ae,closeUserMenu:re,openProfileModal:le,closeProfileModal:ie,logout:ce,openCamera:de,closeCamera:ue,capturePhoto:ge,handleFileUpload:me,handleProfilePictureUpload:W,saveNoteWithTitle:pe,cancelTitleInput:fe,showConfirmation:be,viewNote:xe,editNote:ye,confirmDelete:he,closeDeleteModal:ve,deleteNote:ke,createNewNote:Q,openSettings:q,getProfilePictureUrl:B,handleImageError:Y,handleImageLoad:Z,showNotifications:m,notifications:p,unreadNotifications:f,toggleNotifications:b,markAsRead:y,markAllAsRead:h,closeNotifications:x,showSuccess:v,showInfo:k,showWarning:w,refreshNotes:V,refreshStats:H,refreshUser:J,loadUserProfile:E,getTimeAgo:ee,getWordCount:te,getReadingTime:se,ocrText:I,themeClasses:T,store:t}}};const Es=(0,c.A)(Cs,[["render",hs]]);var Ss=Es;const Ns={class:"min-h-screen flex flex-col bg-gray-900 text-white"},_s={class:"p-4 flex justify-between items-center"},Ts={class:"space-x-2"},Fs={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},As={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700"},Ps={class:"flex justify-center mb-8"},Rs={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full overflow-hidden flex items-center justify-center shadow-xl"},Is=["src"],Ds={class:"space-y-2"},zs={class:"space-y-2"},Os={class:"space-y-2"},Us={class:"relative"},Xs={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},js={class:"space-y-2"},Ms={class:"relative"},Ks={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ws=["type"],Qs={class:"space-y-2"},qs={class:"relative"},Gs={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},$s=["type"],Vs=["disabled"],Hs={key:0,class:"flex items-center justify-center"},Js={key:1,class:"flex items-center justify-center"},Bs={class:"grid grid-cols-3 gap-3 mb-8"},Ys={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},Zs={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ea={class:"w-full flex items-center justify-center px-4 py-3 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors duration-200"},ta={class:"text-center"},sa={class:"text-gray-400 text-sm"},aa={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},oa={class:"bg-white text-gray-800 rounded-xl p-6 w-full max-w-sm shadow-xl transform transition-all scale-100"},ra={class:"flex justify-center mb-4"},la={class:"bg-green-100 text-green-600 w-16 h-16 flex items-center justify-center rounded-full"};function na(e,t,s,r,l,n){const i=(0,o.g2)("router-link"),c=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Ns,[(0,o.Lk)("header",_s,[(0,o.bF)(i,{to:"/",class:"text-xl font-bold"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("SmartScribe")]))),_:1,__:[8]}),(0,o.Lk)("div",Ts,[(0,o.bF)(i,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("Sign In")]))),_:1,__:[9]}),(0,o.bF)(i,{to:"/contact",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("Contact")]))),_:1,__:[10]})])]),(0,o.Lk)("main",Fs,[(0,o.Lk)("div",As,[(0,o.Lk)("div",Ps,[(0,o.Lk)("div",Rs,[(0,o.Lk)("img",{src:r.logo,alt:"SmartScribe Logo",class:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-full"},null,8,Is)])]),t[22]||(t[22]=(0,o.Lk)("div",{class:"text-center mb-8"},[(0,o.Lk)("h1",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Create Your Account"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"Sign up for SmartScribe to start digitizing your notes")],-1)),(0,o.Lk)("form",{onSubmit:t[7]||(t[7]=(0,a.D$)(((...e)=>r.handleSignup&&r.handleSignup(...e)),["prevent"])),class:"space-y-6"},[(0,o.Lk)("div",Ds,[t[11]||(t[11]=(0,o.Lk)("label",{for:"firstName",class:"block text-sm font-medium text-gray-300"}," First Name ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"firstName",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.firstName=e),placeholder:"Enter your first name",class:"w-full px-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,r.firstName]])]),(0,o.Lk)("div",zs,[t[12]||(t[12]=(0,o.Lk)("label",{for:"lastName",class:"block text-sm font-medium text-gray-300"}," Last Name ",-1)),(0,o.bo)((0,o.Lk)("input",{id:"lastName",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.lastName=e),placeholder:"Enter your last name",class:"w-full px-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,r.lastName]])]),(0,o.Lk)("div",Os,[t[13]||(t[13]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-300"}," Email Address ",-1)),(0,o.Lk)("div",Us,[(0,o.Lk)("div",Xs,[(0,o.bF)(c,{icon:["fas","envelope"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>r.email=e),placeholder:"Enter your email",class:"w-full pl-10 pr-4 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,512),[[a.Jo,r.email]])])]),(0,o.Lk)("div",js,[t[14]||(t[14]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-300"}," Password ",-1)),(0,o.Lk)("div",Ms,[(0,o.Lk)("div",Ks,[(0,o.bF)(c,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"password",ref:"passwordInput",type:r.passwordVisible?"text":"password","onUpdate:modelValue":t[3]||(t[3]=e=>r.password=e),placeholder:"Enter your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,Ws),[[a.hp,r.password]]),(0,o.Lk)("button",{type:"button",onClick:t[4]||(t[4]=e=>r.passwordVisible=!r.passwordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(c,{icon:["fas",r.passwordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("div",Qs,[t[15]||(t[15]=(0,o.Lk)("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-300"}," Confirm Password ",-1)),(0,o.Lk)("div",qs,[(0,o.Lk)("div",Gs,[(0,o.bF)(c,{icon:["fas","lock"],class:"text-gray-500 text-sm"})]),(0,o.bo)((0,o.Lk)("input",{id:"confirmPassword",ref:"confirmPasswordInput",type:r.confirmPasswordVisible?"text":"password","onUpdate:modelValue":t[5]||(t[5]=e=>r.confirmPassword=e),placeholder:"Confirm your password",class:"w-full pl-10 pr-12 py-3 text-sm sm:text-base border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-600",required:""},null,8,$s),[[a.hp,r.confirmPassword]]),(0,o.Lk)("button",{type:"button",onClick:t[6]||(t[6]=e=>r.confirmPasswordVisible=!r.confirmPasswordVisible),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-300 transition-colors"},[(0,o.bF)(c,{icon:["fas",r.confirmPasswordVisible?"eye-slash":"eye"],class:"text-sm"},null,8,["icon"])])])]),(0,o.Lk)("button",{type:"submit",class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold text-sm sm:text-base hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:r.isLoading},[r.isLoading?((0,o.uX)(),(0,o.CE)("span",Hs,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[16]||(t[16]=(0,o.eW)(" Creating account... "))])):((0,o.uX)(),(0,o.CE)("span",Js,[(0,o.bF)(c,{icon:["fas","user-plus"],class:"mr-2"}),t[17]||(t[17]=(0,o.eW)(" Create Account "))]))],8,Vs)],32),t[23]||(t[23]=(0,o.Fv)('<div class="relative my-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-gray-800 text-gray-400">Or continue with</span></div></div>',1)),(0,o.Lk)("div",Bs,[(0,o.Lk)("button",Ys,[(0,o.bF)(c,{icon:["fab","google"],class:"text-red-400 text-lg"})]),(0,o.Lk)("button",Zs,[(0,o.bF)(c,{icon:["fab","facebook-f"],class:"text-blue-400 text-lg"})]),(0,o.Lk)("button",ea,[(0,o.bF)(c,{icon:["fab","apple"],class:"text-gray-300 text-lg"})])]),(0,o.Lk)("div",ta,[(0,o.Lk)("p",sa,[t[19]||(t[19]=(0,o.eW)(" Already have an account? ")),(0,o.bF)(i,{to:"/login",class:"text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors"},{default:(0,o.k6)((()=>t[18]||(t[18]=[(0,o.eW)(" Sign in here ")]))),_:1,__:[18]})])]),(0,o.bF)(a.eB,{name:"fade"},{default:(0,o.k6)((()=>[r.showSuccessModal?((0,o.uX)(),(0,o.CE)("div",aa,[(0,o.Lk)("div",oa,[(0,o.Lk)("div",ra,[(0,o.Lk)("div",la,[(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-3xl"})])]),t[20]||(t[20]=(0,o.Lk)("h3",{class:"text-lg font-semibold text-center mb-2"},"Account Created!",-1)),t[21]||(t[21]=(0,o.Lk)("p",{class:"text-center mb-4"},"Your account was created successfully. You can now log in.",-1))])])):(0,o.Q3)("",!0)])),_:1})])]),t[24]||(t[24]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var ia={name:"SignupView",setup(){const e=(0,g.rd)(),t=(0,oe.KR)(""),s=(0,oe.KR)(""),a=(0,oe.KR)(""),o=(0,oe.KR)(""),r=(0,oe.KR)(""),l=(0,oe.KR)(!1),n=(0,oe.KR)(""),i=(0,oe.KR)(!1),c=(0,oe.KR)(!1),d=(0,oe.KR)(!1),u=(0,oe.KR)(null),m=(0,oe.KR)(null),p=()=>{i.value=!1,e.push("/login")},f=e=>{"passwordInput"===e?c.value=!c.value:"confirmPasswordInput"===e&&(d.value=!d.value)},b=async()=>{try{if(o.value!==r.value)return void(n.value="Passwords do not match");l.value=!0,n.value="";const e=await ne.register({first_name:t.value,last_name:s.value,name:`${t.value} ${s.value}`,email:a.value,password:o.value});if(!e.data||!e.data.user)throw new Error("Invalid response from server");localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.token||""),i.value=!0,setTimeout((()=>{p()}),2500)}catch(e){n.value=e.response?.data?.error||e.message||"Failed to create account. Please try again."}finally{l.value=!1}};return{firstName:t,lastName:s,email:a,password:o,confirmPassword:r,isLoading:l,errorMessage:n,handleSignup:b,passwordInput:u,confirmPasswordInput:m,togglePasswordField:f,showSuccessModal:i,redirectToLogin:p,logo:ae,passwordVisible:c,confirmPasswordVisible:d}}};const ca=(0,c.A)(ia,[["render",na]]);var da=ca;const ua={class:"min-h-screen flex flex-col bg-gray-900 text-white"},ga={class:"p-4 bg-gray-800 flex justify-between items-center"},ma={class:"flex items-center space-x-2 md:space-x-4"},pa={class:"relative"},fa={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},ba={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},xa={key:0},ya=["onClick"],ha={class:"flex items-start space-x-3"},va={class:"flex-shrink-0 mt-1"},ka={class:"flex-grow"},wa={class:"flex items-start justify-between"},La={class:"flex-grow"},Ca={class:"text-sm font-medium text-white"},Ea={class:"text-xs text-gray-300 mt-1"},Sa={class:"text-xs text-gray-500 mt-2"},Na={class:"flex items-center space-x-2 ml-2"},_a={key:0,class:"flex-shrink-0"},Ta=["onClick"],Fa={key:0,class:"mt-3 flex space-x-2"},Aa=["onClick"],Pa={key:1,class:"mt-2 flex items-center"},Ra={key:2,class:"mt-2 flex items-center"},Ia={key:1,class:"p-4 text-center text-gray-400"},Da={key:2,class:"p-3 border-t border-gray-700"},za={class:"relative"},Oa={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},Ua=["src"],Xa={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},ja={class:"text-sm text-gray-300"},Ma={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},Ka={class:"flex flex-grow"},Wa={class:"w-64 bg-gray-800 p-4"},Qa={class:"space-y-2"},qa={class:"flex-grow p-4 md:p-6"},Ga={class:"flex justify-between items-center mb-6"},$a={class:"flex items-center space-x-4"},Va={class:"flex items-center space-x-2"},Ha={class:"flex space-x-3"},Ja={class:"relative"},Ba=["disabled"],Ya={class:"flex mb-6 space-x-2"},Za={key:0,class:"bg-red-800 rounded-lg p-6 text-center"},eo={class:"mb-4"},to={class:"text-red-300 mb-4"},so={class:"flex justify-center space-x-3"},ao={key:1,class:"text-center py-8 text-gray-400"},oo={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},ro=["onClick"],lo={class:"p-4"},no={class:"flex justify-between items-start mb-2"},io={class:"font-medium"},co={class:"flex space-x-2"},uo=["onClick"],go={class:"relative"},mo=["onClick"],po=["onClick"],fo=["onClick"],bo=["onClick"],xo={class:"text-sm text-gray-400 mb-2"},yo={class:"text-sm text-gray-300 line-clamp-3 mb-3"},ho={class:"flex flex-wrap gap-2"},vo={key:3,class:"bg-gray-800 rounded-lg p-8 text-center"},ko={class:"mb-4"},wo={class:"flex justify-center space-x-4"},Lo={class:"flex items-center mb-4"},Co={class:"flex justify-end space-x-3"},Eo={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},So={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},No={class:"flex items-center mb-4"},_o={class:"flex flex-col items-center mb-6"},To={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-600 mb-3"},Fo=["src"],Ao={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},Po={class:"space-y-4"},Ro={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Io={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Do={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},zo={class:"flex justify-end space-x-3 mt-6"};function Oo(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ua,[(0,o.Lk)("header",ga,[t[32]||(t[32]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",ma,[(0,o.Lk)("div",pa,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",fa,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",ba,[t[30]||(t[30]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",xa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",ha,[(0,o.Lk)("div",va,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",ka,[(0,o.Lk)("div",wa,[(0,o.Lk)("div",La,[(0,o.Lk)("p",Ca,(0,r.v_)(s.title),1),(0,o.Lk)("p",Ea,(0,r.v_)(s.message),1),(0,o.Lk)("p",Sa,(0,r.v_)(s.time),1)]),(0,o.Lk)("div",Na,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",_a,t[26]||(t[26]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Ta)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",Fa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,Aa)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",Pa,t[27]||(t[27]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",Ra,t[28]||(t[28]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,ya)))),128))])):((0,o.uX)(),(0,o.CE)("div",Ia,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[29]||(t[29]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Da,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",za,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",Oa,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,Ua)):((0,o.uX)(),(0,o.CE)("div",Xa,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",ja,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",Ma,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[31]||(t[31]=[(0,o.eW)("Settings")]))),_:1,__:[31]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Ka,[(0,o.Lk)("aside",Wa,[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",Qa,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[33]||(t[33]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[33]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[34]||(t[34]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[34]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[35]||(t[35]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[35]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[36]||(t[36]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[36]})])])])]),(0,o.Lk)("main",qa,[(0,o.Lk)("div",Ga,[(0,o.Lk)("div",$a,[t[37]||(t[37]=(0,o.Lk)("h1",{class:"text-2xl font-bold"},"My Notes",-1)),(0,o.Lk)("div",Va,[(0,o.Lk)("div",{class:(0,r.C4)(["w-2 h-2 rounded-full transition-colors duration-300",l.isConnected?"bg-green-500 animate-pulse":"bg-red-500"])},null,2),(0,o.Lk)("span",{class:(0,r.C4)(["text-sm transition-colors duration-300",l.isConnected?"text-green-400":"text-red-400"])},(0,r.v_)(l.isConnected?"Live":"Offline"),3)])]),(0,o.Lk)("div",Ha,[(0,o.Lk)("div",Ja,[t[38]||(t[38]=(0,o.Lk)("input",{type:"text",placeholder:"Search notes...",class:"pl-10 pr-4 py-2 bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,-1)),(0,o.bF)(c,{icon:["fas","search"],class:"absolute left-3 top-3 text-gray-400"})]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>l.refreshNotes()),disabled:l.loadingNotes,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",l.loadingNotes?"spinner":"sync-alt"],class:(0,r.C4)([l.loadingNotes?"animate-spin":"","text-sm"])},null,8,["icon","class"])],8,Ba),(0,o.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[39]||(t[39]=(0,o.eW)(" Scan New "))])])]),(0,o.Lk)("div",Ya,[(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.activeFilter="all"),class:(0,r.C4)(["px-3 py-1 rounded-md transition-colors","all"===l.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])}," All Notes ",2),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>l.activeFilter="recent"),class:(0,r.C4)(["px-3 py-1 rounded-md transition-colors flex items-center space-x-1","recent"===l.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[(0,o.bF)(c,{icon:["fas","clock"],class:"text-xs"}),t[40]||(t[40]=(0,o.Lk)("span",null,"Recent",-1))],2),(0,o.Lk)("button",{onClick:t[12]||(t[12]=e=>l.activeFilter="favorites"),class:(0,r.C4)(["px-3 py-1 rounded-md transition-colors flex items-center space-x-1","favorites"===l.activeFilter?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"])},[(0,o.bF)(c,{icon:["fas","star"],class:"text-xs"}),t[41]||(t[41]=(0,o.Lk)("span",null,"Favorites",-1))],2)]),l.notesError?((0,o.uX)(),(0,o.CE)("div",Za,[(0,o.Lk)("div",eo,[(0,o.bF)(c,{icon:["fas","triangle-exclamation"],class:"text-4xl text-red-400"})]),t[43]||(t[43]=(0,o.Lk)("h3",{class:"text-xl font-medium mb-2"},"Unable to Load Notes",-1)),(0,o.Lk)("p",to,(0,r.v_)(l.notesError||"An error occurred while loading your notes."),1),(0,o.Lk)("div",so,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>l.refreshNotes()),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","redo"],class:"mr-2"}),t[42]||(t[42]=(0,o.eW)(" Try Again "))]),(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>l.clearError()),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Dismiss ")])])):l.loadingNotes&&0===l.notes.length?((0,o.uX)(),(0,o.CE)("div",ao,[(0,o.bF)(c,{icon:["fas","spinner"],class:"animate-spin text-3xl mb-3"}),t[44]||(t[44]=(0,o.Lk)("p",{class:"text-lg"},"Loading your notes...",-1))])):l.notes.length>0?((0,o.uX)(),(0,o.CE)("div",oo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.filteredNotes,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"bg-gray-800 rounded-lg overflow-hidden hover:shadow-lg transition cursor-pointer relative",onClick:t=>l.viewNote(e.id)},[(0,o.Lk)("div",lo,[(0,o.Lk)("div",no,[(0,o.Lk)("h3",io,(0,r.v_)(e.title),1),(0,o.Lk)("div",co,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.toggleFavorite(e.id)),["stop"]),class:"text-gray-400 hover:text-yellow-500"},[(0,o.bF)(c,{icon:["fas",(e.isFavorite,"star")],class:(0,r.C4)(e.isFavorite?"text-yellow-500":"")},null,8,["icon","class"])],8,uo),(0,o.Lk)("div",go,[(0,o.Lk)("button",{onClick:(0,a.D$)((t=>l.showNoteMenu(e.id)),["stop"]),class:"text-gray-400 hover:text-white"},[(0,o.bF)(c,{icon:["fas","ellipsis-v"]})],8,mo),l.activeMenu===e.id?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"absolute right-0 top-full mt-1 w-32 bg-gray-700 rounded-md shadow-lg z-10",onClick:t[15]||(t[15]=(0,a.D$)((()=>{}),["stop"]))},[(0,o.Lk)("button",{onClick:t=>l.editNote(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 rounded-t-md flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","edit"],class:"text-xs"}),t[45]||(t[45]=(0,o.Lk)("span",null,"Edit",-1))],8,po),(0,o.Lk)("button",{onClick:t=>l.duplicateNote(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-gray-600 flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","copy"],class:"text-xs"}),t[46]||(t[46]=(0,o.Lk)("span",null,"Duplicate",-1))],8,fo),(0,o.Lk)("button",{onClick:t=>l.confirmDelete(e.id),class:"w-full text-left px-3 py-2 text-sm hover:bg-red-600 text-red-400 hover:text-white rounded-b-md flex items-center space-x-2"},[(0,o.bF)(c,{icon:["fas","trash"],class:"text-xs"}),t[47]||(t[47]=(0,o.Lk)("span",null,"Delete",-1))],8,bo)])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("p",xo,(0,r.v_)("recent"===l.activeFilter&&Date.now()-e.timestamp<6048e5?l.getTimeAgo(e.createdAt):e.date),1),(0,o.Lk)("p",yo,(0,r.v_)(e.original_text),1),(0,o.Lk)("div",ho,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tags,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:t,class:"px-2 py-1 bg-gray-700 rounded-full text-xs"},(0,r.v_)(e),1)))),128))])])],8,ro)))),128))])):((0,o.uX)(),(0,o.CE)("div",vo,[(0,o.Lk)("div",ko,[(0,o.bF)(c,{icon:["fas","book"],class:"text-4xl text-gray-400"})]),t[50]||(t[50]=(0,o.Lk)("h3",{class:"text-xl font-medium mb-2"},"No Notes Yet",-1)),t[51]||(t[51]=(0,o.Lk)("p",{class:"text-gray-400 mb-4"},"Start by scanning your study materials or creating a new note.",-1)),(0,o.Lk)("div",wo,[(0,o.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>l.openCamera&&l.openCamera(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","camera"],class:"mr-2"}),t[48]||(t[48]=(0,o.eW)(" Scan Notes "))]),(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.createNewNote&&l.createNewNote(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-2"}),t[49]||(t[49]=(0,o.eW)(" Create New "))])])]))])]),l.showDeleteModal?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[21]||(t[21]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e))},[(0,o.Lk)("div",{class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4",onClick:t[20]||(t[20]=(0,a.D$)((()=>{}),["stop"]))},[(0,o.Lk)("div",Lo,[(0,o.bF)(c,{icon:["fas","triangle-exclamation"],class:"text-red-400 text-xl mr-3"}),t[52]||(t[52]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"Delete Note",-1))]),t[53]||(t[53]=(0,o.Lk)("p",{class:"text-gray-300 mb-6"}," Are you sure you want to delete this note? This action cannot be undone. ",-1)),(0,o.Lk)("div",Co,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.closeDeleteModal&&l.closeDeleteModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.deleteNote&&l.deleteNote(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"}," Delete ")])])])):(0,o.Q3)("",!0),l.showProfileModal?((0,o.uX)(),(0,o.CE)("div",Eo,[(0,o.Lk)("div",So,[(0,o.Lk)("div",No,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[54]||(t[54]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",_o,[(0,o.Lk)("div",To,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[22]||(t[22]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[23]||(t[23]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,Fo)):((0,o.uX)(),(0,o.CE)("div",Ao,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-2xl"})]))]),t[55]||(t[55]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",Po,[(0,o.Lk)("div",null,[t[56]||(t[56]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",Ro,(0,r.v_)(l.user?.firstName&&l.user?.lastName?`${l.user.firstName} ${l.user.lastName}`:l.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[57]||(t[57]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",Io,(0,r.v_)(l.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[58]||(t[58]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",Do,(0,r.v_)(l.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",zo,[(0,o.Lk)("button",{onClick:t[24]||(t[24]=(...e)=>l.closeProfileModal&&l.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0),l.activeMenu?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"fixed inset-0 z-0",onClick:t[25]||(t[25]=(...e)=>l.closeMenu&&l.closeMenu(...e))})):(0,o.Q3)("",!0)])}s(116);var Uo={name:"NotesView",setup(){const e=(0,g.rd)(),t=(0,g.lq)(),{showNotifications:s,notifications:a,unreadNotifications:r,toggleNotifications:l,closeNotifications:n,markAsRead:i,markAllAsRead:c,showSuccess:d,showWarning:u}=ws(),{user:m,loading:p,loadUserProfile:f}=Ls(),b=(0,oe.KR)(null),x=(0,oe.KR)(!1),y=(0,oe.KR)(!0),h=(0,oe.KR)("connected"),v=(0,oe.KR)(new Date),k=(0,oe.KR)("all"),w=(0,oe.KR)(null),L=(0,oe.KR)(!1),C=(0,oe.KR)(null),E=(0,oe.KR)(""),S=(0,oe.KR)(""),N=(0,oe.KR)(!1),_=(0,oe.KR)(!1),T=(0,o.EW)((()=>b.value?.data?b.value.data.map((e=>({id:e.id,title:e.title||"Untitled Note",original_text:e.original_text||"",date:new Date(e.created_at).toLocaleDateString(),createdAt:new Date(e.created_at),timestamp:new Date(e.created_at).getTime(),isFavorite:!1,tags:[]}))):[])),F=m,A=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},P=e=>{const t=new Date,s=Math.floor((t-e)/1e3);return s<60?"Just now":s<3600?`${Math.floor(s/60)} minutes ago`:s<86400?`${Math.floor(s/3600)} hours ago`:s<604800?`${Math.floor(s/86400)} days ago`:e.toLocaleDateString()},R=e=>{const t=e.target.src;console.error("Profile picture failed to load:",t),console.error("Image naturalWidth:",e.target.naturalWidth),console.error("Image naturalHeight:",e.target.naturalHeight),console.error("User profile picture path:",F?.profilePicture||"null")},I=e=>{const t=e.target.src;console.log("Profile picture loaded successfully:",t),console.log("Image dimensions:",e.target.naturalWidth,"x",e.target.naturalHeight)},D=(0,o.EW)((()=>"all"===k.value?T.value:"recent"===k.value?[...T.value].sort(((e,t)=>t.timestamp-e.timestamp)):"favorites"===k.value?T.value.filter((e=>e.isFavorite)):T.value)),z=async()=>{try{x.value=!0;const t=localStorage.getItem("user");if(!t)return console.error("âŒ No user data found in localStorage"),S.value="Please log in to view your notes.",void(x.value=!1);let s;console.log("ðŸ” Fetching notes for user:",t);try{s=JSON.parse(t),console.log("âœ… Parsed user data:",s),console.log("âœ… User ID:",s.id)}catch(e){return console.error("âŒ Error parsing user data:",e),S.value="Invalid user session. Please log in again.",void(x.value=!1)}const a=await ne.getNotes();if(console.log("ðŸ“¡ Notes API response:",a.data),a.data&&a.data.success?console.log("âœ… Notes loaded successfully:",a.data.data?.length||0,"notes"):console.log("âŒ Notes API returned error:",a.data?.error),a.data&&a.data.success)b.value=a.data,S.value="",console.log("âœ… Notes loaded successfully:",a.data.data?.length||0,"notes");else{const e=a.data?.error||a.data?.message||"Failed to load notes.";S.value=e,console.error("âŒ Notes API error:",e),console.error("âŒ Full response:",a.data)}}catch(t){console.error("âŒ Error fetching notes:",t);let e="Failed to load notes. Please check your connection and try again.";"NETWORK_ERROR"===t.code||t.message?.includes("Network Error")?e="Network connection error. Please check your internet connection.":"TIMEOUT"===t.code||t.message?.includes("timeout")?e="Request timed out. Please try again.":401===t.response?.status?e="Authentication failed. Please log in again.":403===t.response?.status?e="Access denied. You may not have permission to view these notes.":404===t.response?.status?e="Notes service not found. Please contact support.":t.response?.status>=500&&(e="Server error. Please try again later."),S.value=e}finally{x.value=!1}},O=async()=>{await f()},U=async()=>{await z()},X=async()=>{await f()},j=()=>{S.value=""};(0,o.sV)((async()=>{await Promise.all([z(),O()])})),(0,o.wB)((()=>t.fullPath),(async s=>{if(s.startsWith("/notes")){console.log("Navigated to notes page, checking if refresh needed...");const a="true"===t.query.refresh||"/notes"===s;a&&(console.log("Refreshing notes..."),await z(),t.query.refresh&&d("Notes updated","Your notes have been refreshed."),t.query.refresh&&e.replace("/notes"))}}));const M=t=>{Q(),e.push(`/notes/${t}`)},K=e=>{const t=T.value.find((t=>t.id===e));t&&(t.isFavorite=!t.isFavorite,Y(t))},W=e=>{w.value=w.value===e?null:e},Q=()=>{w.value=null},q=t=>{Q(),e.push(`/notes/edit/${t}`)},G=async e=>{Q();const t=T.value.find((t=>t.id===e));if(t){const e={title:`${t.title} (Copy)`,text:t.original_text};try{await ne.createNote(e),await z(),d("Note duplicated","The note has been successfully duplicated.")}catch(s){console.error("Error duplicating note:",s),u("Duplicate failed","Failed to duplicate the note. Please try again.")}}},$=e=>{Q(),C.value=e,L.value=!0},V=()=>{L.value=!1,C.value=null},H=async()=>{if(C.value)try{await ne.deleteNote(C.value),await z(),d("Note deleted","The note has been successfully deleted.")}catch(e){console.error("Error deleting note:",e),u("Delete failed","Failed to delete the note. Please try again.")}V()},J=()=>{console.log("Opening camera..."),e.push("/notes/edit")},B=()=>{e.push("/notes/edit")},Y=async e=>{try{await ne.updateNote(e.id,e)}catch(t){console.error("Error updating note:",t)}},Z=()=>{N.value=!N.value},ee=()=>{N.value=!1},te=()=>{_.value=!0,N.value=!1},se=()=>{_.value=!1},ae=async()=>{try{e.push("/login")}catch(t){console.error("Error logging out:",t)}};return{notes:T,user:F,activeFilter:k,activeMenu:w,showDeleteModal:L,noteToDelete:C,showUserMenu:N,showProfileModal:_,filteredNotes:D,notesError:S,loadingNotes:x,loadingUser:p,isConnected:y,connectionStatus:h,lastSync:v,viewNote:M,toggleFavorite:K,showNoteMenu:W,closeMenu:Q,editNote:q,duplicateNote:G,confirmDelete:$,closeDeleteModal:V,deleteNote:H,openCamera:J,createNewNote:B,getProfilePictureUrl:A,handleImageError:R,handleImageLoad:I,getTimeAgo:P,toggleUserMenu:Z,closeUserMenu:ee,openProfileModal:te,closeProfileModal:se,logout:ae,refreshNotes:U,refreshUser:X,clearError:j,showNotifications:s,notifications:a,unreadNotifications:r,toggleNotifications:l,closeNotifications:n,markAsRead:i,markAllAsRead:c,loadUserProfile:f,ocrText:E}}};const Xo=(0,c.A)(Uo,[["render",Oo]]);var jo=Xo;const Mo={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Ko={class:"p-4 bg-gray-800 flex justify-between items-center"},Wo={class:"flex items-center space-x-2 md:space-x-4"},Qo={class:"relative"},qo={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Go={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},$o={key:0},Vo=["onClick"],Ho={class:"flex items-start space-x-3"},Jo={class:"flex-shrink-0 mt-1"},Bo={class:"flex-grow"},Yo={class:"flex items-start justify-between"},Zo={class:"flex-grow"},er={class:"text-sm font-medium text-white"},tr={class:"text-xs text-gray-300 mt-1"},sr={class:"text-xs text-gray-500 mt-2"},ar={class:"flex items-center space-x-2 ml-2"},or={key:0,class:"flex-shrink-0"},rr=["onClick"],lr={key:0,class:"mt-3 flex space-x-2"},nr=["onClick"],ir={key:1,class:"mt-2 flex items-center"},cr={key:2,class:"mt-2 flex items-center"},dr={key:1,class:"p-4 text-center text-gray-400"},ur={key:2,class:"p-3 border-t border-gray-700"},gr={class:"relative"},mr={class:"w-8 h-8 rounded-full overflow-hidden bg-gray-600"},pr=["src"],fr={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},br={class:"text-sm text-gray-300"},xr={key:0,class:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-10"},yr={class:"flex flex-grow"},hr={class:"w-64 bg-gray-800 p-4"},vr={class:"space-y-2"},kr={class:"flex-grow p-4 md:p-6"},wr={class:"flex justify-between items-center mb-6"},Lr={class:"flex items-center space-x-4"},Cr={class:"flex items-center space-x-2"},Er={class:"flex items-center space-x-2"},Sr=["disabled"],Nr={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6"},_r={class:"bg-gray-800 rounded-lg p-6"},Tr={class:"flex justify-between items-center mb-2"},Fr={class:"text-3xl font-bold"},Ar={class:"text-sm text-gray-400"},Pr={class:"bg-gray-800 rounded-lg p-6"},Rr={class:"flex justify-between items-center mb-2"},Ir={class:"text-3xl font-bold"},Dr={class:"text-sm text-gray-400"},zr={class:"bg-gray-800 rounded-lg p-6"},Or={class:"flex justify-between items-center mb-2"},Ur={class:"text-3xl font-bold"},Xr={class:"text-sm text-gray-400"},jr={class:"bg-gray-800 rounded-lg p-6 mb-6"},Mr={class:"h-64 flex items-end justify-between"},Kr={class:"w-full px-1"},Wr={class:"text-xs mt-2 text-gray-400"},Qr={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6"},qr={class:"bg-gray-800 rounded-lg p-6"},Gr={class:"space-y-4"},$r={class:"flex justify-between mb-1"},Vr={class:"w-full bg-gray-700 rounded-full h-2.5"},Hr={class:"bg-gray-800 rounded-lg p-6"},Jr={class:"space-y-4"},Br={class:"font-medium"},Yr={class:"text-sm text-gray-400"},Zr={class:"bg-gray-800 rounded-lg p-6"},el={class:"flex justify-between items-center mb-4"},tl={key:0,class:"bg-gray-700 rounded-lg p-4 mb-4"},sl={class:"mb-3"},al={class:"mb-3"},ol={class:"flex justify-end space-x-2"},rl={class:"space-y-4"},ll={class:"flex justify-between items-start"},nl={class:"font-medium"},il={class:"text-sm text-gray-400"},cl={class:"flex space-x-2"},dl={class:"text-gray-400 hover:text-white"},ul={class:"text-gray-400 hover:text-white"},gl={class:"mt-3"},ml={class:"flex justify-between mb-1 text-sm"},pl={class:"w-full bg-gray-600 rounded-full h-2"},fl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},bl={class:"bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4"},xl={class:"flex items-center mb-4"},yl={class:"flex flex-col items-center mb-6"},hl={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-600 mb-3"},vl=["src"],kl={key:1,class:"w-full h-full bg-gray-600 flex items-center justify-center"},wl={class:"space-y-4"},Ll={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Cl={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},El={class:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-300"},Sl={class:"flex justify-end space-x-3 mt-6"};function Nl(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Mo,[(0,o.Lk)("header",Ko,[t[24]||(t[24]=(0,o.Lk)("div",{class:"text-lg md:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Wo,[(0,o.Lk)("div",Qo,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",qo,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",Go,[t[22]||(t[22]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",$o,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",Ho,[(0,o.Lk)("div",Jo,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",Bo,[(0,o.Lk)("div",Yo,[(0,o.Lk)("div",Zo,[(0,o.Lk)("p",er,(0,r.v_)(s.title),1),(0,o.Lk)("p",tr,(0,r.v_)(s.message),1),(0,o.Lk)("p",sr,(0,r.v_)(s.time),1)]),(0,o.Lk)("div",ar,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",or,t[18]||(t[18]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,rr)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",lr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,nr)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",ir,t[19]||(t[19]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",cr,t[20]||(t[20]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,Vo)))),128))])):((0,o.uX)(),(0,o.CE)("div",dr,[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[21]||(t[21]=(0,o.Lk)("p",null,"No notifications yet",-1))])),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",ur,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",gr,[(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.toggleUserMenu&&l.toggleUserMenu(...e)),class:"flex items-center space-x-2"},[(0,o.Lk)("div",mr,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:0,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,pr)):((0,o.uX)(),(0,o.CE)("div",fr,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-sm"})]))]),(0,o.Lk)("span",br,(0,r.v_)(l.user?.name||"User"),1),(0,o.bF)(c,{icon:["fas","chevron-down"],class:"text-xs"})]),l.showUserMenu?((0,o.uX)(),(0,o.CE)("div",xr,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.openProfileModal&&l.openProfileModal(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700"},"Profile"),(0,o.bF)(d,{to:"/settings",onClick:l.closeUserMenu,class:"block px-4 py-2 hover:bg-gray-700"},{default:(0,o.k6)((()=>t[23]||(t[23]=[(0,o.eW)("Settings")]))),_:1,__:[23]},8,["onClick"]),(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.logout&&l.logout(...e)),class:"w-full text-left block px-4 py-2 hover:bg-gray-700 text-red-400 hover:text-red-300"},"Logout")])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",yr,[(0,o.Lk)("aside",hr,[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",vr,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[25]||(t[25]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[25]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[26]||(t[26]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[26]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[27]||(t[27]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[27]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[28]||(t[28]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[28]})])])])]),(0,o.Lk)("main",kr,[(0,o.Lk)("div",wr,[(0,o.Lk)("div",Lr,[t[29]||(t[29]=(0,o.Lk)("h1",{class:"text-2xl font-bold"},"Study Progress",-1)),(0,o.Lk)("div",Cr,[(0,o.Lk)("div",{class:(0,r.C4)(["w-2 h-2 rounded-full transition-colors duration-300",l.isConnected?"bg-green-500 animate-pulse":"bg-red-500"])},null,2),(0,o.Lk)("span",{class:(0,r.C4)(["text-sm transition-colors duration-300",l.isConnected?"text-green-400":"text-red-400"])},(0,r.v_)(l.isConnected?"Live":"Offline"),3)])]),(0,o.Lk)("div",Er,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>l.refreshProgress()),disabled:l.loadingProgress,class:"flex items-center space-x-1 px-3 py-1 bg-gray-700 rounded-md hover:bg-gray-600 transition disabled:opacity-50"},[(0,o.bF)(c,{icon:["fas",l.loadingProgress?"spinner":"sync-alt"],class:(0,r.C4)([l.loadingProgress?"animate-spin":"","text-sm"])},null,8,["icon","class"]),t[30]||(t[30]=(0,o.Lk)("span",{class:"text-sm"},"Refresh",-1))],8,Sr),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.debugStats()),class:"px-3 py-1 bg-blue-600 rounded-md hover:bg-blue-700 transition text-sm"}," Debug Stats ")])]),(0,o.Lk)("div",Nr,[(0,o.Lk)("div",_r,[(0,o.Lk)("div",Tr,[t[31]||(t[31]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Total Notes",-1)),(0,o.bF)(c,{icon:["fas","book"],class:"text-blue-500 text-xl"})]),(0,o.Lk)("p",Fr,(0,r.v_)(l.stats.totalNotes),1),(0,o.Lk)("p",Ar,(0,r.v_)(l.stats.notesThisWeek)+" new this week",1)]),(0,o.Lk)("div",Pr,[(0,o.Lk)("div",Rr,[t[32]||(t[32]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Study Time",-1)),(0,o.bF)(c,{icon:["fas","clock"],class:"text-green-500 text-xl"})]),(0,o.Lk)("p",Ir,(0,r.v_)(l.stats.studyHours)+"h",1),(0,o.Lk)("p",Dr,(0,r.v_)(l.stats.studyHoursThisWeek)+"h this week",1)]),(0,o.Lk)("div",zr,[(0,o.Lk)("div",Or,[t[33]||(t[33]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Quiz Score",-1)),(0,o.bF)(c,{icon:["fas","check-circle"],class:"text-yellow-500 text-xl"})]),(0,o.Lk)("p",Ur,(0,r.v_)(l.stats.quizAverage)+"%",1),(0,o.Lk)("p",Xr,(0,r.v_)(l.stats.quizzesCompleted)+" quizzes completed",1)])]),(0,o.Lk)("div",jr,[t[34]||(t[34]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Weekly Activity",-1)),(0,o.Lk)("div",Mr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.weeklyActivity,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex flex-col items-center w-full"},[(0,o.Lk)("div",Kr,[(0,o.Lk)("div",{class:"bg-blue-600 rounded-t",style:(0,r.Tr)({height:200*e.activity+"px"})},null,4)]),(0,o.Lk)("p",Wr,(0,r.v_)(e.name),1)])))),128))])]),(0,o.Lk)("div",Qr,[(0,o.Lk)("div",qr,[t[35]||(t[35]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Subject Distribution",-1)),(0,o.Lk)("div",Gr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.subjects,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},[(0,o.Lk)("div",$r,[(0,o.Lk)("span",null,(0,r.v_)(e.name),1),(0,o.Lk)("span",null,(0,r.v_)(e.percentage)+"%",1)]),(0,o.Lk)("div",Vr,[(0,o.Lk)("div",{class:(0,r.C4)(["h-2.5 rounded-full",e.color]),style:(0,r.Tr)({width:`${e.percentage}%`})},null,6)])])))),128))])]),(0,o.Lk)("div",Hr,[t[36]||(t[36]=(0,o.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Recent Activity",-1)),(0,o.Lk)("div",Jr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.recentActivity,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flex items-start"},[(0,o.Lk)("div",{class:(0,r.C4)(`${e.iconColor} p-2 rounded-full mr-3`)},[(0,o.bF)(c,{icon:e.icon},null,8,["icon"])],2),(0,o.Lk)("div",null,[(0,o.Lk)("p",Br,(0,r.v_)(e.title),1),(0,o.Lk)("p",Yr,(0,r.v_)(e.time),1)])])))),128))])])]),(0,o.Lk)("div",Zr,[(0,o.Lk)("div",el,[t[38]||(t[38]=(0,o.Lk)("h2",{class:"text-lg font-semibold"},"Study Goals",-1)),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.showAddGoalForm=!0),class:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","plus"],class:"mr-1"}),t[37]||(t[37]=(0,o.eW)(" New Goal "))])]),l.showAddGoalForm?((0,o.uX)(),(0,o.CE)("div",tl,[t[41]||(t[41]=(0,o.Lk)("h3",{class:"font-medium mb-3"},"Add New Goal",-1)),(0,o.Lk)("div",sl,[t[39]||(t[39]=(0,o.Lk)("label",{class:"block text-sm text-gray-400 mb-1"},"Goal Title",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.newGoal.title=e),class:"w-full p-2 bg-gray-600 rounded border border-gray-500 focus:outline-none focus:border-blue-500",placeholder:"E.g., Complete Biology Chapter 5-8"},null,512),[[a.Jo,l.newGoal.title]])]),(0,o.Lk)("div",al,[t[40]||(t[40]=(0,o.Lk)("label",{class:"block text-sm text-gray-400 mb-1"},"Due Date",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.newGoal.dueDate=e),type:"date",class:"w-full p-2 bg-gray-600 rounded border border-gray-500 focus:outline-none focus:border-blue-500"},null,512),[[a.Jo,l.newGoal.dueDate]])]),(0,o.Lk)("div",ol,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>l.showAddGoalForm=!1),class:"px-3 py-1 bg-gray-600 rounded text-sm hover:bg-gray-500 transition"}," Cancel "),(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>l.addGoal&&l.addGoal(...e)),class:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition"}," Add Goal ")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",rl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.goals,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("div",ll,[(0,o.Lk)("div",null,[(0,o.Lk)("h3",nl,(0,r.v_)(e.title),1),(0,o.Lk)("p",il,(0,r.v_)(e.dueDate),1)]),(0,o.Lk)("div",cl,[(0,o.Lk)("button",dl,[(0,o.bF)(c,{icon:["fas","edit"]})]),(0,o.Lk)("button",ul,[(0,o.bF)(c,{icon:["fas","trash"]})])])]),(0,o.Lk)("div",gl,[(0,o.Lk)("div",ml,[t[42]||(t[42]=(0,o.Lk)("span",null,"Progress",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.progress)+"%",1)]),(0,o.Lk)("div",pl,[(0,o.Lk)("div",{class:"h-2 rounded-full bg-green-500",style:(0,r.Tr)({width:`${e.progress}%`})},null,4)])])])))),128))])])])]),l.showProfileModal?((0,o.uX)(),(0,o.CE)("div",fl,[(0,o.Lk)("div",bl,[(0,o.Lk)("div",xl,[(0,o.bF)(c,{icon:["fas","user"],class:"text-blue-400 text-xl mr-3"}),t[43]||(t[43]=(0,o.Lk)("h3",{class:"text-lg font-medium"},"User Profile",-1))]),(0,o.Lk)("div",yl,[(0,o.Lk)("div",hl,[l.user&&l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[15]||(t[15]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[16]||(t[16]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,vl)):((0,o.uX)(),(0,o.CE)("div",kl,[(0,o.bF)(c,{icon:["fas","user"],class:"text-white text-2xl"})]))]),t[44]||(t[44]=(0,o.Lk)("p",{class:"text-sm text-gray-400 mb-2"},"Profile picture can be changed in Settings",-1))]),(0,o.Lk)("div",wl,[(0,o.Lk)("div",null,[t[45]||(t[45]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Full Name",-1)),(0,o.Lk)("div",Ll,(0,r.v_)(l.user?.firstName&&l.user?.lastName?`${l.user.firstName} ${l.user.lastName}`:l.user?.name||"User"),1)]),(0,o.Lk)("div",null,[t[46]||(t[46]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Email",-1)),(0,o.Lk)("div",Cl,(0,r.v_)(l.user?.email||"user@example.com"),1)]),(0,o.Lk)("div",null,[t[47]||(t[47]=(0,o.Lk)("label",{class:"block text-sm font-medium mb-2"},"Member Since",-1)),(0,o.Lk)("div",El,(0,r.v_)(l.user?.memberSince||(new Date).toLocaleDateString()),1)])]),(0,o.Lk)("div",Sl,[(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.closeProfileModal&&l.closeProfileModal(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Close ")])])])):(0,o.Q3)("",!0)])}var _l={name:"ProgressView",setup(){const e=(0,g.rd)(),{showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:r,closeNotifications:l,markAsRead:n,markAllAsRead:i}=ws(),{user:c,loading:d,loadUserProfile:u}=Ls(),m=(0,oe.KR)(null),p=(0,oe.KR)(!1),f=(0,oe.KR)(!0),b=(0,oe.KR)("connected"),x=(0,oe.KR)(new Date),y=(0,o.EW)((()=>{if(!m.value?.data?.data)return console.log("ProgressView: No progress data available"),{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0};const e=m.value.data.data,t={totalNotes:e.totalNotes||0,notesThisWeek:e.notesThisWeek||0,studyHours:e.studyHours||0,studyHoursThisWeek:e.studyHoursThisWeek||0,quizAverage:e.quizAverage||0,quizzesCompleted:e.quizzesCompleted||0};return console.log("ProgressView stats:",t),t})),h=(0,o.EW)((()=>m.value?.data?.data?.weeklyActivity||[])),v=(0,o.EW)((()=>m.value?.data?.data?.subjects||[])),k=(0,o.EW)((()=>m.value?.data?.data?.recentActivity||[])),w=c,L=(0,oe.KR)([{title:"Complete Biology Chapter 5-8",dueDate:"Due in 5 days",progress:65},{title:"Prepare for History Midterm",dueDate:"Due in 2 weeks",progress:30},{title:"Review Math Formulas",dueDate:"Due tomorrow",progress:90}]),C=(0,oe.KR)(!1),E=(0,oe.KR)({title:"",dueDate:""}),S=(0,oe.KR)(!1),N=(0,oe.KR)(!1),_=async()=>{try{p.value=!0;const e=await ne.getDashboardStats();m.value=e.data,console.log("Progress data fetched successfully:",e.data)}catch(e){console.error("Error fetching progress data:",e)}finally{p.value=!1}},T=async()=>{await _()},F=async()=>{await u()};(0,o.sV)((async()=>{await Promise.all([_(),u()]),console.log("ProgressView mounted and data loaded")}));const A=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},P=e=>{const t=e.target.src;console.error("Profile picture failed to load:",t),console.error("Image naturalWidth:",e.target.naturalWidth),console.error("Image naturalHeight:",e.target.naturalHeight);const s=w.value||{};console.error("User profile picture path:",s.profilePicture||"null")},R=e=>{const t=e.target.src;console.log("Profile picture loaded successfully:",t),console.log("Image dimensions:",e.target.naturalWidth,"x",e.target.naturalHeight)},I=()=>{console.log("=== DEBUG STATS ==="),console.log("Raw progress response:",m.value),console.log("Computed stats:",y.value),console.log("Loading state:",p.value),console.log("Connection status:",f.value),console.log("===================")},D=async()=>{try{if(!E.value.title.trim()||!E.value.dueDate)return void alert("Please fill in all fields");const e=new Date(E.value.dueDate),t=new Date,s=e-t,a=Math.ceil(s/864e5);let o;o=0===a?"Due today":1===a?"Due tomorrow":a<7?`Due in ${a} days`:a<14?"Due in 1 week":`Due in ${Math.floor(a/7)} weeks`,L.value.push({title:E.value.title,dueDate:o,progress:0}),E.value={title:"",dueDate:""},C.value=!1}catch(e){console.error("Error adding goal:",e),alert("Failed to add goal. Please try again.")}},z=()=>{S.value=!S.value},O=()=>{S.value=!1},U=()=>{N.value=!0,S.value=!1},X=()=>{N.value=!1},j=async()=>{try{e.push("/login")}catch(t){console.error("Error logging out:",t)}};return{stats:y,weeklyActivity:h,subjects:v,recentActivity:k,goals:L,user:w,showAddGoalForm:C,newGoal:E,showUserMenu:S,showProfileModal:N,loadingProgress:p,loadingUser:d,isConnected:f,connectionStatus:b,lastSync:x,addGoal:D,debugStats:I,refreshProgress:T,refreshUser:F,getProfilePictureUrl:A,handleImageError:P,handleImageLoad:R,toggleUserMenu:z,closeUserMenu:O,openProfileModal:U,closeProfileModal:X,logout:j,showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:r,closeNotifications:l,markAsRead:n,markAllAsRead:i}}};const Tl=(0,c.A)(_l,[["render",Nl]]);var Fl=Tl;const Al={class:"flex items-center space-x-4"},Pl={class:"relative"},Rl={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Il={key:0,class:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto"},Dl={key:0},zl=["onClick"],Ol={class:"flex items-start space-x-3"},Ul={class:"flex-shrink-0 mt-1"},Xl={class:"flex-grow"},jl={class:"flex items-start justify-between"},Ml={class:"flex-grow"},Kl={class:"flex items-center space-x-2 ml-2"},Wl={key:0,class:"flex-shrink-0"},Ql=["onClick"],ql={key:0,class:"mt-3 flex space-x-2"},Gl=["onClick"],$l={key:1,class:"mt-2 flex items-center"},Vl={key:2,class:"mt-2 flex items-center"},Hl={class:"flex items-center space-x-2"},Jl=["src"],Bl={class:"flex flex-grow"},Yl={class:"space-y-2"},Zl={key:1,class:"space-y-6"},en={class:"flex flex-col items-center mb-6"},tn=["src"],sn={class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 hover:opacity-100 transition cursor-pointer"},an={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},on={class:"mt-4"},rn=["disabled"],ln={key:0},nn={key:1},cn={class:"space-y-4"},dn={class:"mt-4"},un=["disabled"],gn={key:0},mn={key:1},pn={key:2,class:"space-y-6"},fn={class:"flex space-x-4"},bn={class:"flex items-center space-x-4"},xn=["value"],yn={key:3,class:"space-y-6"},hn={class:"space-y-4"},vn={class:"flex items-center justify-between"},kn={class:"flex items-center justify-between"},wn={class:"flex items-center justify-between"},Ln={class:"mt-6"},Cn={class:"space-y-4"},En={class:"flex items-center justify-between"},Sn={class:"flex items-center justify-between"},Nn={key:4,class:"space-y-6"},_n={class:"space-y-4"},Tn={class:"mt-4"},Fn={class:"space-y-4"},An={key:0},Pn={class:"mt-4"};function Rn(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)(["min-h-screen flex flex-col transition-colors duration-300",l.themeClasses.main])},[(0,o.Lk)("header",{class:(0,r.C4)(["p-4 flex justify-between items-center transition-colors duration-300",l.themeClasses.header])},[t[41]||(t[41]=(0,o.Lk)("div",{class:"text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Al,[(0,o.Lk)("div",Pl,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleNotifications&&l.toggleNotifications(...e)),class:"text-gray-400 hover:text-white relative"},[(0,o.bF)(c,{icon:["fas","bell"]}),l.unreadNotifications>0?((0,o.uX)(),(0,o.CE)("span",Rl,(0,r.v_)(l.unreadNotifications),1)):(0,o.Q3)("",!0)]),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",Il,[t[40]||(t[40]=(0,o.Lk)("div",{class:"p-4 border-b border-gray-700"},[(0,o.Lk)("h3",{class:"text-lg font-semibold"},"Notifications")],-1)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",Dl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.notifications,((s,n)=>((0,o.uX)(),(0,o.CE)("div",{key:s.id||n,class:(0,r.C4)(["p-4 border-b border-gray-700 hover:bg-gray-700 transition-colors",{"bg-gray-700":!s.read,"cursor-pointer":!s.read}]),onClick:e=>l.markAsRead(s)},[(0,o.Lk)("div",Ol,[(0,o.Lk)("div",Ul,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full flex items-center justify-center",s.bgColor||"bg-blue-500"])},[(0,o.bF)(c,{icon:s.icon,class:"text-white text-sm"},null,8,["icon"])],2)]),(0,o.Lk)("div",Xl,[(0,o.Lk)("div",jl,[(0,o.Lk)("div",Ml,[(0,o.Lk)("p",{class:(0,r.C4)(["text-sm font-medium",l.themeClasses.text])},(0,r.v_)(s.title),3),(0,o.Lk)("p",{class:(0,r.C4)(["text-xs mt-1",l.themeClasses.secondaryText])},(0,r.v_)(s.message),3),(0,o.Lk)("p",{class:(0,r.C4)(["text-xs mt-2",l.themeClasses.secondaryText])},(0,r.v_)(s.time),3)]),(0,o.Lk)("div",Kl,[s.read?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Wl,t[36]||(t[36]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)]))),s.persistent?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:(0,a.D$)((t=>e.removeNotification(s.id)),["stop"]),class:"text-gray-400 hover:text-red-400 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,Ql)):(0,o.Q3)("",!0)])]),s.actions&&s.actions.length>0?((0,o.uX)(),(0,o.CE)("div",ql,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.actions,((t,l)=>((0,o.uX)(),(0,o.CE)("button",{key:l,onClick:(0,a.D$)((a=>e.executeAction(s,t)),["stop"]),class:(0,r.C4)(["px-2 py-1 text-xs rounded transition-colors",{"bg-blue-600 text-white hover:bg-blue-700":"navigate"===t.action,"bg-gray-600 text-white hover:bg-gray-700":"dismiss"===t.action,"bg-green-600 text-white hover:bg-green-700":"callback"===t.action}])},(0,r.v_)(t.label),11,Gl)))),128))])):(0,o.Q3)("",!0),"urgent"===s.priority?((0,o.uX)(),(0,o.CE)("div",$l,t[37]||(t[37]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"},null,-1),(0,o.Lk)("span",{class:"text-xs text-red-400 font-medium"},"URGENT",-1)]))):"high"===s.priority?((0,o.uX)(),(0,o.CE)("div",Vl,t[38]||(t[38]=[(0,o.Lk)("div",{class:"w-2 h-2 bg-orange-500 rounded-full mr-2"},null,-1),(0,o.Lk)("span",{class:"text-xs text-orange-400 font-medium"},"HIGH PRIORITY",-1)]))):(0,o.Q3)("",!0)])])],10,zl)))),128))])):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["p-4 text-center",l.themeClasses.secondaryText])},[(0,o.bF)(c,{icon:["fas","bell-slash"],class:"text-2xl mb-2"}),t[39]||(t[39]=(0,o.Lk)("p",null,"No notifications yet",-1))],2)),l.notifications.length>0?((0,o.uX)(),(0,o.CE)("div",{key:2,class:(0,r.C4)(["p-3 border-t","dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-700":"border-gray-200"])},[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.markAllAsRead&&l.markAllAsRead(...e)),class:"text-sm text-blue-400 hover:text-blue-300"}," Mark all as read ")],2)):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),l.showNotifications?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"fixed inset-0 z-0",onClick:t[2]||(t[2]=(...e)=>l.closeNotifications&&l.closeNotifications(...e))})):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Hl,[(0,o.Lk)("div",{class:(0,r.C4)(["w-8 h-8 rounded-full overflow-hidden","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[3]||(t[3]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[4]||(t[4]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,Jl)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["w-full h-full flex items-center justify-center","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[(0,o.bF)(c,{icon:["fas","user"],class:(0,r.C4)(["text-sm","dark"===l.store.getters["app/getCurrentTheme"]?"text-white":"text-gray-700"])},null,8,["class"])],2))],2),(0,o.Lk)("span",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},(0,r.v_)(l.user.name),3)])])],2),(0,o.Lk)("div",Bl,[(0,o.Lk)("aside",{class:(0,r.C4)(["w-64 p-4 transition-colors duration-300",l.themeClasses.sidebar])},[(0,o.Lk)("nav",null,[(0,o.Lk)("ul",Yl,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[42]||(t[42]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[42]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[43]||(t[43]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[43]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"hover:bg-gray-700":"hover:bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[44]||(t[44]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[44]},8,["class"])]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",class:(0,r.C4)(["flex items-center space-x-2 p-2 rounded-md","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-700":"bg-gray-200"])},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[45]||(t[45]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[45]},8,["class"])])])])],2),(0,o.Lk)("main",{class:(0,r.C4)(["flex-grow p-6 transition-colors duration-300",l.themeClasses.mainContent])},[(0,o.Lk)("h1",{class:(0,r.C4)(["font-bold mb-6 transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.heading]])},"Settings",2),l.message?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,r.C4)(["mb-6 p-4 rounded-lg","success"===l.messageType?"bg-green-800 text-green-200":"bg-red-800 text-red-200"])},[(0,o.bF)(c,{icon:"success"===l.messageType?["fas","check-circle"]:["fas","triangle-exclamation"],class:"mr-2"},null,8,["icon"]),(0,o.eW)(" "+(0,r.v_)(l.message),1)],2)):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,r.C4)(["flex mb-6 transition-colors duration-300","dark"===l.store.getters["app/getCurrentTheme"]?"border-gray-700":"border-gray-200"])},[(0,o.Lk)("button",{onClick:t[5]||(t[5]=e=>l.activeTab="account"),class:(0,r.C4)(["px-4 py-2 font-medium","account"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Account ",2),(0,o.Lk)("button",{onClick:t[6]||(t[6]=e=>l.activeTab="appearance"),class:(0,r.C4)(["px-4 py-2 font-medium","appearance"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Appearance ",2),(0,o.Lk)("button",{onClick:t[7]||(t[7]=e=>l.activeTab="notifications"),class:(0,r.C4)(["px-4 py-2 font-medium","notifications"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," Notifications ",2),(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>l.activeTab="api"),class:(0,r.C4)(["px-4 py-2 font-medium","api"===l.activeTab?"border-b-2 border-blue-500 text-blue-500":"text-gray-400 hover:text-white"])}," API Settings ",2)],2),"account"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",Zl,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Profile Picture",2),(0,o.Lk)("div",en,[(0,o.Lk)("div",{class:(0,r.C4)(["relative w-24 h-24 rounded-full overflow-hidden mb-3","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[l.user.profilePicture?((0,o.uX)(),(0,o.CE)("img",{key:l.user.profilePicture,src:l.getProfilePictureUrl(l.user.profilePicture),alt:"Profile",class:"w-full h-full object-cover",onError:t[9]||(t[9]=(...e)=>l.handleImageError&&l.handleImageError(...e)),onLoad:t[10]||(t[10]=(...e)=>l.handleImageLoad&&l.handleImageLoad(...e))},null,40,tn)):((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["w-full h-full flex items-center justify-center","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-600":"bg-gray-300"])},[(0,o.bF)(c,{icon:["fas","user"],class:(0,r.C4)(["text-2xl","dark"===l.store.getters["app/getCurrentTheme"]?"text-white":"text-gray-700"])},null,8,["class"])],2)),(0,o.Lk)("label",sn,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-white"}),(0,o.Lk)("input",{type:"file",accept:"image/*,.pdf,application/pdf",onChange:t[11]||(t[11]=(...e)=>l.handleProfilePictureUpload&&l.handleProfilePictureUpload(...e)),class:"hidden"},null,32)])],2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm mb-2",l.themeClasses.secondaryText])},"Click to change profile picture",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-xs",l.themeClasses.secondaryText])},"JPEG, PNG, GIF, WebP, PDF (max 5MB)",2)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Profile Information",2),(0,o.Lk)("div",an,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Full Name",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.user.name=e),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.user.name]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Email Address",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.user.email=e),type:"email",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.user.email]])])]),(0,o.Lk)("div",on,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>l.saveProfile&&l.saveProfile(...e)),disabled:l.isLoading,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50"},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",ln,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[46]||(t[46]=(0,o.eW)(" Saving... "))])):((0,o.uX)(),(0,o.CE)("span",nn,"Save Changes"))],8,rn)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Change Password",2),(0,o.Lk)("div",cn,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Current Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>l.passwords.current=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.passwords.current]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"New Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>l.passwords.new=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.passwords.new]])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Confirm New Password",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>l.passwords.confirm=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.passwords.confirm]])])]),(0,o.Lk)("div",dn,[(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.updatePassword&&l.updatePassword(...e)),disabled:l.isLoading,class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50"},[l.isLoading?((0,o.uX)(),(0,o.CE)("span",gn,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"mr-2"}),t[47]||(t[47]=(0,o.eW)(" Updating... "))])):((0,o.uX)(),(0,o.CE)("span",mn,"Update Password"))],8,un)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Danger Zone",2),(0,o.Lk)("p",{class:(0,r.C4)(["mb-4",l.themeClasses.secondaryText])},"Once you delete your account, there is no going back. Please be certain.",2),(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.deleteAccount&&l.deleteAccount(...e)),class:"px-4 py-2 bg-red-600 rounded-md hover:bg-red-700 transition"},[(0,o.bF)(c,{icon:["fas","triangle-exclamation"],class:"mr-2"}),t[48]||(t[48]=(0,o.eW)(" Delete Account "))])],2)])):(0,o.Q3)("",!0),"appearance"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",pn,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6 transition-colors duration-300",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4 transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.body]])},"Theme",2),(0,o.Lk)("div",fn,[(0,o.Lk)("div",{onClick:t[20]||(t[20]=e=>l.store.dispatch("app/setTheme","dark")),class:(0,r.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","dark"===l.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},[(0,o.Lk)("div",{class:(0,r.C4)(["h-full rounded-lg p-3","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-900":"bg-gray-700"])},[(0,o.Lk)("div",{class:(0,r.C4)(["h-4 w-full rounded mb-2","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-800":"bg-gray-700"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)(["h-4 w-3/4 rounded","dark"===l.store.getters["app/getCurrentTheme"]?"bg-gray-800":"bg-gray-700"])},null,2),(0,o.Lk)("div",{class:(0,r.C4)(["mt-4 text-xs text-center","dark"===l.store.getters["app/getCurrentTheme"]?"text-gray-400":"text-gray-600"])},"Dark",2)],2)],2),(0,o.Lk)("div",{onClick:t[21]||(t[21]=e=>l.store.dispatch("app/setTheme","light")),class:(0,r.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","light"===l.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},t[49]||(t[49]=[(0,o.Lk)("div",{class:"h-full bg-gray-100 rounded-lg p-3"},[(0,o.Lk)("div",{class:"h-4 w-full bg-white rounded mb-2"}),(0,o.Lk)("div",{class:"h-4 w-3/4 bg-white rounded"}),(0,o.Lk)("div",{class:"mt-4 text-xs text-center text-gray-600"},"Light")],-1)]),2),(0,o.Lk)("div",{onClick:t[22]||(t[22]=e=>l.store.dispatch("app/setTheme","system")),class:(0,r.C4)(["w-32 h-24 rounded-lg cursor-pointer border-2","system"===l.store.getters["app/getTheme"]?"border-blue-500":"border-transparent"])},t[50]||(t[50]=[(0,o.Lk)("div",{class:"h-full bg-gradient-to-r from-gray-900 to-gray-100 rounded-lg p-3 flex items-center justify-center"},[(0,o.Lk)("div",{class:"text-xs text-center"},"System")],-1)]),2)])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4 transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.body]])},"Font Size",2),(0,o.Lk)("div",bn,[(0,o.Lk)("span",{class:(0,r.C4)(["transition-all duration-300",[l.themeClasses.secondaryText,l.fontSizeClasses.small]])},"A",2),(0,o.Lk)("input",{value:l.store.getters["app/getFontSize"],onInput:t[23]||(t[23]=e=>l.store.dispatch("app/setFontSize",parseInt(e.target.value))),type:"range",min:"12",max:"20",class:(0,r.C4)(["w-full h-2 rounded-lg appearance-none cursor-pointer transition-colors duration-300",l.themeClasses.button])},null,42,xn),(0,o.Lk)("span",{class:(0,r.C4)(["transition-all duration-300",[l.themeClasses.text,l.fontSizeClasses.body]])},"A",2)]),(0,o.Lk)("p",{class:(0,r.C4)(["mt-2 transition-all duration-300",[l.themeClasses.secondaryText,l.fontSizeClasses.label]])},"Current font size: "+(0,r.v_)(l.store.getters["app/getFontSize"])+"px",3)],2)])):(0,o.Q3)("",!0),"notifications"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",yn,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"Email Notifications",2),(0,o.Lk)("div",hn,[(0,o.Lk)("div",vn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Weekly Summary",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Receive a weekly summary of your study progress",2)]),(0,o.Lk)("button",{onClick:t[24]||(t[24]=e=>l.settings.notifications.weeklySummary=!l.settings.notifications.weeklySummary),class:(0,r.C4)([l.settings.notifications.weeklySummary?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.weeklySummary?"ON":"OFF"),3)]),(0,o.Lk)("div",kn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Study Reminders",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Receive reminders for your study goals",2)]),(0,o.Lk)("button",{onClick:t[25]||(t[25]=e=>l.settings.notifications.studyReminders=!l.settings.notifications.studyReminders),class:(0,r.C4)([l.settings.notifications.studyReminders?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.studyReminders?"ON":"OFF"),3)]),(0,o.Lk)("div",wn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"New Features",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Receive updates about new features and improvements",2)]),(0,o.Lk)("button",{onClick:t[26]||(t[26]=e=>l.settings.notifications.newFeatures=!l.settings.notifications.newFeatures),class:(0,r.C4)([l.settings.notifications.newFeatures?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.newFeatures?"ON":"OFF"),3)])]),(0,o.Lk)("div",Ln,[(0,o.Lk)("button",{onClick:t[27]||(t[27]=(...e)=>l.saveNotificationSettings&&l.saveNotificationSettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),t[51]||(t[51]=(0,o.eW)(" Save Notification Settings "))])])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"In-App Notifications",2),(0,o.Lk)("div",Cn,[(0,o.Lk)("div",En,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Quiz Results",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Show notifications for quiz results",2)]),(0,o.Lk)("button",{onClick:t[28]||(t[28]=e=>l.settings.notifications.quizResults=!l.settings.notifications.quizResults),class:(0,r.C4)([l.settings.notifications.quizResults?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.quizResults?"ON":"OFF"),3)]),(0,o.Lk)("div",Sn,[(0,o.Lk)("div",null,[(0,o.Lk)("p",{class:(0,r.C4)(["font-medium",l.themeClasses.text])},"Goal Progress",2),(0,o.Lk)("p",{class:(0,r.C4)(["text-sm",l.themeClasses.secondaryText])},"Show notifications for goal progress updates",2)]),(0,o.Lk)("button",{onClick:t[29]||(t[29]=e=>l.settings.notifications.goalProgress=!l.settings.notifications.goalProgress),class:(0,r.C4)([l.settings.notifications.goalProgress?"bg-green-600 text-white":"bg-gray-600 text-white","px-4 py-2 rounded transition"])},(0,r.v_)(l.settings.notifications.goalProgress?"ON":"OFF"),3)])])],2)])):(0,o.Q3)("",!0),"api"===l.activeTab?((0,o.uX)(),(0,o.CE)("div",Nn,[(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"OpenAI API Configuration",2),(0,o.Lk)("div",_n,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"API Key",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[30]||(t[30]=e=>l.settings.api.openaiKey=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input]),placeholder:"sk-..."},null,2),[[a.Jo,l.settings.api.openaiKey]]),(0,o.Lk)("p",{class:(0,r.C4)(["mt-1 text-xs",l.themeClasses.secondaryText])},"Your OpenAI API key is stored securely and used for AI-powered features.",2)]),(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"Model",2),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[31]||(t[31]=e=>l.settings.api.openaiModel=e),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},t[52]||(t[52]=[(0,o.Lk)("option",{value:"gpt-4"},"GPT-4 (Most Capable)",-1),(0,o.Lk)("option",{value:"gpt-3.5-turbo"},"GPT-3.5 Turbo (Faster)",-1)]),2),[[a.u1,l.settings.api.openaiModel]])])]),(0,o.Lk)("div",Tn,[(0,o.Lk)("button",{onClick:t[32]||(t[32]=(...e)=>l.saveAPISettings&&l.saveAPISettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),t[53]||(t[53]=(0,o.eW)(" Save API Settings "))])])],2),(0,o.Lk)("div",{class:(0,r.C4)(["rounded-lg p-6",l.themeClasses.card])},[(0,o.Lk)("h2",{class:(0,r.C4)(["font-semibold mb-4",[l.themeClasses.text,l.fontSizeClasses.body]])},"OCR Configuration",2),(0,o.Lk)("div",Fn,[(0,o.Lk)("div",null,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"OCR Engine",2),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[33]||(t[33]=e=>l.settings.api.ocrEngine=e),class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},t[54]||(t[54]=[(0,o.Lk)("option",{value:"tesseract"},"Tesseract (Local)",-1),(0,o.Lk)("option",{value:"google"},"Google Cloud Vision (Cloud)",-1),(0,o.Lk)("option",{value:"azure"},"Azure Computer Vision (Cloud)",-1)]),2),[[a.u1,l.settings.api.ocrEngine]])]),"tesseract"!==l.settings.api.ocrEngine?((0,o.uX)(),(0,o.CE)("div",An,[(0,o.Lk)("label",{class:(0,r.C4)(["block text-sm mb-1",l.themeClasses.secondaryText])},"API Key",2),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[34]||(t[34]=e=>l.settings.api.ocrKey=e),type:"password",class:(0,r.C4)(["w-full p-2 rounded border focus:outline-none focus:border-blue-500 transition-colors duration-300",l.themeClasses.input])},null,2),[[a.Jo,l.settings.api.ocrKey]])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Pn,[(0,o.Lk)("button",{onClick:t[35]||(t[35]=(...e)=>l.saveOCRSettings&&l.saveOCRSettings(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","save"],class:"mr-2"}),t[55]||(t[55]=(0,o.eW)(" Save OCR Settings "))])])],2)])):(0,o.Q3)("",!0)],2)])],2)}var In={name:"SettingsView",setup(){const e=(0,n.Pj)(),{showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:r,closeNotifications:l,markAsRead:i,markAllAsRead:c}=ws(),d=(0,oe.KR)("account"),u=(0,oe.KR)({id:null,name:"",email:"",profilePicture:null}),g=(0,oe.KR)({current:"",new:"",confirm:""}),m=(0,oe.KR)(!1),p=(0,oe.KR)(""),f=(0,oe.KR)(""),b=(0,oe.Kh)({get theme(){return e.getters["app/getTheme"]},set theme(t){e.dispatch("app/setTheme",t)},get fontSize(){return e.getters["app/getFontSize"]},set fontSize(t){e.dispatch("app/setFontSize",t)},notifications:{weeklySummary:!1,studyReminders:!1,newFeatures:!1,quizResults:!1,goalProgress:!1},api:{openaiKey:"",openaiModel:"gpt-3.5-turbo",ocrEngine:"tesseract",ocrKey:""}}),x=(0,o.EW)((()=>e.getters["app/getThemeClasses"])),y=(0,o.EW)((()=>e.getters["app/getFontSizeClasses"])),h=async()=>{try{const e=await ne.getSettings();e.data.success&&Object.assign(b,e.data.data)}catch(e){const t=localStorage.getItem("smartscribe_settings");if(t){const e=JSON.parse(t);Object.assign(b,e)}}},v=async()=>{try{const e=await ne.updateSettings(b);e.data.success}catch(e){}localStorage.setItem("smartscribe_settings",JSON.stringify(b))},k=(e,t="success")=>{p.value=e,f.value=t,setTimeout((()=>{p.value="",f.value=""}),3e3)},w=e=>{if(!e)return null;const t=Date.now();return`/${e}?t=${t}`},L=()=>{},C=()=>{},E=async()=>{try{m.value=!0;const e={name:u.value.name,email:u.value.email},t=await ne.updateProfile(e);t.data.success?(v(),k("Profile updated successfully!"),await A()):k("Failed to update profile: "+(t.data.error||"Unknown error"),"error")}catch(e){k("Failed to update profile","error")}finally{m.value=!1}},S=async()=>{if(g.value.new===g.value.confirm)if(g.value.new.length<6)k("Password must be at least 6 characters","error");else try{m.value=!0,await new Promise((e=>setTimeout(e,1e3))),g.value={current:"",new:"",confirm:""},k("Password updated successfully!")}catch(e){k("Failed to update password","error")}finally{m.value=!1}else k("New passwords do not match","error")},N=()=>{v(),k("Notification settings saved!")},_=()=>{v(),k("API settings saved!")},T=()=>{v(),k("OCR settings saved!")},F=()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&k("Account deletion is not implemented in demo mode","error")},A=async()=>{try{const e=await ne.getUser();e.data.success&&(u.value={id:e.data.user.id,name:e.data.user.name||"User",email:e.data.user.email||"user@example.com",profilePicture:e.data.user.profile_picture||null})}catch(e){}},P=async e=>{try{const t=new FormData;t.append("profile_picture",e);const s=await ne.uploadProfilePicture(t);return s.data.success?(u.value.profilePicture=s.data.profile_picture,await A(),{success:!0,message:s.data.message}):{success:!1,message:s.data.error}}catch(t){return{success:!1,message:"Network error"}}},R=async e=>{const t=e.target.files[0];if(!t)return;const s=["image/jpeg","image/png","image/gif","image/webp","application/pdf"];if(!s.includes(t.type))return void k("Please select a valid image file (JPEG, PNG, GIF, WebP) or PDF file","error");const a=5242880;if(t.size>a)k("File size must be less than 5MB","error");else{try{const e=await P(t);e.success?(k(e.message),await A()):k("Upload failed: "+e.message,"error")}catch(o){k("Upload failed: Network error","error")}e.target.value=""}};return(0,o.sV)((async()=>{await Promise.all([h(),A()])})),{activeTab:d,user:u,passwords:g,settings:b,themeClasses:x,fontSizeClasses:y,isLoading:m,message:p,messageType:f,saveProfile:E,updatePassword:S,saveNotificationSettings:N,saveAPISettings:_,saveOCRSettings:T,deleteAccount:F,fetchUserProfile:A,uploadProfilePicture:P,handleProfilePictureUpload:R,getProfilePictureUrl:w,handleImageError:L,handleImageLoad:C,showNotifications:t,notifications:s,unreadNotifications:a,toggleNotifications:r,closeNotifications:l,markAsRead:i,markAllAsRead:c,store:e}}};const Dn=(0,c.A)(In,[["render",Rn]]);var zn=Dn;const On={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},Un={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},Xn={class:"flex items-center space-x-2 sm:space-x-4"},jn={class:"text-gray-400 hover:text-white p-2"},Mn={class:"flex flex-grow"},Kn={class:"mt-16 md:mt-0"},Wn={class:"space-y-2"},Qn={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},qn={key:0,class:"flex justify-center items-center h-full"},Gn={key:1},$n={class:"flex flex-col justify-between items-start mb-6 space-y-4",style:{"flex-direction":"column !important"}},Vn={class:"text-xl sm:text-2xl font-bold"},Hn={class:"text-gray-400 text-xs sm:text-sm"},Jn={class:"flex space-x-2 sm:space-x-3 w-full sm:w-auto"},Bn={key:0,class:"absolute right-0 mt-2 w-48 sm:w-56 bg-gray-800 rounded-md shadow-lg py-1 z-10 max-w-full"},Yn={class:"grid grid-cols-1 gap-4 sm:gap-6 mb-6",style:{"grid-template-columns":"1fr"}},Zn={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},ei={class:"bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 h-64 sm:h-96 overflow-y-auto overflow-x-hidden text-sm sm:text-base break-words"},ti={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},si={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-2 sm:space-y-0"},ai=["disabled"],oi={class:"bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 h-64 sm:h-96 overflow-y-auto overflow-x-hidden text-sm sm:text-base break-words"},ri={class:"bg-gray-800 rounded-lg p-4 sm:p-6 mb-6"},li={class:"flex flex-wrap gap-2"},ni={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},ii={class:"flex flex-col justify-between items-start mb-4 space-y-2",style:{"flex-direction":"column !important"}},ci=["disabled"],di={key:0,class:"mb-6 bg-gray-700 rounded-lg p-4"},ui={class:"text-center"},gi={class:"text-gray-300 mb-2"},mi={class:"text-sm text-gray-400 mb-4"},pi={class:"flex justify-center space-x-4"},fi={key:1,class:"space-y-4"},bi={class:"font-medium mb-2"},xi={class:"space-y-2 ml-4"},yi=["id","name","value","onUpdate:modelValue","disabled"],hi=["for"],vi={key:0,class:"mt-3 p-3 bg-gray-600 rounded text-sm"},ki={class:"text-gray-300"},wi={key:0,class:"text-red-300 mt-1"},Li={key:1,class:"text-green-300 mt-1"},Ci={class:"flex justify-between"},Ei=["disabled"],Si={key:0,class:"text-center text-sm text-gray-400"},Ni={key:2,class:"text-center py-8 text-gray-400"},_i={key:2,class:"flex flex-col items-center justify-center h-full"},Ti={class:"text-gray-400 mb-4"},Fi={key:3,class:"flex flex-col items-center justify-center h-full"};function Ai(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",On,[(0,o.Lk)("header",Un,[t[19]||(t[19]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Xn,[(0,o.Lk)("button",jn,[(0,o.bF)(c,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[18]||(t[18]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",Mn,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>l.sidebarOpen=!l.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[(0,o.bF)(c,{icon:["fas",l.sidebarOpen?"times":"bars"]},null,8,["icon"])]),l.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>l.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,r.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",l.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",Kn,[(0,o.Lk)("ul",Wn,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[2]||(t[2]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[20]||(t[20]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[20]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[3]||(t[3]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[21]||(t[21]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[21]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[4]||(t[4]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[22]||(t[22]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[22]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[5]||(t[5]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[23]||(t[23]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[23]})])])])],2),(0,o.Lk)("main",Qn,[l.isLoading?((0,o.uX)(),(0,o.CE)("div",qn,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-3xl sm:text-4xl text-blue-500"})])):l.note&&!l.error?((0,o.uX)(),(0,o.CE)("div",Gn,[(0,o.Lk)("div",$n,[(0,o.Lk)("div",null,[(0,o.Lk)("h1",Vn,(0,r.v_)(l.note.title),1),(0,o.Lk)("p",Hn,"Last edited: "+(0,r.v_)(l.note.lastEdited),1)]),(0,o.Lk)("div",Jn,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>l.editNote&&l.editNote(...e)),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-blue-600 rounded-md hover:bg-blue-700 transition"},[(0,o.bF)(c,{icon:["fas","edit"],class:"mr-2"}),t[24]||(t[24]=(0,o.eW)(" Edit "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.showExportOptions=!l.showExportOptions),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gray-700 rounded-md hover:bg-gray-600 transition relative"},[(0,o.bF)(c,{icon:["fas","file-export"],class:"mr-2"}),t[28]||(t[28]=(0,o.eW)(" Export ")),l.showExportOptions?((0,o.uX)(),(0,o.CE)("div",Bn,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=e=>l.exportNote("pdf")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-code"],class:"mr-2"}),t[25]||(t[25]=(0,o.eW)(" HTML for PDF conversion "))]),(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>l.exportNote("word")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-word"],class:"mr-2"}),t[26]||(t[26]=(0,o.eW)(" Word Document (.doc) "))]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.exportNote("text")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-alt"],class:"mr-2"}),t[27]||(t[27]=(0,o.eW)(" Plain Text (.txt) "))])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Yn,[(0,o.Lk)("div",Zn,[t[29]||(t[29]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Original Text",-1)),(0,o.Lk)("div",ei,(0,r.v_)(l.note.originalText),1)]),(0,o.Lk)("div",ti,[(0,o.Lk)("div",si,[t[30]||(t[30]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"AI Summary",-1)),(0,o.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>l.generateSummary&&l.generateSummary(...e)),class:"w-full sm:w-auto px-3 py-2 sm:px-3 sm:py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition",disabled:l.generatingSummary},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"mr-1",spin:l.generatingSummary},null,8,["spin"]),(0,o.eW)(" "+(0,r.v_)(l.generatingSummary?"Generating...":"Generate Summary"),1)],8,ai)]),(0,o.Lk)("div",oi,(0,r.v_)(l.note.summary||'No summary available. Click "Generate Summary" to create one.'),1)])]),(0,o.Lk)("div",ri,[t[31]||(t[31]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Keywords & Tags",-1)),(0,o.Lk)("div",li,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.note.keywords,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:`keyword-${t}`,class:"px-2 py-1 sm:px-3 sm:py-1 bg-blue-600 rounded-full text-xs sm:text-sm"},(0,r.v_)(e),1)))),128))])]),(0,o.Lk)("div",ni,[(0,o.Lk)("div",ii,[t[32]||(t[32]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"Study Quiz",-1)),(0,o.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>l.generateQuiz&&l.generateQuiz(...e)),class:"w-full sm:w-auto px-3 py-2 sm:px-3 sm:py-1 bg-blue-600 rounded text-sm hover:bg-blue-700 transition",disabled:l.isGeneratingQuiz},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"mr-1",spin:l.isGeneratingQuiz},null,8,["spin"]),(0,o.eW)(" "+(0,r.v_)(l.isGeneratingQuiz?"Generating Quiz...":"Generate New Quiz"),1)],8,ci)]),void 0!==l.showResults&&l.showResults?((0,o.uX)(),(0,o.CE)("div",di,[(0,o.Lk)("div",ui,[t[33]||(t[33]=(0,o.Lk)("h3",{class:"text-lg font-semibold mb-2"},"Quiz Results",-1)),(0,o.Lk)("div",{class:(0,r.C4)(["text-3xl font-bold mb-2",l.quizScore===l.quizQuestions.length?"text-green-400":l.quizScore>=.7*l.quizQuestions.length?"text-yellow-400":"text-red-400"])},(0,r.v_)(l.quizScore)+"/"+(0,r.v_)(l.quizQuestions.length),3),(0,o.Lk)("p",gi,(0,r.v_)(Math.round(l.quizScore/l.quizQuestions.length*100))+"% Correct ",1),(0,o.Lk)("p",mi," You got "+(0,r.v_)(l.quizScore)+" out of "+(0,r.v_)(l.quizQuestions.length)+" questions correct ",1),(0,o.Lk)("div",pi,[(0,o.Lk)("button",{onClick:t[13]||(t[13]=e=>{l.showResults=!1,l.resetQuiz()}),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"}," Retake Quiz "),(0,o.Lk)("button",{onClick:t[14]||(t[14]=e=>l.generateQuiz()),class:"px-4 py-2 bg-gray-600 rounded-md hover:bg-gray-700 transition"}," New Quiz ")])])])):(0,o.Q3)("",!0),l.quizQuestions.length>0&&void 0!==l.showResults&&!l.showResults?((0,o.uX)(),(0,o.CE)("div",fi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,s)=>((0,o.uX)(),(0,o.CE)("div",{key:`question-${s}`,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("p",bi,(0,r.v_)(s+1)+". "+(0,r.v_)(e.text),1),(0,o.Lk)("div",xi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((t,n)=>((0,o.uX)(),(0,o.CE)("div",{key:`option-${s}-${n}`,class:(0,r.C4)(["flex items-center space-x-2",{"text-green-400 font-semibold":l.quizCompleted&&n===e.correctAnswer,"text-red-400":l.quizCompleted&&e.selectedAnswer===n&&n!==e.correctAnswer,"text-gray-400":l.quizCompleted&&e.selectedAnswer!==n&&n!==e.correctAnswer}])},[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:`q${s}-o${n}`,name:`question-${s}`,value:n,"onUpdate:modelValue":t=>e.selectedAnswer=t,class:"text-blue-600",disabled:l.quizCompleted},null,8,yi),[[a.XL,e.selectedAnswer]]),(0,o.Lk)("label",{for:`q${s}-o${n}`,class:(0,r.C4)(["cursor-pointer block p-2 rounded transition-colors",{"cursor-not-allowed":l.quizCompleted,"bg-green-100 text-green-800 border border-green-300":l.quizCompleted&&n===e.correctAnswer,"bg-red-100 text-red-800 border border-red-300":l.quizCompleted&&e.selectedAnswer===n&&n!==e.correctAnswer,"border border-gray-200":!l.quizCompleted&&e.selectedAnswer===n,"border border-transparent":!l.quizCompleted&&e.selectedAnswer!==n}])},(0,r.v_)(t),11,hi)],2)))),128))]),l.quizCompleted?((0,o.uX)(),(0,o.CE)("div",vi,[(0,o.Lk)("p",ki,[t[34]||(t[34]=(0,o.Lk)("strong",null,"Correct Answer:",-1)),(0,o.eW)(" "+(0,r.v_)(e.originalOptions?e.originalOptions[e.originalCorrectIndex]:e.options[e.correctAnswer]),1)]),null!==e.selectedAnswer&&e.selectedAnswer!==e.correctAnswer?((0,o.uX)(),(0,o.CE)("p",wi,[t[35]||(t[35]=(0,o.Lk)("strong",null,"Your Answer:",-1)),(0,o.eW)(" "+(0,r.v_)(e.options[e.selectedAnswer]),1)])):(0,o.Q3)("",!0),null!==e.selectedAnswer&&e.selectedAnswer===e.correctAnswer?((0,o.uX)(),(0,o.CE)("p",Li,[t[36]||(t[36]=(0,o.Lk)("strong",null,"Your Answer:",-1)),(0,o.eW)(" "+(0,r.v_)(e.options[e.selectedAnswer])+" âœ“ ",1)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])))),128)),(0,o.Lk)("div",Ci,[l.quizCompleted?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>l.checkQuizAnswers&&l.checkQuizAnswers(...e)),class:"px-4 py-2 bg-green-600 rounded-md hover:bg-green-700 transition",disabled:!l.allQuestionsAnswered}," Check Answers ",8,Ei)),l.quizCompleted?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[16]||(t[16]=e=>l.showResults=!0),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"}," View Results ")):(0,o.Q3)("",!0),(0,o.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>l.resetQuiz&&l.resetQuiz(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Reset ")]),l.quizCompleted?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Si,(0,r.v_)(l.answeredQuestionsCount)+"/"+(0,r.v_)(l.quizQuestions.length)+" questions answered ",1))])):void 0===l.showResults||l.showResults?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Ni,t[37]||(t[37]=[(0,o.Lk)("p",null,'No quiz questions generated yet. Click "Generate New Quiz" to create questions based on your notes.',-1)])))])])):l.error?((0,o.uX)(),(0,o.CE)("div",_i,[(0,o.bF)(c,{icon:["fas","triangle-exclamation"],class:"text-4xl text-red-400 mb-4"}),t[39]||(t[39]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Note",-1)),(0,o.Lk)("p",Ti,(0,r.v_)(l.error),1),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[38]||(t[38]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[38]})])):((0,o.uX)(),(0,o.CE)("div",Fi,[(0,o.bF)(c,{icon:["fas","exclamation-circle"],class:"text-4xl text-gray-400 mb-4"}),t[41]||(t[41]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Note Not Found",-1)),t[42]||(t[42]=(0,o.Lk)("p",{class:"text-gray-400 mb-4"},"The note you're looking for doesn't exist or has been deleted.",-1)),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[40]||(t[40]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[40]})]))])])])}s(1148);var Pi={name:"NoteDetailView",setup(){const e=(0,g.rd)(),t=(0,g.lq)(),s=(0,oe.KR)(null),a=(0,oe.KR)(!0),r=(0,oe.KR)(!1),l=(0,oe.KR)([]),n=(0,oe.KR)(null),i=(0,oe.KR)(!1),c=(0,oe.KR)(!1),d=(0,oe.KR)(!1),u=(0,oe.KR)(!1),m=(0,oe.KR)(0),p=(0,oe.KR)(!1),f=(0,o.EW)((()=>d.value)),b=(0,o.EW)((()=>l.value.length>0&&l.value.every((e=>null!==e.selectedAnswer)))),x=(0,o.EW)((()=>l.value.filter((e=>null!==e.selectedAnswer)).length));(0,o.sV)((async()=>{try{const e=parseInt(t.params.id);if(!e||isNaN(e))return n.value="Invalid note ID",void(a.value=!1);const o=await ne.getNote(e);if(o.data.success&&o.data.data){const e=o.data.data;s.value={id:e.id,title:e.title||"Untitled Note",lastEdited:e.last_edited||"Unknown",originalText:e.original_text||"No content available",summary:e.summary||"No summary available",keywords:e.keywords?e.keywords.split(",").map((e=>e.trim())):[]}}else n.value=o.data?.error||"Note not found"}catch(n){console.error("Error loading note:",n),n.value="Failed to load note. Please try again."}finally{a.value=!1}}));const y=()=>{s.value&&e.push(`/notes/edit?id=${s.value.id}`)},h=async e=>{if(s.value&&s.value.id)try{console.log(`Exporting note ${s.value.id} as ${e}...`),r.value=!1;const t="word"===e?"docx":"text"===e?"txt":e,a="pdf"===e?"html":"word"===e?"doc":"text"===e?"txt":e;console.log(`Making API call to export with backendFormat: ${t}`);const o=await ne.exportNote(s.value.id,t);console.log("API response received:",o),console.log("Response data type:",typeof o.data),console.log("Response data length:",o.data?o.data.length:"N/A");const l="pdf"===t?"text/html":"docx"===t?"application/msword":"text/plain";console.log(`Creating blob with MIME type: ${l}`);const n=new Blob([o.data],{type:l});console.log("Blob created:",n),console.log("Blob size:",n.size);const i=window.URL.createObjectURL(n);console.log("Blob URL created:",i);const c=document.createElement("a");c.href=i;const d=s.value.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),u="pdf"===e?`${d}_for_pdf.${a}`:`${d}_export.${a}`;c.download=u,console.log("Download filename:",u),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(i),console.log(`Note exported as ${e} successfully`),alert(`File exported successfully! Check your downloads folder for "${u}"`)}catch(n){console.error("Export error:",n),console.error("Error details:",n.response||n.message),alert(`Failed to export note as ${e.toUpperCase()}. Please try again. Error: ${n.message}`)}else alert("No note to export")},v=async()=>{if(s.value&&!i.value){i.value=!0;try{console.log("Starting summary generation for note:",s.value.id);const e=await ne.createSummary(s.value.id,{length:"auto"});if(console.log("Summary API response:",e.data),e.data.success){console.log("Summary created successfully, refreshing note data...");const e=await ne.getNote(s.value.id);if(console.log("Note refresh response:",e.data),e.data.success&&e.data.data){const t=e.data.data.summary;console.log("New summary from server:",t),s.value.summary=t,console.log("Updated note summary in UI:",s.value.summary)}else console.error("Failed to refresh note data:",e.data);alert("Summary generated successfully!")}else console.error("Summary generation failed:",e.data.error),alert("Failed to generate summary: "+(e.data.error||"Unknown error"))}catch(n){console.error("Error generating summary:",n),alert("Failed to generate summary. Please try again.")}finally{i.value=!1}}},k=async()=>{if(s.value&&!d.value){d.value=!0;try{const e=s.value.summary&&'No summary available. Click "Generate Summary" to create one.'!==s.value.summary,t=e?s.value.summary:s.value.originalText;if(!t||t.length<50)return void alert("Not enough content available for quiz generation. Please generate a summary first or ensure the note has sufficient text.");const a=e?"AI summary":"original text";console.log(`Generating quiz for note "${s.value.title}" using ${a} (${t.length} characters)`),console.log("Generating quiz using:",t.length<100?t:t.substring(0,100)+"..."),console.log("Text source:",s.value.summary&&'No summary available. Click "Generate Summary" to create one.'!==s.value.summary?"AI Summary":"Original Text"),console.log("Text length:",t.length,"characters");const o=await ne.gpt.generateQuiz(t,{difficulty:"medium",questionCount:5,noteTitle:s.value.title||"Untitled Note"});if(o.data.success&&o.data.data){const e=o.data.data.questions||[];if(0===e.length)return void alert("No quiz questions were generated. The content may be too short or unclear.");const t=await ne.createQuiz(s.value.id,{questions:e,difficulty:"medium"});t.data.success?(l.value=e.map((e=>{let t=e.correct_answer||e.correctAnswer||0;if("string"===typeof t){const e={A:0,B:1,C:2,D:3};t=e[t.toUpperCase()]??0}const s=[...e.options],a=t;for(let n=s.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[s[n],s[e]]=[s[e],s[n]]}const o=e.options[a],r=s.findIndex((e=>e===o)),l={text:e.question,options:s,correctAnswer:r,selectedAnswer:null,originalOptions:e.options,originalCorrectIndex:a};return console.log("Processed quiz question:",{question:l.text,correctAnswer:l.correctAnswer,correctAnswerText:l.options[l.correctAnswer],shuffled:!0}),l})),alert(`Quiz generated successfully! Created ${e.length} questions based on the note content.`)):alert("Failed to save quiz: "+(t.data.error||"Unknown error"))}else alert("Failed to generate quiz questions: "+(o.data.error||"Unknown error"))}catch(n){console.error("Error generating quiz:",n),alert("Failed to generate quiz. Please try again.")}finally{d.value=!1}}},w=()=>{if(!b.value)return void alert("Please answer all questions before checking your results.");let e=0;l.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),m.value=e,u.value=!0},L=()=>{l.value.forEach((e=>{e.selectedAnswer=null})),u.value=!1,m.value=0,p.value=!1};return{note:s,isLoading:a,error:n,showExportOptions:r,quizQuestions:l,generatingSummary:i,generatingQuiz:d,isGeneratingQuiz:f,sidebarOpen:c,quizCompleted:u,quizScore:m,showResults:p,allQuestionsAnswered:b,answeredQuestionsCount:x,editNote:y,exportNote:h,generateSummary:v,generateQuiz:k,checkQuizAnswers:w,resetQuiz:L}}};const Ri=(0,c.A)(Pi,[["render",Ai]]);var Ii=Ri;const Di={class:"min-h-screen flex flex-col bg-gray-900 text-white overflow-x-hidden"},zi={class:"p-3 sm:p-4 bg-gray-800 flex justify-between items-center"},Oi={class:"flex items-center space-x-2 sm:space-x-4"},Ui={class:"text-gray-400 hover:text-white p-2"},Xi={class:"flex flex-grow"},ji={class:"mt-16 md:mt-0"},Mi={class:"space-y-2"},Ki={class:"flex-grow p-4 sm:p-6 ml-0 md:ml-0",style:{width:"100vw","max-width":"100vw"}},Wi={key:0,class:"flex justify-center items-center h-full"},Qi={key:1,class:"flex flex-col items-center justify-center h-full"},qi={class:"text-gray-400 mb-4"},Gi={key:2},$i={class:"flex flex-col justify-between items-start mb-6 space-y-4",style:{"flex-direction":"column !important"}},Vi={class:"w-full sm:w-auto flex-1"},Hi={class:"text-xl sm:text-2xl font-bold"},Ji={class:"text-gray-400 text-xs sm:text-sm"},Bi={class:"flex space-x-2 sm:space-x-3 w-full sm:w-auto"},Yi=["disabled"],Zi={key:0,class:"absolute right-0 mt-2 w-48 sm:w-56 bg-gray-800 rounded-md shadow-lg py-1 z-10 max-w-full"},ec={class:"grid grid-cols-1 gap-4 sm:gap-6",style:{"grid-template-columns":"1fr"}},tc={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},sc={class:"relative"},ac={class:"absolute top-2 right-2 flex space-x-2"},oc={title:"Edit Original Text",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},rc={title:"Rescan",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},lc={class:"bg-gray-800 rounded-lg p-4 sm:p-6"},nc={class:"flex flex-col justify-between items-start mb-4 space-y-2",style:{"flex-direction":"column !important"}},ic={class:"flex items-center space-x-2 w-full sm:w-auto"},cc={class:"relative"},dc={class:"absolute top-2 right-2 flex space-x-2"},uc=["disabled"],gc={title:"Copy to Clipboard",class:"p-1 bg-gray-600 rounded hover:bg-gray-500"},mc={class:"mt-6 bg-gray-800 rounded-lg p-4 sm:p-6"},pc={class:"flex flex-wrap gap-2 mb-4"},fc=["onClick"],bc={class:"mt-6 bg-gray-800 rounded-lg p-4 sm:p-6"},xc={class:"flex flex-col space-y-3 mb-6",style:{"flex-direction":"column !important"}},yc={class:"flex space-x-3 w-full sm:w-auto"},hc={key:0,class:"space-y-4"},vc={class:"font-medium mb-2"},kc={class:"space-y-2 ml-4"},wc=["id","name","value","onUpdate:modelValue"],Lc=["for"],Cc={class:"flex justify-between"};function Ec(e,t,s,l,n,i){const c=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Di,[(0,o.Lk)("header",zi,[t[25]||(t[25]=(0,o.Lk)("div",{class:"text-lg sm:text-xl font-bold"},"SmartScribe",-1)),(0,o.Lk)("div",Oi,[(0,o.Lk)("button",Ui,[(0,o.bF)(c,{icon:["fas","bell"],class:"text-sm sm:text-base"})]),t[24]||(t[24]=(0,o.Lk)("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-600 rounded-full"},null,-1))])]),(0,o.Lk)("div",Xi,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>l.sidebarOpen=!l.sidebarOpen),class:"md:hidden fixed top-20 left-4 z-50 bg-gray-800 p-2 rounded-md shadow-lg"},[(0,o.bF)(c,{icon:["fas",l.sidebarOpen?"times":"bars"]},null,8,["icon"])]),l.sidebarOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[1]||(t[1]=e=>l.sidebarOpen=!1),class:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40"})):(0,o.Q3)("",!0),(0,o.Lk)("aside",{class:(0,r.C4)(["bg-gray-800 p-4 transition-all duration-300 ease-in-out",l.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0","fixed md:relative z-50 md:z-auto","w-64 md:w-64 max-w-full","min-h-screen md:min-h-0","top-0 left-0 md:top-auto md:left-auto","overflow-hidden"])},[(0,o.Lk)("nav",ji,[(0,o.Lk)("ul",Mi,[(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/dashboard",onClick:t[2]||(t[2]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","home"]}),t[26]||(t[26]=(0,o.Lk)("span",null,"Dashboard",-1))])),_:1,__:[26]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/notes",onClick:t[3]||(t[3]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md bg-gray-700"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","book"]}),t[27]||(t[27]=(0,o.Lk)("span",null,"My Notes",-1))])),_:1,__:[27]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/progress",onClick:t[4]||(t[4]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","chart-line"]}),t[28]||(t[28]=(0,o.Lk)("span",null,"Progress",-1))])),_:1,__:[28]})]),(0,o.Lk)("li",null,[(0,o.bF)(d,{to:"/settings",onClick:t[5]||(t[5]=e=>l.sidebarOpen=!1),class:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-700 transition"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{icon:["fas","cog"]}),t[29]||(t[29]=(0,o.Lk)("span",null,"Settings",-1))])),_:1,__:[29]})])])])],2),(0,o.Lk)("main",Ki,[l.isLoading?((0,o.uX)(),(0,o.CE)("div",Wi,[(0,o.bF)(c,{icon:["fas","spinner"],spin:"",class:"text-4xl text-blue-500"})])):l.error?((0,o.uX)(),(0,o.CE)("div",Qi,[(0,o.bF)(c,{icon:["fas","triangle-exclamation"],class:"text-4xl text-red-400 mb-4"}),t[31]||(t[31]=(0,o.Lk)("h2",{class:"text-xl font-medium mb-2"},"Error Loading Note",-1)),(0,o.Lk)("p",qi,(0,r.v_)(l.error),1),(0,o.bF)(d,{to:"/notes",class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition"},{default:(0,o.k6)((()=>t[30]||(t[30]=[(0,o.eW)(" Back to Notes ")]))),_:1,__:[30]})])):((0,o.uX)(),(0,o.CE)("div",Gi,[(0,o.Lk)("div",$i,[(0,o.Lk)("div",Vi,[(0,o.Lk)("h1",Hi,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.note.title=e),class:"bg-transparent border-b border-gray-700 focus:border-blue-500 focus:outline-none pb-1 w-full text-lg sm:text-xl",placeholder:"Note Title"},null,512),[[a.Jo,l.note.title]])]),(0,o.Lk)("p",Ji,"Last edited: "+(0,r.v_)(l.note.lastEdited),1)]),(0,o.Lk)("div",Bi,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.saveNote&&l.saveNote(...e)),disabled:l.isSaving,class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-blue-600 rounded-md hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:l.isSaving?["fas","spinner"]:["fas","save"],spin:l.isSaving,class:"mr-2"},null,8,["icon","spin"]),(0,o.eW)(" "+(0,r.v_)(l.isSaving?"Saving...":"Save"),1)],8,Yi),(0,o.Lk)("button",{onClick:t[11]||(t[11]=e=>l.showExportOptions=!l.showExportOptions),class:"flex-1 sm:flex-none px-3 py-2 sm:px-4 sm:py-2 text-sm sm:text-base bg-gray-700 rounded-md hover:bg-gray-600 transition relative"},[(0,o.bF)(c,{icon:["fas","file-export"],class:"mr-2"}),t[35]||(t[35]=(0,o.eW)(" Export ")),l.showExportOptions?((0,o.uX)(),(0,o.CE)("div",Zi,[(0,o.Lk)("button",{onClick:t[8]||(t[8]=e=>l.exportNote("pdf")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-code"],class:"mr-2"}),t[32]||(t[32]=(0,o.eW)(" HTML for PDF conversion "))]),(0,o.Lk)("button",{onClick:t[9]||(t[9]=e=>l.exportNote("word")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-word"],class:"mr-2"}),t[33]||(t[33]=(0,o.eW)(" Word Document (.doc) "))]),(0,o.Lk)("button",{onClick:t[10]||(t[10]=e=>l.exportNote("text")),class:"block w-full text-left px-4 py-2 hover:bg-gray-700"},[(0,o.bF)(c,{icon:["fas","file-alt"],class:"mr-2"}),t[34]||(t[34]=(0,o.eW)(" Plain Text (.txt) "))])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",ec,[(0,o.Lk)("div",tc,[t[36]||(t[36]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Original Text",-1)),(0,o.Lk)("div",sc,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.note.originalText=e),class:"w-full h-64 sm:h-96 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base overflow-x-hidden resize-none",placeholder:"OCR extracted text will appear here"},null,512),[[a.Jo,l.note.originalText]]),(0,o.Lk)("div",ac,[(0,o.Lk)("button",oc,[(0,o.bF)(c,{icon:["fas","edit"],class:"text-xs sm:text-sm"})]),(0,o.Lk)("button",rc,[(0,o.bF)(c,{icon:["fas","camera"],class:"text-xs sm:text-sm"})])])])]),(0,o.Lk)("div",lc,[(0,o.Lk)("div",nc,[t[39]||(t[39]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold"},"AI Summary",-1)),(0,o.Lk)("div",ic,[t[38]||(t[38]=(0,o.Lk)("span",{class:"text-xs sm:text-sm text-gray-400"},"Length:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.summaryLength=e),class:"bg-gray-700 rounded px-2 py-1 sm:p-1 text-xs sm:text-sm flex-1 sm:flex-none"},t[37]||(t[37]=[(0,o.Lk)("option",{value:"auto"},"Auto",-1),(0,o.Lk)("option",{value:"short"},"Short",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1),(0,o.Lk)("option",{value:"long"},"Long",-1)]),512),[[a.u1,l.summaryLength]])])]),(0,o.Lk)("div",cc,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>l.note.summary=e),class:"w-full h-64 sm:h-96 bg-gray-700 rounded-lg p-3 sm:p-4 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm sm:text-base overflow-x-hidden resize-none",placeholder:"AI-generated summary will appear here"},null,512),[[a.Jo,l.note.summary]]),(0,o.Lk)("div",dc,[(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>l.generateSummary&&l.generateSummary(...e)),disabled:l.generatingSummary,title:"Regenerate Summary",class:"p-1 bg-gray-600 rounded hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(0,o.bF)(c,{icon:["fas","sync-alt"],class:"text-xs sm:text-sm",spin:l.generatingSummary},null,8,["spin"])],8,uc),(0,o.Lk)("button",gc,[(0,o.bF)(c,{icon:["fas","copy"],class:"text-xs sm:text-sm"})])])])])]),(0,o.Lk)("div",mc,[t[41]||(t[41]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Keywords & Tags",-1)),(0,o.Lk)("div",pc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.note.keywords,((e,t)=>((0,o.uX)(),(0,o.CE)("span",{key:`keyword-${t}`,class:"px-2 py-1 sm:px-3 sm:py-1 bg-blue-600 rounded-full text-xs sm:text-sm flex items-center"},[(0,o.eW)((0,r.v_)(e)+" ",1),(0,o.Lk)("button",{onClick:e=>l.removeKeyword(t),class:"ml-1 sm:ml-2 text-xs"},[(0,o.bF)(c,{icon:["fas","times"]})],8,fc)])))),128)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>l.newKeyword=e),onKeyup:t[17]||(t[17]=(0,a.jR)(((...e)=>l.addKeyword&&l.addKeyword(...e)),["enter"])),class:"px-2 py-1 sm:px-3 sm:py-1 bg-gray-700 rounded-full text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 flex-1 min-w-0",placeholder:"Add keyword..."},null,544),[[a.Jo,l.newKeyword]])]),(0,o.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>l.extractKeywords&&l.extractKeywords(...e)),class:"px-3 py-2 sm:px-3 sm:py-1 bg-gray-700 rounded text-sm hover:bg-gray-600 transition w-full sm:w-auto"},[(0,o.bF)(c,{icon:["fas","magic"],class:"mr-1"}),t[40]||(t[40]=(0,o.eW)(" Auto-extract Keywords "))])]),(0,o.Lk)("div",bc,[t[45]||(t[45]=(0,o.Lk)("h2",{class:"text-base sm:text-lg font-semibold mb-4"},"Study Quiz",-1)),t[46]||(t[46]=(0,o.Lk)("p",{class:"text-gray-400 text-sm mb-4"},"Generate quiz questions based on your notes to test your knowledge.",-1)),(0,o.Lk)("div",xc,[(0,o.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>l.generateQuiz&&l.generateQuiz(...e)),class:"px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-700 transition w-full sm:w-auto"},[(0,o.bF)(c,{icon:["fas","question-circle"],class:"mr-2"}),t[42]||(t[42]=(0,o.eW)(" Generate Quiz "))]),(0,o.Lk)("div",yc,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[20]||(t[20]=e=>l.quizDifficulty=e),class:"bg-gray-700 rounded px-3 py-2 flex-1 sm:flex-none text-sm"},t[43]||(t[43]=[(0,o.Lk)("option",{value:"easy"},"Easy",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1),(0,o.Lk)("option",{value:"hard"},"Hard",-1)]),512),[[a.u1,l.quizDifficulty]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[21]||(t[21]=e=>l.quizQuestionCount=e),class:"bg-gray-700 rounded px-3 py-2 flex-1 sm:flex-none text-sm"},t[44]||(t[44]=[(0,o.Lk)("option",{value:"5"},"5 Questions",-1),(0,o.Lk)("option",{value:"10"},"10 Questions",-1),(0,o.Lk)("option",{value:"15"},"15 Questions",-1)]),512),[[a.u1,l.quizQuestionCount]])])]),l.quizQuestions.length>0?((0,o.uX)(),(0,o.CE)("div",hc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.quizQuestions,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:`question-${t}`,class:"bg-gray-700 rounded-lg p-4"},[(0,o.Lk)("p",vc,(0,r.v_)(t+1)+". "+(0,r.v_)(e.text),1),(0,o.Lk)("div",kc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((s,l)=>((0,o.uX)(),(0,o.CE)("div",{key:`option-${t}-${l}`,class:"flex items-center space-x-2"},[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:`q${t}-o${l}`,name:`question-${t}`,value:l,"onUpdate:modelValue":t=>e.selectedAnswer=t,class:"text-blue-600"},null,8,wc),[[a.XL,e.selectedAnswer]]),(0,o.Lk)("label",{for:`q${t}-o${l}`},(0,r.v_)(s),9,Lc)])))),128))])])))),128)),(0,o.Lk)("div",Cc,[(0,o.Lk)("button",{onClick:t[22]||(t[22]=(...e)=>l.checkQuizAnswers&&l.checkQuizAnswers(...e)),class:"px-4 py-2 bg-green-600 rounded-md hover:bg-green-700 transition"}," Check Answers "),(0,o.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>l.resetQuiz&&l.resetQuiz(...e)),class:"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600 transition"}," Reset ")])])):(0,o.Q3)("",!0)])]))])])])}var Sc={name:"NoteEditorView",setup(){const e=(0,n.Pj)(),t=(0,g.rd)(),s=(0,g.lq)(),a=(0,oe.KR)({title:"",lastEdited:(new Date).toLocaleString(),originalText:"",summary:"",keywords:[]}),r=(0,oe.KR)("auto"),l=(0,oe.KR)(""),i=(0,oe.KR)("medium"),c=(0,oe.KR)("5"),d=(0,oe.KR)([]),u=(0,oe.KR)(!1),m=(0,oe.KR)(null),p=(0,oe.KR)(!1),f=(0,oe.KR)(!1),b=(0,oe.KR)(!1),x=(0,oe.KR)(!1);(0,o.sV)((async()=>{try{const t=s.query.id;if(t){u.value=!0;const e=await ne.getNote(t);if(e.data.success&&e.data.data){const t=e.data.data;a.value={id:t.id,title:t.title||"",lastEdited:t.last_edited||(new Date).toLocaleString(),originalText:t.original_text||"",summary:t.summary||"",keywords:t.keywords?t.keywords.split(",").map((e=>e.trim())):[]}}else m.value=e.data?.error||"Note not found"}else{const t=e.getters["notes/getTempImageData"];t&&(a.value.originalText=t.originalText,h())}}catch(m){console.error("Error loading note:",m),m.value="Failed to load note. Please try again."}finally{u.value=!1}}));const y=async()=>{try{const s=localStorage.getItem("user");if(!s)return alert("You must be logged in to save notes. Please log in and try again."),void t.push("/login");let o;try{o=JSON.parse(s)}catch(e){return console.error("Invalid user data in localStorage:",e),alert("Authentication data is corrupted. Please log in again."),localStorage.removeItem("user"),localStorage.removeItem("token"),void t.push("/login")}if(!o||!o.id)return alert("Invalid user session. Please log in again."),void t.push("/login");if(!a.value.title.trim())return void alert("Please enter a title for your note.");if(!a.value.originalText.trim())return void alert("Please add some content to your note.");p.value=!0,a.value.lastEdited=(new Date).toLocaleString();const r={title:a.value.title,text:a.value.originalText,summary:a.value.summary,keywords:a.value.keywords.join(",")};if(console.log("Saving note:",{hasId:!!a.value.id,noteId:a.value.id,noteData:r,userId:o.id}),console.log("Current localStorage state:",{token:!!localStorage.getItem("token"),user:localStorage.getItem("user")}),a.value.id){console.log("Updating existing note with ID:",a.value.id);const e=await ne.updateNote(a.value.id,r);if(console.log("Update response:",e.data),!e.data.success)throw new Error(e.data.error||"Failed to update note");alert("Note updated successfully!"),t.push("/notes?refresh=true")}else{console.log("Creating new note");const e=await ne.createNote(r);if(console.log("Create response:",e.data),!e.data.success)throw new Error(e.data.error||"Failed to save note");a.value.id=e.data.note_id,alert("Note saved successfully!"),t.push("/notes?refresh=true")}}catch(m){console.error("Error saving note:",m);let t="Failed to save note. Please try again.";m.response?401===m.response.status?t="Authentication failed. Please log in again.":403===m.response.status?t="You do not have permission to perform this action.":m.response.data?.error&&(t=m.response.data.error):m.message&&(t=m.message),alert(t)}finally{p.value=!1}},h=async()=>{if(a.value.originalText.trim()){f.value=!0;try{if(a.value.id){const e=await ne.createSummary(a.value.id,{length:r.value});if(e.data.success){const e=await ne.getNote(a.value.id);e.data.success&&(a.value.summary=e.data.data.summary),alert("Summary generated successfully!")}else alert("Failed to generate summary: "+(e.data.error||"Unknown error"))}else{const e=await ne.gpt.generateSummary(a.value.originalText,{length:r.value});e.data?(a.value.summary=e.data,alert("Summary generated successfully!")):alert("Failed to generate summary. Please try again.")}}catch(m){console.error("Error generating summary:",m),alert("Failed to generate summary. Please try again.")}finally{f.value=!1}}else alert("Please add some text to summarize first.")},v=()=>{l.value.trim()&&(a.value.keywords.push(l.value.trim()),l.value="")},k=e=>{a.value.keywords.splice(e,1)},w=()=>{console.log("Extracting keywords from text"),setTimeout((()=>{const e=["Membrane","Cytoplasm","Organelles","Nucleus"];e.forEach((e=>{a.value.keywords.includes(e)||a.value.keywords.push(e)}))}),1e3)},L=()=>{console.log("Generating quiz with difficulty:",i.value,"and",c.value,"questions"),setTimeout((()=>{d.value=[{text:"Who discovered cells in 1665?",options:["Robert Hooke","Anton van Leeuwenhoek","Matthias Schleiden","Theodor Schwann"],correctAnswer:0,selectedAnswer:null},{text:"What is the study of cells called?",options:["Microbiology","Histology","Cytology","Physiology"],correctAnswer:2,selectedAnswer:null},{text:"What is the typical size range of most plant and animal cells?",options:["0.1-1 micrometers","1-100 micrometers","100-1000 micrometers","1-10 millimeters"],correctAnswer:1,selectedAnswer:null},{text:"What encloses the cytoplasm in a cell?",options:["Cell wall","Nucleus","Membrane","Ribosome"],correctAnswer:2,selectedAnswer:null},{text:"Cells are often referred to as the:",options:["Essence of life","Building blocks of life","Foundation of organisms","Microscopic life"],correctAnswer:1,selectedAnswer:null}]}),1500)},C=()=>{let e=0;d.value.forEach((t=>{t.selectedAnswer===t.correctAnswer&&e++})),alert(`You got ${e} out of ${d.value.length} questions correct!`)},E=()=>{d.value.forEach((e=>{e.selectedAnswer=null}))},S=async e=>{if(a.value&&a.value.id)try{console.log(`Exporting note ${a.value.id} as ${e}...`);const t="word"===e?"docx":"text"===e?"txt":e,s="pdf"===e?"html":"word"===e?"doc":"text"===e?"txt":e;console.log(`Making API call to export with backendFormat: ${t}`);const o=await ne.exportNote(a.value.id,t);console.log("API response received:",o),console.log("Response data type:",typeof o.data),console.log("Response data length:",o.data?o.data.length:"N/A");const r="pdf"===t?"text/html":"docx"===t?"application/msword":"text/plain";console.log(`Creating blob with MIME type: ${r}`);const l=new Blob([o.data],{type:r});console.log("Blob created:",l),console.log("Blob size:",l.size);const n=window.URL.createObjectURL(l);console.log("Blob URL created:",n);const i=document.createElement("a");i.href=n;const c=a.value.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),d="pdf"===e?`${c}_for_pdf.${s}`:`${c}_export.${s}`;i.download=d,console.log("Download filename:",d),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n),console.log(`Note exported as ${e} successfully`),alert(`File exported successfully! Check your downloads folder for "${d}"`)}catch(m){console.error("Export error:",m),console.error("Error details:",m.response||m.message),alert(`Failed to export note as ${e.toUpperCase()}. Please try again. Error: ${m.message}`)}else alert("Please save the note first before exporting")};return{note:a,summaryLength:r,newKeyword:l,quizDifficulty:i,quizQuestionCount:c,quizQuestions:d,isLoading:u,error:m,isSaving:p,generatingSummary:f,showExportOptions:b,sidebarOpen:x,saveNote:y,generateSummary:h,addKeyword:v,removeKeyword:k,extractKeywords:w,generateQuiz:L,checkQuizAnswers:C,resetQuiz:E,exportNote:S}}};const Nc=(0,c.A)(Sc,[["render",Ec]]);var _c=Nc;const Tc={class:"min-h-screen flex flex-col bg-gray-900 text-white"},Fc={class:"p-4 flex justify-between items-center"},Ac={class:"space-x-2"},Pc={class:"flex-grow flex items-center justify-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8",style:{"min-height":"calc(100vh - 200px)"}},Rc={class:"bg-gray-800 rounded-2xl shadow-2xl p-8 sm:p-10 w-full max-w-md border border-gray-700 text-center"},Ic={class:"flex justify-center mb-8"},Dc={class:"w-24 h-24 sm:w-28 sm:h-28 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-xl"};function zc(e,t,s,a,r,l){const n=(0,o.g2)("router-link"),i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Tc,[(0,o.Lk)("header",Fc,[(0,o.bF)(n,{to:"/",class:"text-xl font-bold"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("SmartScribe")]))),_:1,__:[0]}),(0,o.Lk)("div",Ac,[(0,o.bF)(n,{to:"/login",class:"px-4 py-2 border border-white rounded-md hover:bg-gray-800 transition"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Sign In")]))),_:1,__:[1]}),(0,o.bF)(n,{to:"/signup",class:"px-4 py-2 bg-white text-gray-900 rounded-md hover:bg-gray-200 transition"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Sign Up")]))),_:1,__:[2]})])]),(0,o.Lk)("main",Pc,[(0,o.Lk)("div",Rc,[(0,o.Lk)("div",Ic,[(0,o.Lk)("div",Dc,[(0,o.bF)(i,{icon:["fas","exclamation-triangle"],class:"text-white text-3xl sm:text-4xl"})])]),t[4]||(t[4]=(0,o.Lk)("div",{class:"mb-8"},[(0,o.Lk)("h1",{class:"text-6xl sm:text-7xl font-bold text-gray-600 mb-4"},"404"),(0,o.Lk)("h2",{class:"text-2xl sm:text-3xl font-bold text-white mb-2"},"Page Not Found"),(0,o.Lk)("p",{class:"text-gray-400 text-sm sm:text-base"},"The page you are looking for doesn't exist or has been moved.")],-1)),(0,o.bF)(n,{to:"/",class:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-105 active:scale-95"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{icon:["fas","home"]}),t[3]||(t[3]=(0,o.Lk)("span",null,"Back to Home",-1))])),_:1,__:[3]})])]),t[5]||(t[5]=(0,o.Fv)('<footer class="p-4 bg-gray-800 text-gray-400 flex justify-between items-center text-sm"><div class="flex space-x-4"><a href="#" class="hover:text-white">Docs</a><a href="#" class="hover:text-white">Guides</a><a href="#" class="hover:text-white">Help</a><a href="#" class="hover:text-white">Contact</a></div><div>Â© 2025 SmartScribe Inc.</div></footer>',1))])}var Oc={name:"NotFoundView"};const Uc=(0,c.A)(Oc,[["render",zc]]);var Xc=Uc;const jc=[{path:"/",name:"home",component:A},{path:"/login",name:"login",component:de},{path:"/signup",name:"signup",component:da},{path:"/dashboard",name:"dashboard",component:Ss},{path:"/notes",name:"notes",component:jo},{path:"/notes/:id",name:"note-detail",component:Ii},{path:"/notes/edit",name:"note-editor",component:_c},{path:"/progress",name:"progress",component:Fl},{path:"/settings",name:"settings",component:zn},{path:"/:pathMatch(.*)*",name:"not-found",component:Xc}],Mc=(0,g.aE)({history:(0,g.LA)("/"),routes:jc});Mc.beforeEach(((e,t,s)=>{const a=null!==localStorage.getItem("user");e.matched.some((e=>e.meta.requiresAuth))&&!a?s("/login"):s()}));var Kc=Mc;const Wc={user:JSON.parse(localStorage.getItem("user"))||null,token:localStorage.getItem("token")||null,isAuthenticated:!!localStorage.getItem("token")},Qc={getUser:e=>e.user,isAuthenticated:e=>e.isAuthenticated},qc={async login({commit:e},t){try{const s=await ne.auth.login(t),{user:a,token:o}=s.data;return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a)),e("SET_AUTH",{user:a,token:o}),a}catch(s){throw console.error("Login error:",s),new Error(s.response?.data?.message||"Login failed. Please check your credentials.")}},async register({commit:e},t){try{const s=await ne.auth.register(t),{user:a,token:o}=s.data;return localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(a)),e("SET_AUTH",{user:a,token:o}),a}catch(s){throw console.error("Registration error:",s),new Error(s.response?.data?.message||"Registration failed. Please try again.")}},async logout({commit:e}){try{await ne.auth.logout()}catch(t){console.error("Logout error:",t)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),e("CLEAR_AUTH")}},async fetchUser({commit:e}){try{const t=await ne.auth.getUser(),s=t.data;return localStorage.setItem("user",JSON.stringify(s)),e("SET_USER",s),s}catch(t){throw console.error("Fetch user error:",t),new Error("Failed to fetch user data.")}}},Gc={SET_AUTH(e,{user:t,token:s}){e.user=t,e.token=s,e.isAuthenticated=!0},SET_USER(e,t){e.user=t},CLEAR_AUTH(e){e.user=null,e.token=null,e.isAuthenticated=!1}};var $c={namespaced:!0,state:Wc,getters:Qc,actions:qc,mutations:Gc};class Vc{async processImage(e){try{const t=new FormData;t.append("image",e);const s=await ne.ocr.processImage(t);return s.data}catch(t){throw console.error("OCR processing error:",t),new Error("Failed to process image. Please try again.")}}isImage(e){return e&&e.type.startsWith("image/")}async processCameraImage(e){try{const t=new File([e],"camera-image.jpg",{type:"image/jpeg"});return await this.processImage(t)}catch(t){throw console.error("Camera OCR processing error:",t),new Error("Failed to process camera image. Please try again.")}}async hasCamera(){try{const e=await navigator.mediaDevices.enumerateDevices();return e.some((e=>"videoinput"===e.kind))}catch(e){return console.error("Camera detection error:",e),!1}}async takePhoto(){return new Promise(((e,t)=>{(async()=>{try{if(!await this.hasCamera())throw new Error("No camera detected on this device.");const t=document.createElement("video");t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.setAttribute("muted","");const s=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});t.srcObject=s,t.onloadedmetadata=()=>{t.play();const a=document.createElement("canvas");a.width=t.videoWidth,a.height=t.videoHeight;const o=a.getContext("2d");o.drawImage(t,0,0,a.width,a.height),s.getTracks().forEach((e=>e.stop())),a.toBlob((t=>{e(t)}),"image/jpeg",.95)}}catch(s){console.error("Camera access error:",s),t(new Error("Failed to access camera. Please check permissions."))}})()}))}}var Hc=new Vc;class Jc{async generateSummary(e,t={length:"medium"}){try{const s=await ne.gpt.generateSummary(e,t);return s.data}catch(s){throw console.error("Summary generation error:",s),new Error("Failed to generate summary. Please try again.")}}async generateQuiz(e,t={difficulty:"medium",questionCount:5}){try{const s=await ne.gpt.generateQuiz(e,t);return s.data}catch(s){throw console.error("Quiz generation error:",s),new Error("Failed to generate quiz. Please try again.")}}async extractKeywords(e){try{const t=await ne.gpt.extractKeywords(e);return t.data}catch(t){throw console.error("Keyword extraction error:",t),new Error("Failed to extract keywords. Please try again.")}}async isAppropriateContent(e){const t=["inappropriate","offensive","harmful","illegal","explicit"],s=e.toLowerCase();return!t.some((e=>s.includes(e)))}}var Bc=new Jc;const Yc={notes:[],currentNote:null,isLoading:!1,error:null,tempImageData:null},Zc={getNotes:e=>e.notes,getCurrentNote:e=>e.currentNote,getRecentNotes:e=>e.notes.slice(0,5),isLoading:e=>e.isLoading,getError:e=>e.error,getTempImageData:e=>e.tempImageData},ed={async fetchNotes({commit:e}){try{e("SET_LOADING",!0);const t=await ne.getNotes();return e("SET_NOTES",t.data),t.data}catch(t){throw console.error("Fetch notes error:",t),e("SET_ERROR","Failed to fetch notes."),t}finally{e("SET_LOADING",!1)}},async fetchNote({commit:e},t){try{e("SET_LOADING",!0);const s=await ne.getNote(t);return e("SET_CURRENT_NOTE",s.data),s.data}catch(s){throw console.error("Fetch note error:",s),e("SET_ERROR","Failed to fetch note details."),s}finally{e("SET_LOADING",!1)}},async createNote({commit:e},t){try{e("SET_LOADING",!0);const s=await ne.createNote(t);return e("ADD_NOTE",s.data),s.data}catch(s){throw console.error("Create note error:",s),e("SET_ERROR","Failed to create note."),s}finally{e("SET_LOADING",!1)}},async updateNote({commit:e},{id:t,noteData:s}){try{e("SET_LOADING",!0);const a=await ne.updateNote(t,s);return e("UPDATE_NOTE",a.data),a.data}catch(a){throw console.error("Update note error:",a),e("SET_ERROR","Failed to update note."),a}finally{e("SET_LOADING",!1)}},async deleteNote({commit:e},t){try{e("SET_LOADING",!0),await ne.deleteNote(t),e("REMOVE_NOTE",t)}catch(s){throw console.error("Delete note error:",s),e("SET_ERROR","Failed to delete note."),s}finally{e("SET_LOADING",!1)}},async processImage({commit:e},t){try{e("SET_LOADING",!0);const s=await Hc.processImage(t);return e("SET_TEMP_IMAGE_DATA",{originalText:s.text,imagePath:s.image_path}),s}catch(s){throw console.error("Process image error:",s),e("SET_ERROR","Failed to process image."),s}finally{e("SET_LOADING",!1)}},async generateSummary({state:e,commit:t},s={length:"medium"}){try{if(!e.currentNote&&!e.tempImageData)throw new Error("No note data available for summarization.");t("SET_LOADING",!0);const a=e.currentNote?e.currentNote.originalText:e.tempImageData.originalText,o=await Bc.generateSummary(a,s);if(e.currentNote){const s={...e.currentNote,summary:o.summary};t("SET_CURRENT_NOTE",s)}return o}catch(a){throw console.error("Generate summary error:",a),t("SET_ERROR","Failed to generate summary."),a}finally{t("SET_LOADING",!1)}},async extractKeywords({state:e,commit:t}){try{if(!e.currentNote&&!e.tempImageData)throw new Error("No note data available for keyword extraction.");t("SET_LOADING",!0);const s=e.currentNote?e.currentNote.originalText:e.tempImageData.originalText,a=await Bc.extractKeywords(s);if(e.currentNote){const s={...e.currentNote,keywords:a.keywords};t("SET_CURRENT_NOTE",s)}return a}catch(s){throw console.error("Extract keywords error:",s),t("SET_ERROR","Failed to extract keywords."),s}finally{t("SET_LOADING",!1)}}},td={SET_NOTES(e,t){e.notes=t},SET_CURRENT_NOTE(e,t){e.currentNote=t},ADD_NOTE(e,t){e.notes.unshift(t)},UPDATE_NOTE(e,t){const s=e.notes.findIndex((e=>e.id===t.id));-1!==s&&e.notes.splice(s,1,t),e.currentNote&&e.currentNote.id===t.id&&(e.currentNote=t)},REMOVE_NOTE(e,t){e.notes=e.notes.filter((e=>e.id!==t)),e.currentNote&&e.currentNote.id===t&&(e.currentNote=null)},SET_LOADING(e,t){e.isLoading=t},SET_ERROR(e,t){e.error=t},SET_TEMP_IMAGE_DATA(e,t){e.tempImageData=t},CLEAR_TEMP_IMAGE_DATA(e){e.tempImageData=null}};var sd={namespaced:!0,state:Yc,getters:Zc,actions:ed,mutations:td};const ad={stats:{totalNotes:0,notesThisWeek:0,studyHours:0,studyHoursThisWeek:0,quizAverage:0,quizzesCompleted:0},weeklyActivity:[],subjects:[],recentActivity:[],goals:[],isLoading:!1,error:null},od={getStats:e=>e.stats,getWeeklyActivity:e=>e.weeklyActivity,getSubjects:e=>e.subjects,getRecentActivity:e=>e.recentActivity,getGoals:e=>e.goals,isLoading:e=>e.isLoading,getError:e=>e.error},rd={async fetchStats({commit:e}){try{e("SET_LOADING",!0);const t=await ne.progress.getStats();return e("SET_STATS",t.data),t.data}catch(t){throw console.error("Fetch stats error:",t),e("SET_ERROR","Failed to fetch progress statistics."),t}finally{e("SET_LOADING",!1)}},async fetchActivity({commit:e}){try{e("SET_LOADING",!0);const t=await ne.progress.getActivity();return e("SET_WEEKLY_ACTIVITY",t.data.weeklyActivity),e("SET_SUBJECTS",t.data.subjects),e("SET_RECENT_ACTIVITY",t.data.recentActivity),e("SET_GOALS",t.data.goals),t.data}catch(t){throw console.error("Fetch activity error:",t),e("SET_ERROR","Failed to fetch activity data."),t}finally{e("SET_LOADING",!1)}},async updateProgress({commit:e},t){try{e("SET_LOADING",!0);const s=await ne.progress.updateProgress(t);return"quiz"===t.type?e("UPDATE_QUIZ_STATS",t):"study"===t.type&&e("UPDATE_STUDY_HOURS",t),s.data}catch(s){throw console.error("Update progress error:",s),e("SET_ERROR","Failed to update progress."),s}finally{e("SET_LOADING",!1)}},async addGoal({commit:e},t){try{e("SET_LOADING",!0);const s={id:Date.now(),...t,progress:0};return e("ADD_GOAL",s),s}catch(s){throw console.error("Add goal error:",s),e("SET_ERROR","Failed to add goal."),s}finally{e("SET_LOADING",!1)}},async updateGoal({commit:e},{id:t,progress:s}){try{e("SET_LOADING",!0),e("UPDATE_GOAL_PROGRESS",{id:t,progress:s})}catch(a){throw console.error("Update goal error:",a),e("SET_ERROR","Failed to update goal."),a}finally{e("SET_LOADING",!1)}},async deleteGoal({commit:e},t){try{e("SET_LOADING",!0),e("REMOVE_GOAL",t)}catch(s){throw console.error("Delete goal error:",s),e("SET_ERROR","Failed to delete goal."),s}finally{e("SET_LOADING",!1)}}},ld={SET_STATS(e,t){e.stats=t},SET_WEEKLY_ACTIVITY(e,t){e.weeklyActivity=t},SET_SUBJECTS(e,t){e.subjects=t},SET_RECENT_ACTIVITY(e,t){e.recentActivity=t},SET_GOALS(e,t){e.goals=t},UPDATE_QUIZ_STATS(e,{score:t}){e.stats.quizzesCompleted++;const s=e.stats.quizAverage*(e.stats.quizzesCompleted-1);e.stats.quizAverage=Math.round((s+t)/e.stats.quizzesCompleted)},UPDATE_STUDY_HOURS(e,{hours:t}){e.stats.studyHours+=t,e.stats.studyHoursThisWeek+=t},ADD_GOAL(e,t){e.goals.push(t)},UPDATE_GOAL_PROGRESS(e,{id:t,progress:s}){const a=e.goals.find((e=>e.id===t));a&&(a.progress=s)},REMOVE_GOAL(e,t){e.goals=e.goals.filter((e=>e.id!==t))},SET_LOADING(e,t){e.isLoading=t},SET_ERROR(e,t){e.error=t}};var nd={namespaced:!0,state:ad,getters:od,actions:rd,mutations:ld};s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698);const id={isOnline:navigator.onLine,lastSync:null,connectionStatus:"connecting",loadingStates:new Map,errors:new Map,subscriptions:new Set,optimisticUpdates:[],theme:"dark",fontSize:16},cd={isLoading:e=>t=>e.loadingStates.get(t)||!1,getError:e=>t=>e.errors.get(t),hasError:e=>t=>e.errors.has(t),getConnectionStatus:e=>e.connectionStatus,isConnected:e=>e.isOnline&&"connected"===e.connectionStatus,getLastSync:e=>e.lastSync,getTheme:e=>e.theme,getFontSize:e=>e.fontSize,getCurrentTheme:e=>"system"===e.theme&&"undefined"!==typeof window?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.theme,getThemeState:e=>({theme:e.theme,fontSize:e.fontSize,currentTheme:"system"===e.theme&&"undefined"!==typeof window?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e.theme}),getThemeClasses:e=>{const t=!("undefined"===typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,s="dark"===e.theme||"system"===e.theme&&t;return{main:s?"bg-gray-900 text-white":"bg-gray-100 text-gray-900",header:s?"bg-gray-800":"bg-white border-b border-gray-200",sidebar:s?"bg-gray-800":"bg-gray-50 border-r border-gray-200",mainContent:s?"":"bg-gray-100",card:s?"bg-gray-800":"bg-white border border-gray-200",text:s?"text-white":"text-gray-900",secondaryText:s?"text-gray-400":"text-gray-600",input:s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900",button:s?"bg-gray-700 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-300"}},getFontSizeClasses:e=>{const t=e.fontSize;return{heading:t>=18?"text-xl":t>=16?"text-lg":"text-base",body:t>=16?"text-base":"text-sm",label:t>=16?"text-sm":"text-xs",small:"text-xs"}}},dd={SET_ONLINE_STATUS(e,t){e.isOnline=t,e.connectionStatus=t?"connected":"offline"},SET_CONNECTION_STATUS(e,t){e.connectionStatus=t},SET_LOADING(e,{key:t,loading:s}){s?e.loadingStates.set(t,!0):e.loadingStates.delete(t)},SET_ERROR(e,{key:t,error:s}){s?e.errors.set(t,{message:s.message||s,timestamp:new Date,details:s}):e.errors.delete(t)},CLEAR_ERROR(e,t){e.errors.delete(t)},CLEAR_ALL_ERRORS(e){e.errors.clear()},SET_LAST_SYNC(e,t){e.lastSync=t},ADD_SUBSCRIPTION(e,t){e.subscriptions.add(t)},REMOVE_SUBSCRIPTION(e,t){e.subscriptions.delete(t)},ADD_OPTIMISTIC_UPDATE(e,t){e.optimisticUpdates.push({...t,timestamp:new Date,id:Date.now()})},REMOVE_OPTIMISTIC_UPDATE(e,t){e.optimisticUpdates=e.optimisticUpdates.filter((e=>e.id!==t))},CLEAR_OPTIMISTIC_UPDATES(e){e.optimisticUpdates=[]},SET_THEME(e,t){e.theme=t},SET_FONT_SIZE(e,t){e.fontSize=t}},ud={setOnlineStatus({commit:e},t){e("SET_ONLINE_STATUS",t)},setConnectionStatus({commit:e},t){e("SET_CONNECTION_STATUS",t)},setLoading({commit:e},t){e("SET_LOADING",t)},setError({commit:e},t){e("SET_ERROR",t)},clearError({commit:e},t){e("CLEAR_ERROR",t)},clearAllErrors({commit:e}){e("CLEAR_ALL_ERRORS")},updateLastSync({commit:e}){e("SET_LAST_SYNC",new Date)},addSubscription({commit:e},t){e("ADD_SUBSCRIPTION",t)},removeSubscription({commit:e},t){e("REMOVE_SUBSCRIPTION",t)},addOptimisticUpdate({commit:e},t){e("ADD_OPTIMISTIC_UPDATE",t)},removeOptimisticUpdate({commit:e},t){e("REMOVE_OPTIMISTIC_UPDATE",t)},clearOptimisticUpdates({commit:e}){e("CLEAR_OPTIMISTIC_UPDATES")},setTheme({commit:e,dispatch:t},s){e("SET_THEME",s),t("applyTheme",s),t("saveThemeSettings")},setFontSize({commit:e,dispatch:t},s){e("SET_FONT_SIZE",s),t("saveThemeSettings")},applyTheme(e){if("undefined"===typeof window||"undefined"===typeof document)return;const t=document.documentElement,s=document.body;if("dark"===e)t.classList.add("dark"),s.classList.add("dark");else if("light"===e)t.classList.remove("dark"),s.classList.remove("dark");else if("system"===e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.toggle("dark",e),s.classList.toggle("dark",e)}},saveThemeSettings({state:e}){const t={theme:e.theme,fontSize:e.fontSize};localStorage.setItem("smartscribe_theme_settings",JSON.stringify(t))},loadThemeSettings({commit:e,dispatch:t}){const s=localStorage.getItem("smartscribe_theme_settings");if(s)try{const a=JSON.parse(s);a.theme&&e("SET_THEME",a.theme),a.fontSize&&e("SET_FONT_SIZE",a.fontSize),t("applyTheme",a.theme||"dark")}catch(a){console.error("Error loading theme settings:",a)}else t("applyTheme","dark")},initialize({dispatch:e}){"undefined"!==typeof window&&(window.addEventListener("online",(()=>{e("setOnlineStatus",!0),e("setConnectionStatus","connected")})),window.addEventListener("offline",(()=>{e("setOnlineStatus",!1),e("setConnectionStatus","offline")})),e("setOnlineStatus",navigator.onLine),e("loadThemeSettings"))},cleanup({state:e,dispatch:t}){e.subscriptions.forEach((e=>{"function"===typeof e.cleanup&&e.cleanup()})),t("clearAllErrors"),t("clearOptimisticUpdates")}};var gd={namespaced:!0,state:id,getters:cd,mutations:dd,actions:ud},md=(0,n.y$)({modules:{auth:$c,notes:sd,progress:nd,app:gd}}),pd=s(6060),fd=s(5308),bd=s(8979),xd=s(8122);pd.Yv.add(bd.v02,bd.LBj,bd.gK3,bd.dB,bd.z$e,bd.rwq,bd.MT7,bd.o1d,bd.hSh,bd.OtC,bd.jPR,bd.GRI,bd.nET,bd.wRm,bd.QLR,bd.MjD,bd.vaG,bd.yy,bd.uAg,bd.e74,bd.UBk,bd.DX_,bd.SGM,bd.a$,bd.h8M,bd.pvD,bd.z1G,bd.tUE,bd.nWR,xd.HQ1,xd.aUl,xd.QV6,xd.Vz1,xd.Kjv,xd.FjH,xd.qKs,bd.lRx,bd.pS3,bd.k6j,bd.X46,bd.Jt$,bd.JmV,bd.dmS,bd.ReK,bd.ecg,bd.yLS,bd.y_8,bd.DW4,bd.rhE);const yd=document.getElementById("app");yd&&yd.__vue_app__&&yd.__vue_app__.unmount();const hd=(0,a.Ef)(u);hd.use(md),hd.use(Kc),hd.component("font-awesome-icon",fd.gc);try{md.dispatch("app/initialize").catch((()=>{}))}catch(vd){}hd.mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,r){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],r=e[d][2];for(var n=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,l=a[0],n=a[1],i=a[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var d=i(s)}for(t&&t(a);c<l.length;c++)r=l[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self["webpackChunksmartscribe_newnew"]=self["webpackChunksmartscribe_newnew"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(3449)}));a=s.O(a)})();
//# sourceMappingURL=app.727789cc.js.map